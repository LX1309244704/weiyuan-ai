/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/canvas/page";
exports.ids = ["app/canvas/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fcanvas%2Fpage&page=%2Fcanvas%2Fpage&appPaths=%2Fcanvas%2Fpage&pagePath=private-next-app-dir%2Fcanvas%2Fpage.tsx&appDir=%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fcanvas%2Fpage&page=%2Fcanvas%2Fpage&appPaths=%2Fcanvas%2Fpage&pagePath=private-next-app-dir%2Fcanvas%2Fpage.tsx&appDir=%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'canvas',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/canvas/page.tsx */ \"(rsc)/./app/canvas/page.tsx\")), \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/Users/lixin/Desktop/weiyuan-ai/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/canvas/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/canvas/page\",\n        pathname: \"/canvas\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZjYW52YXMlMkZwYWdlJnBhZ2U9JTJGY2FudmFzJTJGcGFnZSZhcHBQYXRocz0lMkZjYW52YXMlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGY2FudmFzJTJGcGFnZS50c3gmYXBwRGlyPSUyRlVzZXJzJTJGbGl4aW4lMkZEZXNrdG9wJTJGd2VpeXVhbi1haSUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZsaXhpbiUyRkRlc2t0b3AlMkZ3ZWl5dWFuLWFpJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxzQkFBc0I7QUFDaUU7QUFDckM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QixzSkFBd0Y7QUFDL0c7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsNElBQW1GO0FBQzVHLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWl5dWFuLWFpLz8yYWQyIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ2NhbnZhcycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXhpbi9EZXNrdG9wL3dlaXl1YW4tYWkvYXBwL2NhbnZhcy9wYWdlLnRzeFwiKSwgXCIvVXNlcnMvbGl4aW4vRGVza3RvcC93ZWl5dWFuLWFpL2FwcC9jYW52YXMvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXhpbi9EZXNrdG9wL3dlaXl1YW4tYWkvYXBwL2xheW91dC50c3hcIiksIFwiL1VzZXJzL2xpeGluL0Rlc2t0b3Avd2VpeXVhbi1haS9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL1VzZXJzL2xpeGluL0Rlc2t0b3Avd2VpeXVhbi1haS9hcHAvY2FudmFzL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvY2FudmFzL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvY2FudmFzL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2NhbnZhc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fcanvas%2Fpage&page=%2Fcanvas%2Fpage&appPaths=%2Fcanvas%2Fpage&pagePath=private-next-app-dir%2Fcanvas%2Fpage.tsx&appDir=%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp%2Fcanvas%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp%2Fcanvas%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/canvas/page.tsx */ \"(ssr)/./app/canvas/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbGl4aW4lMkZEZXNrdG9wJTJGd2VpeXVhbi1haSUyRmFwcCUyRmNhbnZhcyUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSxzSkFBd0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWl5dWFuLWFpLz8xZmNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2xpeGluL0Rlc2t0b3Avd2VpeXVhbi1haS9hcHAvY2FudmFzL3BhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp%2Fcanvas%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fcomponents%2FClientThemeProvider.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fcomponents%2FClientThemeProvider.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ClientThemeProvider.tsx */ \"(ssr)/./components/ClientThemeProvider.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbGl4aW4lMkZEZXNrdG9wJTJGd2VpeXVhbi1haSUyRmFwcCUyRmdsb2JhbHMuY3NzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbGl4aW4lMkZEZXNrdG9wJTJGd2VpeXVhbi1haSUyRmNvbXBvbmVudHMlMkZDbGllbnRUaGVtZVByb3ZpZGVyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLG9MQUFvSSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlaXl1YW4tYWkvPzY5NjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJkZWZhdWx0XCJdICovIFwiL1VzZXJzL2xpeGluL0Rlc2t0b3Avd2VpeXVhbi1haS9jb21wb25lbnRzL0NsaWVudFRoZW1lUHJvdmlkZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fcomponents%2FClientThemeProvider.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGbGl4aW4lMkZEZXNrdG9wJTJGd2VpeXVhbi1haSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmFwcC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZsaXhpbiUyRkRlc2t0b3AlMkZ3ZWl5dWFuLWFpJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXBhZ2UuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZsaXhpbiUyRkRlc2t0b3AlMkZ3ZWl5dWFuLWFpJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZsaXhpbiUyRkRlc2t0b3AlMkZ3ZWl5dWFuLWFpJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmxpeGluJTJGRGVza3RvcCUyRndlaXl1YW4tYWklMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZub3QtZm91bmQtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZsaXhpbiUyRkRlc2t0b3AlMkZ3ZWl5dWFuLWFpJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQTJIO0FBQzNIO0FBQ0Esb09BQTRIO0FBQzVIO0FBQ0EsME9BQStIO0FBQy9IO0FBQ0Esd09BQThIO0FBQzlIO0FBQ0Esa1BBQW1JO0FBQ25JO0FBQ0Esc1FBQTZJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VpeXVhbi1haS8/MmZkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXhpbi9EZXNrdG9wL3dlaXl1YW4tYWkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvbGl4aW4vRGVza3RvcC93ZWl5dWFuLWFpL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXhpbi9EZXNrdG9wL3dlaXl1YW4tYWkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2xpeGluL0Rlc2t0b3Avd2VpeXVhbi1haS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXhpbi9EZXNrdG9wL3dlaXl1YW4tYWkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9saXhpbi9EZXNrdG9wL3dlaXl1YW4tYWkvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./app/canvas/page.tsx":
/*!*****************************!*\
  !*** ./app/canvas/page.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CanvasPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_CanvasToolbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/CanvasToolbar */ \"(ssr)/./components/CanvasToolbar.tsx\");\n/* harmony import */ var _components_SelectionPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/SelectionPanel */ \"(ssr)/./components/SelectionPanel.tsx\");\n/* harmony import */ var _components_ChatPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/ChatPanel */ \"(ssr)/./components/ChatPanel.tsx\");\n/* harmony import */ var _stores_userStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/stores/userStore */ \"(ssr)/./stores/userStore.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n// 动态导入 fabric 于客户端（避免 SSR 环境下 undefined）\n\n\n\n\nfunction CanvasPage() {\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [fabricCanvas, setFabricCanvas] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedArea, setSelectedArea] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const chatPanelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fabricNSRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { theme } = (0,_stores_userStore__WEBPACK_IMPORTED_MODULE_5__.useUserStore)();\n    const [contextMenu, setContextMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        visible: false,\n        x: 0,\n        y: 0\n    });\n    // 初始化 Fabric 画布\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let disposed = false;\n        let handleResize = null;\n        let canvasInstance = null;\n        (async ()=>{\n            try {\n                const mod = await __webpack_require__.e(/*! import() */ \"vendor-chunks/fabric\").then(__webpack_require__.bind(__webpack_require__, /*! fabric */ \"(ssr)/./node_modules/fabric/dist/index.min.mjs\"));\n                const f = mod?.fabric || mod;\n                // 将命名空间挂到 window，便于其它组件（已移除静态导入）直接使用 window.fabric\n                if (false) {}\n                fabricNSRef.current = f;\n                if (!canvasRef.current || disposed) return;\n                const c = new f.Canvas(canvasRef.current, {\n                    backgroundColor: theme === \"dark\" ? \"#1f2937\" : \"#ffffff\",\n                    selection: true,\n                    preserveObjectStacking: true\n                });\n                // 画板铺满整个屏幕\n                c.setWidth(window.innerWidth);\n                c.setHeight(window.innerHeight);\n                c.isDrawingMode = true;\n                c.freeDrawingBrush = new f.PencilBrush(c);\n                c.freeDrawingBrush.width = 3;\n                c.freeDrawingBrush.color = \"#000000\";\n                // 为每个添加的对象自动生成唯一ID\n                c.on(\"object:added\", (e)=>{\n                    const obj = e.target;\n                    if (obj && !obj.id) {\n                        obj.id = `obj-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n                    }\n                });\n                setFabricCanvas(c);\n                canvasInstance = c;\n                // 将canvas对象挂载到window，便于其他组件访问\n                if (false) {}\n                handleResize = ()=>{\n                    c.setWidth(window.innerWidth);\n                    c.setHeight(window.innerHeight);\n                    c.renderAll();\n                };\n                window.addEventListener(\"resize\", handleResize);\n            } catch (err) {\n                console.error(\"Failed to initialize fabric:\", err);\n            }\n        })();\n        return ()=>{\n            disposed = true;\n            if (handleResize) {\n                window.removeEventListener(\"resize\", handleResize);\n            }\n            if (canvasInstance) {\n                try {\n                    canvasInstance.dispose();\n                } catch  {}\n            }\n        };\n    }, []);\n    // 监听主题变化，更新画布背景色\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!fabricCanvas) return;\n        const backgroundColor = theme === \"dark\" ? \"#1f2937\" : \"#ffffff\";\n        // 使用更兼容的方式设置背景色\n        fabricCanvas.backgroundColor = backgroundColor;\n        fabricCanvas.renderAll();\n    }, [\n        theme,\n        fabricCanvas\n    ]);\n    // 区域选择（矩形拖拽）与截图捕获\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!fabricCanvas) return;\n        let isSelecting = false;\n        let startX = 0;\n        let startY = 0;\n        let selectionRect = null;\n        const onMouseDown = (opt)=>{\n            const evt = opt.e;\n            // 仅在按住 Shift 时进行矩形选择，避免与其他工具冲突\n            if (!evt.shiftKey) return;\n            isSelecting = true;\n            const pointer = fabricCanvas.getPointer(evt);\n            startX = pointer.x;\n            startY = pointer.y;\n            const F = fabricNSRef.current;\n            selectionRect = new F.Rect({\n                left: startX,\n                top: startY,\n                width: 0,\n                height: 0,\n                fill: \"rgba(59,130,246,0.08)\",\n                stroke: \"#3b82f6\",\n                strokeWidth: 1,\n                selectable: false,\n                evented: false\n            });\n            fabricCanvas.add(selectionRect);\n        };\n        const onMouseMove = (opt)=>{\n            if (!isSelecting || !selectionRect) return;\n            const evt = opt.e;\n            const pointer = fabricCanvas.getPointer(evt);\n            const width = pointer.x - startX;\n            const height = pointer.y - startY;\n            selectionRect.set({\n                width: Math.abs(width),\n                height: Math.abs(height),\n                left: width < 0 ? pointer.x : startX,\n                top: height < 0 ? pointer.y : startY\n            });\n            fabricCanvas.renderAll();\n        };\n        const onMouseUp = (opt)=>{\n            if (!isSelecting || !selectionRect) return;\n            const evt = opt.e;\n            isSelecting = false;\n            // 记录屏幕坐标用于 SelectionPanel 定位\n            const screenPosition = {\n                x: evt.clientX,\n                y: evt.clientY\n            };\n            const mousePosition = {\n                x: selectionRect.left || 0,\n                y: selectionRect.top || 0\n            };\n            setSelectedArea({\n                rect: selectionRect,\n                mousePosition,\n                screenPosition\n            });\n        // 保留矩形用于参考；若不需要可在此处移除\n        // fabricCanvas.remove(selectionRect); selectionRect = null\n        };\n        fabricCanvas.on(\"mouse:down\", onMouseDown);\n        fabricCanvas.on(\"mouse:move\", onMouseMove);\n        fabricCanvas.on(\"mouse:up\", onMouseUp);\n        return ()=>{\n            fabricCanvas.off(\"mouse:down\", onMouseDown);\n            fabricCanvas.off(\"mouse:move\", onMouseMove);\n            fabricCanvas.off(\"mouse:up\", onMouseUp);\n        };\n    }, [\n        fabricCanvas\n    ]);\n    // 从所选区域截图到 base64（高质量）\n    const handleCaptureArea = async ()=>{\n        if (!fabricCanvas || !selectedArea) return null;\n        const rect = selectedArea.rect;\n        const left = rect.left ?? 0;\n        const top = rect.top ?? 0;\n        const width = rect.width ?? 0;\n        const height = rect.height ?? 0;\n        if (width <= 2 || height <= 2) return null;\n        // 使用 toDataURLWithMultiplier 提升质量\n        const dataUrl = fabricCanvas.toDataURL({\n            format: \"png\",\n            quality: 1.0,\n            left,\n            top,\n            width,\n            height,\n            multiplier: 2\n        });\n        return dataUrl;\n    };\n    // 供 SelectionPanel 将截图传给 ChatPanel 的桥接\n    const handleReceiveScreenshot = (imageData, prompt)=>{\n        console.log(\"CanvasPage: 接收到截图，准备传递给ChatPanel\", {\n            imageDataLength: imageData?.length,\n            prompt: prompt,\n            chatPanelRefExists: !!chatPanelRef.current\n        });\n        chatPanelRef.current?.handleReceiveScreenshot(imageData, prompt);\n    };\n    // 检查ChatPanel组件是否正常加载\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"CanvasPage: ChatPanel组件初始化检查\", {\n            chatPanelRef: chatPanelRef.current,\n            componentMounted: true\n        });\n    }, []);\n    // AI 生成占位逻辑（与 ChatPanel 的模拟一致）\n    const handleGenerateImage = async (prompt)=>{\n        // 这里可对接真实后端/模型；先由 ChatPanel 自身模拟\n        console.log(\"请求生成图片:\", prompt);\n    };\n    const handleGenerateVideo = async (prompt)=>{\n        console.log(\"请求生成视频:\", prompt);\n    };\n    // 清除框选状态\n    const handleClearSelection = ()=>{\n        setSelectedArea(null);\n        // 如果有框选矩形在画布上，也移除它\n        if (fabricCanvas && selectedArea?.rect) {\n            fabricCanvas.remove(selectedArea.rect);\n        }\n    };\n    // 右键菜单处理\n    const handleContextMenu = (e)=>{\n        e.preventDefault();\n        if (!fabricCanvas) return;\n        const activeObject = fabricCanvas.getActiveObject();\n        if (activeObject) {\n            setContextMenu({\n                visible: true,\n                x: e.clientX,\n                y: e.clientY\n            });\n        }\n    };\n    // 关闭右键菜单\n    const handleCloseContextMenu = ()=>{\n        setContextMenu({\n            visible: false,\n            x: 0,\n            y: 0\n        });\n    };\n    // 层级操作函数\n    // 手动层级管理备用方案\n    const manualLayerManagement = (operation)=>{\n        if (!fabricCanvas) return;\n        const activeObject = fabricCanvas.getActiveObject();\n        if (!activeObject) return;\n        console.log(\"手动层级管理 - 操作:\", operation, \"活动对象:\", activeObject);\n        const objects = fabricCanvas.getObjects();\n        const currentIndex = objects.indexOf(activeObject);\n        if (currentIndex === -1) {\n            console.log(\"手动层级管理 - 对象不在画布中\");\n            return;\n        }\n        console.log(\"手动层级管理 - 当前索引:\", currentIndex, \"对象总数:\", objects.length);\n        // 移除当前对象\n        fabricCanvas.remove(activeObject);\n        // 使用更兼容的方法重新添加对象到指定位置\n        switch(operation){\n            case \"bringToFront\":\n                // 置顶：直接添加到画布（默认添加到顶部）\n                fabricCanvas.add(activeObject);\n                console.log(\"手动层级管理 - 置顶完成\");\n                break;\n            case \"sendToBack\":\n                // 置底：先移除所有对象，然后按顺序重新添加\n                const allObjects = fabricCanvas.getObjects();\n                fabricCanvas.clear();\n                // 先添加当前对象（置底）\n                fabricCanvas.add(activeObject);\n                // 然后添加其他对象\n                allObjects.forEach((obj)=>{\n                    if (obj !== activeObject) {\n                        fabricCanvas.add(obj);\n                    }\n                });\n                console.log(\"手动层级管理 - 置底完成\");\n                break;\n            case \"bringForward\":\n                // 上移一层：与后一个对象交换位置\n                if (currentIndex < objects.length - 1) {\n                    const nextObject = objects[currentIndex + 1];\n                    fabricCanvas.remove(nextObject);\n                    fabricCanvas.add(activeObject);\n                    fabricCanvas.add(nextObject);\n                    console.log(\"手动层级管理 - 上移一层完成\");\n                } else {\n                    console.log(\"手动层级管理 - 已经在最顶层，无法上移\");\n                }\n                break;\n            case \"sendBackward\":\n                // 下移一层：与前一个对象交换位置\n                if (currentIndex > 0) {\n                    const prevObject = objects[currentIndex - 1];\n                    fabricCanvas.remove(prevObject);\n                    fabricCanvas.add(activeObject);\n                    fabricCanvas.add(prevObject);\n                    console.log(\"手动层级管理 - 下移一层完成\");\n                } else {\n                    console.log(\"手动层级管理 - 已经在最底层，无法下移\");\n                }\n                break;\n        }\n        // 重新选中对象\n        fabricCanvas.setActiveObject(activeObject);\n        // 重新渲染画布\n        fabricCanvas.renderAll();\n        console.log(\"手动层级管理 - 操作完成\");\n    };\n    const handleBringToFront = ()=>{\n        if (!fabricCanvas) return;\n        const activeObject = fabricCanvas.getActiveObject();\n        if (activeObject) {\n            try {\n                // 优先使用Fabric.js原生方法\n                if (fabricCanvas.bringToFront) {\n                    fabricCanvas.bringToFront(activeObject);\n                } else {\n                    manualLayerManagement(\"bringToFront\");\n                }\n                fabricCanvas.renderAll();\n                handleCloseContextMenu();\n            } catch (error) {\n                console.error(\"置顶操作失败:\", error);\n                manualLayerManagement(\"bringToFront\");\n            }\n        }\n    };\n    const handleSendToBack = ()=>{\n        if (!fabricCanvas) return;\n        const activeObject = fabricCanvas.getActiveObject();\n        if (activeObject) {\n            try {\n                if (fabricCanvas.sendToBack) {\n                    fabricCanvas.sendToBack(activeObject);\n                } else {\n                    manualLayerManagement(\"sendToBack\");\n                }\n                fabricCanvas.renderAll();\n                handleCloseContextMenu();\n            } catch (error) {\n                console.error(\"置底操作失败:\", error);\n                manualLayerManagement(\"sendToBack\");\n            }\n        }\n    };\n    const handleBringForward = ()=>{\n        if (!fabricCanvas) return;\n        const activeObject = fabricCanvas.getActiveObject();\n        if (activeObject) {\n            try {\n                if (fabricCanvas.bringForward) {\n                    fabricCanvas.bringForward(activeObject);\n                } else {\n                    manualLayerManagement(\"bringForward\");\n                }\n                fabricCanvas.renderAll();\n                handleCloseContextMenu();\n            } catch (error) {\n                console.error(\"上移一层操作失败:\", error);\n                manualLayerManagement(\"bringForward\");\n            }\n        }\n    };\n    const handleSendBackward = ()=>{\n        if (!fabricCanvas) return;\n        const activeObject = fabricCanvas.getActiveObject();\n        if (activeObject) {\n            try {\n                if (fabricCanvas.sendBackwards) {\n                    fabricCanvas.sendBackwards(activeObject);\n                } else {\n                    manualLayerManagement(\"sendBackward\");\n                }\n                fabricCanvas.renderAll();\n                handleCloseContextMenu();\n            } catch (error) {\n                console.error(\"下移一层操作失败:\", error);\n                manualLayerManagement(\"sendBackward\");\n            }\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-screen bg-gray-50 dark:bg-gray-900 relative\",\n        onClick: handleCloseContextMenu,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute inset-0\",\n                onContextMenu: handleContextMenu,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white dark:bg-gray-800 w-full h-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                        lineNumber: 427,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                    lineNumber: 426,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                lineNumber: 425,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-0 left-0 right-0 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CanvasToolbar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    canvas: fabricCanvas,\n                    onCaptureArea: handleCaptureArea,\n                    selectedArea: selectedArea ? selectedArea.rect : null\n                }, void 0, false, {\n                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                    lineNumber: 433,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                lineNumber: 432,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SelectionPanel__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                selectedArea: selectedArea,\n                onGenerateImage: handleGenerateImage,\n                onGenerateVideo: handleGenerateVideo,\n                onCaptureArea: handleCaptureArea,\n                onReceiveScreenshot: handleReceiveScreenshot,\n                onClearSelection: handleClearSelection\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                lineNumber: 441,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                ref: chatPanelRef,\n                onCaptureArea: handleCaptureArea,\n                onReceiveScreenshot: handleReceiveScreenshot\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                lineNumber: 451,\n                columnNumber: 7\n            }, this),\n            contextMenu.visible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50\",\n                style: {\n                    left: contextMenu.x,\n                    top: contextMenu.y\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2\",\n                            children: \"层级操作\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                            lineNumber: 464,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBringToFront,\n                                    className: \"w-full text-left px-3 py-1 text-xs hover:bg-gray-100 dark:hover:bg-gray-700 rounded\",\n                                    children: \"置顶\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                                    lineNumber: 466,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSendToBack,\n                                    className: \"w-full text-left px-3 py-1 text-xs hover:bg-gray-100 dark:hover:bg-gray-700 rounded\",\n                                    children: \"置底\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                                    lineNumber: 472,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleBringForward,\n                                    className: \"w-full text-left px-3 py-1 text-xs hover:bg-gray-100 dark:hover:bg-gray-700 rounded\",\n                                    children: \"上移一层\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                                    lineNumber: 478,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleSendBackward,\n                                    className: \"w-full text-left px-3 py-1 text-xs hover:bg-gray-100 dark:hover:bg-gray-700 rounded\",\n                                    children: \"下移一层\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                                    lineNumber: 484,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                            lineNumber: 465,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                    lineNumber: 463,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n                lineNumber: 459,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx\",\n        lineNumber: 423,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDVztvQ0FDQ1YsU0FBU1Y7b0NBQ1RTLFdBQVU7OENBQ1g7Ozs7Ozs4Q0FHRCw4REFBQ1c7b0NBQ0NWLFNBQVNSO29DQUNUTyxXQUFVOzhDQUNYOzs7Ozs7OENBR0QsOERBQUNXO29DQUNDVixTQUFTTjtvQ0FDVEssV0FBVTs4Q0FDWDs7Ozs7OzhDQUdELDhEQUFDVztvQ0FDQ1YsU0FBU0o7b0NBQ1RHLFdBQVU7OENBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWl5dWFuLWFpLy4vYXBwL2NhbnZhcy9wYWdlLnRzeD8zNGU3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbiAvLyDliqjmgIHlr7zlhaUgZmFicmljIOS6juWuouaIt+err++8iOmBv+WFjSBTU1Ig546v5aKD5LiLIHVuZGVmaW5lZO+8iVxuaW1wb3J0IENhbnZhc1Rvb2xiYXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9DYW52YXNUb29sYmFyJ1xuaW1wb3J0IFNlbGVjdGlvblBhbmVsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvU2VsZWN0aW9uUGFuZWwnXG5pbXBvcnQgQ2hhdFBhbmVsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ2hhdFBhbmVsJ1xuaW1wb3J0IHsgdXNlVXNlclN0b3JlIH0gZnJvbSAnQC9zdG9yZXMvdXNlclN0b3JlJ1xuXG50eXBlIFNlbGVjdGlvbkRhdGEgPSB7XG4gIHJlY3Q6IGFueVxuICBtb3VzZVBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1cbiAgc2NyZWVuUG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYW52YXNQYWdlKCkge1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQgfCBudWxsPihudWxsKVxuICBjb25zdCBbZmFicmljQ2FudmFzLCBzZXRGYWJyaWNDYW52YXNdID0gdXNlU3RhdGU8YW55IHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3NlbGVjdGVkQXJlYSwgc2V0U2VsZWN0ZWRBcmVhXSA9IHVzZVN0YXRlPFNlbGVjdGlvbkRhdGEgfCBudWxsPihudWxsKVxuICBjb25zdCBjaGF0UGFuZWxSZWYgPSB1c2VSZWY8eyBoYW5kbGVSZWNlaXZlU2NyZWVuc2hvdDogKGltYWdlRGF0YTogc3RyaW5nLCBwcm9tcHQ6IHN0cmluZykgPT4gdm9pZCB9IHwgbnVsbD4obnVsbClcbiAgY29uc3QgZmFicmljTlNSZWYgPSB1c2VSZWY8YW55PihudWxsKVxuICBjb25zdCB7IHRoZW1lIH0gPSB1c2VVc2VyU3RvcmUoKVxuICBjb25zdCBbY29udGV4dE1lbnUsIHNldENvbnRleHRNZW51XSA9IHVzZVN0YXRlPHsgdmlzaWJsZTogYm9vbGVhbjsgeDogbnVtYmVyOyB5OiBudW1iZXIgfT4oeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCB9KVxuXG4gIC8vIOWIneWni+WMliBGYWJyaWMg55S75biDXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGRpc3Bvc2VkID0gZmFsc2VcbiAgICBsZXQgaGFuZGxlUmVzaXplOiAoKHRoaXM6IFdpbmRvdywgZXY6IFVJRXZlbnQpID0+IGFueSkgfCBudWxsID0gbnVsbFxuICAgIGxldCBjYW52YXNJbnN0YW5jZTogYW55ID0gbnVsbFxuXG4gICAgOyhhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtb2Q6IGFueSA9IGF3YWl0IGltcG9ydCgnZmFicmljJylcbiAgICAgICAgY29uc3QgZiA9IG1vZD8uZmFicmljIHx8IG1vZFxuICAgICAgICAvLyDlsIblkb3lkI3nqbrpl7TmjILliLAgd2luZG9377yM5L6/5LqO5YW25a6D57uE5Lu277yI5bey56e76Zmk6Z2Z5oCB5a+85YWl77yJ55u05o6l5L2/55SoIHdpbmRvdy5mYWJyaWNcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgOyh3aW5kb3cgYXMgYW55KS5mYWJyaWMgPSBmXG4gICAgICAgIH1cbiAgICAgICAgZmFicmljTlNSZWYuY3VycmVudCA9IGZcbiAgICAgICAgaWYgKCFjYW52YXNSZWYuY3VycmVudCB8fCBkaXNwb3NlZCkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgYyA9IG5ldyBmLkNhbnZhcyhjYW52YXNSZWYuY3VycmVudCwge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUgPT09ICdkYXJrJyA/ICcjMWYyOTM3JyA6ICcjZmZmZmZmJyxcbiAgICAgICAgICBzZWxlY3Rpb246IHRydWUsXG4gICAgICAgICAgcHJlc2VydmVPYmplY3RTdGFja2luZzogdHJ1ZVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIOeUu+adv+mTuua7oeaVtOS4quWxj+W5lVxuICAgICAgICBjLnNldFdpZHRoKHdpbmRvdy5pbm5lcldpZHRoKVxuICAgICAgICBjLnNldEhlaWdodCh3aW5kb3cuaW5uZXJIZWlnaHQpXG5cbiAgICAgICAgYy5pc0RyYXdpbmdNb2RlID0gdHJ1ZVxuICAgICAgICBjLmZyZWVEcmF3aW5nQnJ1c2ggPSBuZXcgZi5QZW5jaWxCcnVzaChjKVxuICAgICAgICBjLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSAzXG4gICAgICAgIGMuZnJlZURyYXdpbmdCcnVzaC5jb2xvciA9ICcjMDAwMDAwJ1xuXG4gICAgICAgIC8vIOS4uuavj+S4qua3u+WKoOeahOWvueixoeiHquWKqOeUn+aIkOWUr+S4gElEXG4gICAgICAgIGMub24oJ29iamVjdDphZGRlZCcsIChlOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBvYmogPSBlLnRhcmdldFxuICAgICAgICAgIGlmIChvYmogJiYgIW9iai5pZCkge1xuICAgICAgICAgICAgb2JqLmlkID0gYG9iai0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgc2V0RmFicmljQ2FudmFzKGMpXG4gICAgICAgIGNhbnZhc0luc3RhbmNlID0gY1xuICAgICAgICBcbiAgICAgICAgLy8g5bCGY2FudmFz5a+56LGh5oyC6L295Yiwd2luZG9377yM5L6/5LqO5YW25LuW57uE5Lu26K6/6ZeuXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIDsod2luZG93IGFzIGFueSkuZmFicmljQ2FudmFzID0gY1xuICAgICAgICB9XG5cbiAgICAgICAgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgICAgIGMuc2V0V2lkdGgod2luZG93LmlubmVyV2lkdGgpXG4gICAgICAgICAgYy5zZXRIZWlnaHQod2luZG93LmlubmVySGVpZ2h0KVxuICAgICAgICAgIGMucmVuZGVyQWxsKClcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGZhYnJpYzonLCBlcnIpXG4gICAgICB9XG4gICAgfSkoKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRpc3Bvc2VkID0gdHJ1ZVxuICAgICAgaWYgKGhhbmRsZVJlc2l6ZSkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKVxuICAgICAgfVxuICAgICAgaWYgKGNhbnZhc0luc3RhbmNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2FudmFzSW5zdGFuY2UuZGlzcG9zZSgpXG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIOebkeWQrOS4u+mimOWPmOWMlu+8jOabtOaWsOeUu+W4g+iDjOaZr+iJslxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZmFicmljQ2FudmFzKSByZXR1cm5cbiAgICBcbiAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSB0aGVtZSA9PT0gJ2RhcmsnID8gJyMxZjI5MzcnIDogJyNmZmZmZmYnXG4gICAgLy8g5L2/55So5pu05YW85a6555qE5pa55byP6K6+572u6IOM5pmv6ImyXG4gICAgZmFicmljQ2FudmFzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvclxuICAgIGZhYnJpY0NhbnZhcy5yZW5kZXJBbGwoKVxuICB9LCBbdGhlbWUsIGZhYnJpY0NhbnZhc10pXG5cbiAgLy8g5Yy65Z+f6YCJ5oup77yI55+p5b2i5ouW5ou977yJ5LiO5oiq5Zu+5o2V6I63XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFmYWJyaWNDYW52YXMpIHJldHVyblxuXG4gICAgbGV0IGlzU2VsZWN0aW5nID0gZmFsc2VcbiAgICBsZXQgc3RhcnRYID0gMFxuICAgIGxldCBzdGFydFkgPSAwXG4gICAgbGV0IHNlbGVjdGlvblJlY3Q6IGFueSB8IG51bGwgPSBudWxsXG5cbiAgICBjb25zdCBvbk1vdXNlRG93biA9IChvcHQ6IGFueSkgPT4ge1xuICAgICAgY29uc3QgZXZ0ID0gb3B0LmUgYXMgTW91c2VFdmVudFxuICAgICAgLy8g5LuF5Zyo5oyJ5L2PIFNoaWZ0IOaXtui/m+ihjOefqeW9oumAieaLqe+8jOmBv+WFjeS4juWFtuS7luW3peWFt+WGsueqgVxuICAgICAgaWYgKCFldnQuc2hpZnRLZXkpIHJldHVyblxuXG4gICAgICBpc1NlbGVjdGluZyA9IHRydWVcbiAgICAgIGNvbnN0IHBvaW50ZXIgPSBmYWJyaWNDYW52YXMuZ2V0UG9pbnRlcihldnQpXG4gICAgICBzdGFydFggPSBwb2ludGVyLnhcbiAgICAgIHN0YXJ0WSA9IHBvaW50ZXIueVxuXG4gICAgICBjb25zdCBGID0gZmFicmljTlNSZWYuY3VycmVudFxuICAgICAgc2VsZWN0aW9uUmVjdCA9IG5ldyBGLlJlY3Qoe1xuICAgICAgICBsZWZ0OiBzdGFydFgsXG4gICAgICAgIHRvcDogc3RhcnRZLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICBmaWxsOiAncmdiYSg1OSwxMzAsMjQ2LDAuMDgpJyxcbiAgICAgICAgc3Ryb2tlOiAnIzNiODJmNicsXG4gICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcbiAgICAgICAgZXZlbnRlZDogZmFsc2VcbiAgICAgIH0pXG4gICAgICBmYWJyaWNDYW52YXMuYWRkKHNlbGVjdGlvblJlY3QpXG4gICAgfVxuXG4gICAgY29uc3Qgb25Nb3VzZU1vdmUgPSAob3B0OiBhbnkpID0+IHtcbiAgICAgIGlmICghaXNTZWxlY3RpbmcgfHwgIXNlbGVjdGlvblJlY3QpIHJldHVyblxuICAgICAgY29uc3QgZXZ0ID0gb3B0LmUgYXMgTW91c2VFdmVudFxuICAgICAgY29uc3QgcG9pbnRlciA9IGZhYnJpY0NhbnZhcy5nZXRQb2ludGVyKGV2dClcbiAgICAgIGNvbnN0IHdpZHRoID0gcG9pbnRlci54IC0gc3RhcnRYXG4gICAgICBjb25zdCBoZWlnaHQgPSBwb2ludGVyLnkgLSBzdGFydFlcblxuICAgICAgc2VsZWN0aW9uUmVjdC5zZXQoe1xuICAgICAgICB3aWR0aDogTWF0aC5hYnMod2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IE1hdGguYWJzKGhlaWdodCksXG4gICAgICAgIGxlZnQ6IHdpZHRoIDwgMCA/IHBvaW50ZXIueCA6IHN0YXJ0WCxcbiAgICAgICAgdG9wOiBoZWlnaHQgPCAwID8gcG9pbnRlci55IDogc3RhcnRZXG4gICAgICB9KVxuICAgICAgZmFicmljQ2FudmFzLnJlbmRlckFsbCgpXG4gICAgfVxuXG4gICAgY29uc3Qgb25Nb3VzZVVwID0gKG9wdDogYW55KSA9PiB7XG4gICAgICBpZiAoIWlzU2VsZWN0aW5nIHx8ICFzZWxlY3Rpb25SZWN0KSByZXR1cm5cbiAgICAgIGNvbnN0IGV2dCA9IG9wdC5lIGFzIE1vdXNlRXZlbnRcbiAgICAgIGlzU2VsZWN0aW5nID0gZmFsc2VcblxuICAgICAgLy8g6K6w5b2V5bGP5bmV5Z2Q5qCH55So5LqOIFNlbGVjdGlvblBhbmVsIOWumuS9jVxuICAgICAgY29uc3Qgc2NyZWVuUG9zaXRpb24gPSB7IHg6IGV2dC5jbGllbnRYLCB5OiBldnQuY2xpZW50WSB9XG4gICAgICBjb25zdCBtb3VzZVBvc2l0aW9uID0geyB4OiBzZWxlY3Rpb25SZWN0LmxlZnQgfHwgMCwgeTogc2VsZWN0aW9uUmVjdC50b3AgfHwgMCB9XG5cbiAgICAgIHNldFNlbGVjdGVkQXJlYSh7XG4gICAgICAgIHJlY3Q6IHNlbGVjdGlvblJlY3QsXG4gICAgICAgIG1vdXNlUG9zaXRpb24sXG4gICAgICAgIHNjcmVlblBvc2l0aW9uXG4gICAgICB9KVxuXG4gICAgICAvLyDkv53nlZnnn6nlvaLnlKjkuo7lj4LogIPvvJvoi6XkuI3pnIDopoHlj6/lnKjmraTlpITnp7vpmaRcbiAgICAgIC8vIGZhYnJpY0NhbnZhcy5yZW1vdmUoc2VsZWN0aW9uUmVjdCk7IHNlbGVjdGlvblJlY3QgPSBudWxsXG4gICAgfVxuXG4gICAgZmFicmljQ2FudmFzLm9uKCdtb3VzZTpkb3duJywgb25Nb3VzZURvd24pXG4gICAgZmFicmljQ2FudmFzLm9uKCdtb3VzZTptb3ZlJywgb25Nb3VzZU1vdmUpXG4gICAgZmFicmljQ2FudmFzLm9uKCdtb3VzZTp1cCcsIG9uTW91c2VVcClcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmYWJyaWNDYW52YXMub2ZmKCdtb3VzZTpkb3duJywgb25Nb3VzZURvd24pXG4gICAgICBmYWJyaWNDYW52YXMub2ZmKCdtb3VzZTptb3ZlJywgb25Nb3VzZU1vdmUpXG4gICAgICBmYWJyaWNDYW52YXMub2ZmKCdtb3VzZTp1cCcsIG9uTW91c2VVcClcbiAgICB9XG4gIH0sIFtmYWJyaWNDYW52YXNdKVxuXG4gIC8vIOS7juaJgOmAieWMuuWfn+aIquWbvuWIsCBiYXNlNjTvvIjpq5jotKjph4/vvIlcbiAgY29uc3QgaGFuZGxlQ2FwdHVyZUFyZWEgPSBhc3luYyAoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7XG4gICAgaWYgKCFmYWJyaWNDYW52YXMgfHwgIXNlbGVjdGVkQXJlYSkgcmV0dXJuIG51bGxcbiAgICBjb25zdCByZWN0ID0gc2VsZWN0ZWRBcmVhLnJlY3RcblxuICAgIGNvbnN0IGxlZnQgPSByZWN0LmxlZnQgPz8gMFxuICAgIGNvbnN0IHRvcCA9IHJlY3QudG9wID8/IDBcbiAgICBjb25zdCB3aWR0aCA9IHJlY3Qud2lkdGggPz8gMFxuICAgIGNvbnN0IGhlaWdodCA9IHJlY3QuaGVpZ2h0ID8/IDBcblxuICAgIGlmICh3aWR0aCA8PSAyIHx8IGhlaWdodCA8PSAyKSByZXR1cm4gbnVsbFxuXG4gICAgLy8g5L2/55SoIHRvRGF0YVVSTFdpdGhNdWx0aXBsaWVyIOaPkOWNh+i0qOmHj1xuICAgIGNvbnN0IGRhdGFVcmwgPSBmYWJyaWNDYW52YXMudG9EYXRhVVJMKHtcbiAgICAgIGZvcm1hdDogJ3BuZycsXG4gICAgICBxdWFsaXR5OiAxLjAsXG4gICAgICBsZWZ0LFxuICAgICAgdG9wLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBtdWx0aXBsaWVyOiAyXG4gICAgfSBhcyBhbnkpXG5cbiAgICByZXR1cm4gZGF0YVVybFxuICB9XG5cbiAgLy8g5L6bIFNlbGVjdGlvblBhbmVsIOWwhuaIquWbvuS8oOe7mSBDaGF0UGFuZWwg55qE5qGl5o6lXG4gIGNvbnN0IGhhbmRsZVJlY2VpdmVTY3JlZW5zaG90ID0gKGltYWdlRGF0YTogc3RyaW5nLCBwcm9tcHQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdDYW52YXNQYWdlOiDmjqXmlLbliLDmiKrlm77vvIzlh4blpIfkvKDpgJLnu5lDaGF0UGFuZWwnLCB7IFxuICAgICAgaW1hZ2VEYXRhTGVuZ3RoOiBpbWFnZURhdGE/Lmxlbmd0aCxcbiAgICAgIHByb21wdDogcHJvbXB0LFxuICAgICAgY2hhdFBhbmVsUmVmRXhpc3RzOiAhIWNoYXRQYW5lbFJlZi5jdXJyZW50XG4gICAgfSlcbiAgICBjaGF0UGFuZWxSZWYuY3VycmVudD8uaGFuZGxlUmVjZWl2ZVNjcmVlbnNob3QoaW1hZ2VEYXRhLCBwcm9tcHQpXG4gIH1cblxuICAvLyDmo4Dmn6VDaGF0UGFuZWznu4Tku7bmmK/lkKbmraPluLjliqDovb1cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnQ2FudmFzUGFnZTogQ2hhdFBhbmVs57uE5Lu25Yid5aeL5YyW5qOA5p+lJywge1xuICAgICAgY2hhdFBhbmVsUmVmOiBjaGF0UGFuZWxSZWYuY3VycmVudCxcbiAgICAgIGNvbXBvbmVudE1vdW50ZWQ6IHRydWVcbiAgICB9KVxuICB9LCBbXSlcblxuICAvLyBBSSDnlJ/miJDljaDkvY3pgLvovpHvvIjkuI4gQ2hhdFBhbmVsIOeahOaooeaLn+S4gOiHtO+8iVxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZUltYWdlID0gYXN5bmMgKHByb21wdDogc3RyaW5nKSA9PiB7XG4gICAgLy8g6L+Z6YeM5Y+v5a+55o6l55yf5a6e5ZCO56uvL+aooeWei++8m+WFiOeUsSBDaGF0UGFuZWwg6Ieq6Lqr5qih5oufXG4gICAgY29uc29sZS5sb2coJ+ivt+axgueUn+aIkOWbvueJhzonLCBwcm9tcHQpXG4gIH1cbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVWaWRlbyA9IGFzeW5jIChwcm9tcHQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfor7fmsYLnlJ/miJDop4bpopE6JywgcHJvbXB0KVxuICB9XG5cbiAgLy8g5riF6Zmk5qGG6YCJ54q25oCBXG4gIGNvbnN0IGhhbmRsZUNsZWFyU2VsZWN0aW9uID0gKCkgPT4ge1xuICAgIHNldFNlbGVjdGVkQXJlYShudWxsKVxuICAgIC8vIOWmguaenOacieahhumAieefqeW9ouWcqOeUu+W4g+S4iu+8jOS5n+enu+mZpOWug1xuICAgIGlmIChmYWJyaWNDYW52YXMgJiYgc2VsZWN0ZWRBcmVhPy5yZWN0KSB7XG4gICAgICBmYWJyaWNDYW52YXMucmVtb3ZlKHNlbGVjdGVkQXJlYS5yZWN0KVxuICAgIH1cbiAgfVxuXG4gIC8vIOWPs+mUruiPnOWNleWkhOeQhlxuICBjb25zdCBoYW5kbGVDb250ZXh0TWVudSA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKCFmYWJyaWNDYW52YXMpIHJldHVyblxuICAgIFxuICAgIGNvbnN0IGFjdGl2ZU9iamVjdCA9IGZhYnJpY0NhbnZhcy5nZXRBY3RpdmVPYmplY3QoKVxuICAgIGlmIChhY3RpdmVPYmplY3QpIHtcbiAgICAgIHNldENvbnRleHRNZW51KHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICB5OiBlLmNsaWVudFlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLy8g5YWz6Zet5Y+z6ZSu6I+c5Y2VXG4gIGNvbnN0IGhhbmRsZUNsb3NlQ29udGV4dE1lbnUgPSAoKSA9PiB7XG4gICAgc2V0Q29udGV4dE1lbnUoeyB2aXNpYmxlOiBmYWxzZSwgeDogMCwgeTogMCB9KVxuICB9XG5cbiAgLy8g5bGC57qn5pON5L2c5Ye95pWwXG4gIC8vIOaJi+WKqOWxgue6p+euoeeQhuWkh+eUqOaWueahiFxuICBjb25zdCBtYW51YWxMYXllck1hbmFnZW1lbnQgPSAob3BlcmF0aW9uOiAnYnJpbmdUb0Zyb250JyB8ICdzZW5kVG9CYWNrJyB8ICdicmluZ0ZvcndhcmQnIHwgJ3NlbmRCYWNrd2FyZCcpID0+IHtcbiAgICBpZiAoIWZhYnJpY0NhbnZhcykgcmV0dXJuXG4gICAgY29uc3QgYWN0aXZlT2JqZWN0ID0gZmFicmljQ2FudmFzLmdldEFjdGl2ZU9iamVjdCgpXG4gICAgaWYgKCFhY3RpdmVPYmplY3QpIHJldHVyblxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDmk43kvZw6Jywgb3BlcmF0aW9uLCAn5rS75Yqo5a+56LGhOicsIGFjdGl2ZU9iamVjdClcbiAgICBcbiAgICBjb25zdCBvYmplY3RzID0gZmFicmljQ2FudmFzLmdldE9iamVjdHMoKVxuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IG9iamVjdHMuaW5kZXhPZihhY3RpdmVPYmplY3QpXG4gICAgXG4gICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gLTEpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDlr7nosaHkuI3lnKjnlLvluIPkuK0nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDlvZPliY3ntKLlvJU6JywgY3VycmVudEluZGV4LCAn5a+56LGh5oC75pWwOicsIG9iamVjdHMubGVuZ3RoKVxuICAgIFxuICAgIC8vIOenu+mZpOW9k+WJjeWvueixoVxuICAgIGZhYnJpY0NhbnZhcy5yZW1vdmUoYWN0aXZlT2JqZWN0KVxuICAgIFxuICAgIC8vIOS9v+eUqOabtOWFvOWuueeahOaWueazlemHjeaWsOa3u+WKoOWvueixoeWIsOaMh+WumuS9jee9rlxuICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XG4gICAgICBjYXNlICdicmluZ1RvRnJvbnQnOlxuICAgICAgICAvLyDnva7pobbvvJrnm7TmjqXmt7vliqDliLDnlLvluIPvvIjpu5jorqTmt7vliqDliLDpobbpg6jvvIlcbiAgICAgICAgZmFicmljQ2FudmFzLmFkZChhY3RpdmVPYmplY3QpXG4gICAgICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDnva7pobblrozmiJAnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2VuZFRvQmFjayc6XG4gICAgICAgIC8vIOe9ruW6le+8muWFiOenu+mZpOaJgOacieWvueixoe+8jOeEtuWQjuaMiemhuuW6j+mHjeaWsOa3u+WKoFxuICAgICAgICBjb25zdCBhbGxPYmplY3RzID0gZmFicmljQ2FudmFzLmdldE9iamVjdHMoKVxuICAgICAgICBmYWJyaWNDYW52YXMuY2xlYXIoKVxuICAgICAgICAvLyDlhYjmt7vliqDlvZPliY3lr7nosaHvvIjnva7lupXvvIlcbiAgICAgICAgZmFicmljQ2FudmFzLmFkZChhY3RpdmVPYmplY3QpXG4gICAgICAgIC8vIOeEtuWQjua3u+WKoOWFtuS7luWvueixoVxuICAgICAgICBhbGxPYmplY3RzLmZvckVhY2gob2JqID0+IHtcbiAgICAgICAgICBpZiAob2JqICE9PSBhY3RpdmVPYmplY3QpIHtcbiAgICAgICAgICAgIGZhYnJpY0NhbnZhcy5hZGQob2JqKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgY29uc29sZS5sb2coJ+aJi+WKqOWxgue6p+euoeeQhiAtIOe9ruW6leWujOaIkCcpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdicmluZ0ZvcndhcmQnOlxuICAgICAgICAvLyDkuIrnp7vkuIDlsYLvvJrkuI7lkI7kuIDkuKrlr7nosaHkuqTmjaLkvY3nva5cbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IG9iamVjdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGNvbnN0IG5leHRPYmplY3QgPSBvYmplY3RzW2N1cnJlbnRJbmRleCArIDFdXG4gICAgICAgICAgZmFicmljQ2FudmFzLnJlbW92ZShuZXh0T2JqZWN0KVxuICAgICAgICAgIGZhYnJpY0NhbnZhcy5hZGQoYWN0aXZlT2JqZWN0KVxuICAgICAgICAgIGZhYnJpY0NhbnZhcy5hZGQobmV4dE9iamVjdClcbiAgICAgICAgICBjb25zb2xlLmxvZygn5omL5Yqo5bGC57qn566h55CGIC0g5LiK56e75LiA5bGC5a6M5oiQJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5omL5Yqo5bGC57qn566h55CGIC0g5bey57uP5Zyo5pyA6aG25bGC77yM5peg5rOV5LiK56e7JylcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnc2VuZEJhY2t3YXJkJzpcbiAgICAgICAgLy8g5LiL56e75LiA5bGC77ya5LiO5YmN5LiA5Liq5a+56LGh5Lqk5o2i5L2N572uXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcHJldk9iamVjdCA9IG9iamVjdHNbY3VycmVudEluZGV4IC0gMV1cbiAgICAgICAgICBmYWJyaWNDYW52YXMucmVtb3ZlKHByZXZPYmplY3QpXG4gICAgICAgICAgZmFicmljQ2FudmFzLmFkZChhY3RpdmVPYmplY3QpXG4gICAgICAgICAgZmFicmljQ2FudmFzLmFkZChwcmV2T2JqZWN0KVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDkuIvnp7vkuIDlsYLlrozmiJAnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDlt7Lnu4/lnKjmnIDlupXlsYLvvIzml6Dms5XkuIvnp7snKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIFxuICAgIC8vIOmHjeaWsOmAieS4reWvueixoVxuICAgIGZhYnJpY0NhbnZhcy5zZXRBY3RpdmVPYmplY3QoYWN0aXZlT2JqZWN0KVxuICAgIC8vIOmHjeaWsOa4suafk+eUu+W4g1xuICAgIGZhYnJpY0NhbnZhcy5yZW5kZXJBbGwoKVxuICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDmk43kvZzlrozmiJAnKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQnJpbmdUb0Zyb250ID0gKCkgPT4ge1xuICAgIGlmICghZmFicmljQ2FudmFzKSByZXR1cm5cbiAgICBjb25zdCBhY3RpdmVPYmplY3QgPSBmYWJyaWNDYW52YXMuZ2V0QWN0aXZlT2JqZWN0KClcbiAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyDkvJjlhYjkvb/nlKhGYWJyaWMuanPljp/nlJ/mlrnms5VcbiAgICAgICAgaWYgKGZhYnJpY0NhbnZhcy5icmluZ1RvRnJvbnQpIHtcbiAgICAgICAgICBmYWJyaWNDYW52YXMuYnJpbmdUb0Zyb250KGFjdGl2ZU9iamVjdClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYW51YWxMYXllck1hbmFnZW1lbnQoJ2JyaW5nVG9Gcm9udCcpXG4gICAgICAgIH1cbiAgICAgICAgZmFicmljQ2FudmFzLnJlbmRlckFsbCgpXG4gICAgICAgIGhhbmRsZUNsb3NlQ29udGV4dE1lbnUoKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign572u6aG25pON5L2c5aSx6LSlOicsIGVycm9yKVxuICAgICAgICBtYW51YWxMYXllck1hbmFnZW1lbnQoJ2JyaW5nVG9Gcm9udCcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2VuZFRvQmFjayA9ICgpID0+IHtcbiAgICBpZiAoIWZhYnJpY0NhbnZhcykgcmV0dXJuXG4gICAgY29uc3QgYWN0aXZlT2JqZWN0ID0gZmFicmljQ2FudmFzLmdldEFjdGl2ZU9iamVjdCgpXG4gICAgaWYgKGFjdGl2ZU9iamVjdCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGZhYnJpY0NhbnZhcy5zZW5kVG9CYWNrKSB7XG4gICAgICAgICAgZmFicmljQ2FudmFzLnNlbmRUb0JhY2soYWN0aXZlT2JqZWN0KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hbnVhbExheWVyTWFuYWdlbWVudCgnc2VuZFRvQmFjaycpXG4gICAgICAgIH1cbiAgICAgICAgZmFicmljQ2FudmFzLnJlbmRlckFsbCgpXG4gICAgICAgIGhhbmRsZUNsb3NlQ29udGV4dE1lbnUoKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign572u5bqV5pON5L2c5aSx6LSlOicsIGVycm9yKVxuICAgICAgICBtYW51YWxMYXllck1hbmFnZW1lbnQoJ3NlbmRUb0JhY2snKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUJyaW5nRm9yd2FyZCA9ICgpID0+IHtcbiAgICBpZiAoIWZhYnJpY0NhbnZhcykgcmV0dXJuXG4gICAgY29uc3QgYWN0aXZlT2JqZWN0ID0gZmFicmljQ2FudmFzLmdldEFjdGl2ZU9iamVjdCgpXG4gICAgaWYgKGFjdGl2ZU9iamVjdCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGZhYnJpY0NhbnZhcy5icmluZ0ZvcndhcmQpIHtcbiAgICAgICAgICBmYWJyaWNDYW52YXMuYnJpbmdGb3J3YXJkKGFjdGl2ZU9iamVjdClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYW51YWxMYXllck1hbmFnZW1lbnQoJ2JyaW5nRm9yd2FyZCcpXG4gICAgICAgIH1cbiAgICAgICAgZmFicmljQ2FudmFzLnJlbmRlckFsbCgpXG4gICAgICAgIGhhbmRsZUNsb3NlQ29udGV4dE1lbnUoKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign5LiK56e75LiA5bGC5pON5L2c5aSx6LSlOicsIGVycm9yKVxuICAgICAgICBtYW51YWxMYXllck1hbmFnZW1lbnQoJ2JyaW5nRm9yd2FyZCcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2VuZEJhY2t3YXJkID0gKCkgPT4ge1xuICAgIGlmICghZmFicmljQ2FudmFzKSByZXR1cm5cbiAgICBjb25zdCBhY3RpdmVPYmplY3QgPSBmYWJyaWNDYW52YXMuZ2V0QWN0aXZlT2JqZWN0KClcbiAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZmFicmljQ2FudmFzLnNlbmRCYWNrd2FyZHMpIHtcbiAgICAgICAgICBmYWJyaWNDYW52YXMuc2VuZEJhY2t3YXJkcyhhY3RpdmVPYmplY3QpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFudWFsTGF5ZXJNYW5hZ2VtZW50KCdzZW5kQmFja3dhcmQnKVxuICAgICAgICB9XG4gICAgICAgIGZhYnJpY0NhbnZhcy5yZW5kZXJBbGwoKVxuICAgICAgICBoYW5kbGVDbG9zZUNvbnRleHRNZW51KClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+S4i+enu+S4gOWxguaTjeS9nOWksei0pTonLCBlcnJvcilcbiAgICAgICAgbWFudWFsTGF5ZXJNYW5hZ2VtZW50KCdzZW5kQmFja3dhcmQnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1zY3JlZW4gYmctZ3JheS01MCBkYXJrOmJnLWdyYXktOTAwIHJlbGF0aXZlXCIgb25DbGljaz17aGFuZGxlQ2xvc2VDb250ZXh0TWVudX0+XG4gICAgICB7Lyog55S75biD5Yy65Z+fIC0g6ZO65ruh5pW05Liq5bGP5bmVICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wXCIgb25Db250ZXh0TWVudT17aGFuZGxlQ29udGV4dE1lbnV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgdy1mdWxsIGgtZnVsbFwiPlxuICAgICAgICAgIDxjYW52YXMgcmVmPXtjYW52YXNSZWZ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiDpobbpg6jlt6XlhbfmoI8gLSDmgqzmta7lnKjnlLvmnb/kuIrmlrkgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGxlZnQtMCByaWdodC0wIHotMjBcIj5cbiAgICAgICAgPENhbnZhc1Rvb2xiYXJcbiAgICAgICAgICBjYW52YXM9e2ZhYnJpY0NhbnZhc31cbiAgICAgICAgICBvbkNhcHR1cmVBcmVhPXtoYW5kbGVDYXB0dXJlQXJlYX1cbiAgICAgICAgICBzZWxlY3RlZEFyZWE9e3NlbGVjdGVkQXJlYSA/IHNlbGVjdGVkQXJlYS5yZWN0IDogbnVsbH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7Lyog5Yy65Z+f6YCJ5oup5oKs5rWu6Z2i5p2/77yI55Sf5Zu+5b+r5o2377yJICovfVxuICAgICAgPFNlbGVjdGlvblBhbmVsXG4gICAgICAgIHNlbGVjdGVkQXJlYT17c2VsZWN0ZWRBcmVhfVxuICAgICAgICBvbkdlbmVyYXRlSW1hZ2U9e2hhbmRsZUdlbmVyYXRlSW1hZ2V9XG4gICAgICAgIG9uR2VuZXJhdGVWaWRlbz17aGFuZGxlR2VuZXJhdGVWaWRlb31cbiAgICAgICAgb25DYXB0dXJlQXJlYT17aGFuZGxlQ2FwdHVyZUFyZWF9XG4gICAgICAgIG9uUmVjZWl2ZVNjcmVlbnNob3Q9e2hhbmRsZVJlY2VpdmVTY3JlZW5zaG90fVxuICAgICAgICBvbkNsZWFyU2VsZWN0aW9uPXtoYW5kbGVDbGVhclNlbGVjdGlvbn1cbiAgICAgIC8+XG5cbiAgICAgIHsvKiDmgqzmta4gQUkg5Yib5L2c5Yqp5omLICovfVxuICAgICAgPENoYXRQYW5lbFxuICAgICAgICByZWY9e2NoYXRQYW5lbFJlZiBhcyBhbnl9XG4gICAgICAgIG9uQ2FwdHVyZUFyZWE9e2hhbmRsZUNhcHR1cmVBcmVhfVxuICAgICAgICBvblJlY2VpdmVTY3JlZW5zaG90PXtoYW5kbGVSZWNlaXZlU2NyZWVuc2hvdH1cbiAgICAgIC8+XG5cbiAgICAgIHsvKiDlj7PplK7oj5zljZUgKi99XG4gICAgICB7Y29udGV4dE1lbnUudmlzaWJsZSAmJiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHotNTBcIlxuICAgICAgICAgIHN0eWxlPXt7IGxlZnQ6IGNvbnRleHRNZW51LngsIHRvcDogY29udGV4dE1lbnUueSB9fVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yXCI+5bGC57qn5pON5L2cPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQnJpbmdUb0Zyb250fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0xIHRleHQteHMgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCByb3VuZGVkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOe9rumhtlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmRUb0JhY2t9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC0zIHB5LTEgdGV4dC14cyBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg572u5bqVXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQnJpbmdGb3J3YXJkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgcHgtMyBweS0xIHRleHQteHMgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCByb3VuZGVkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOS4iuenu+S4gOWxglxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmRCYWNrd2FyZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTMgcHktMSB0ZXh0LXhzIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDAgcm91bmRlZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDkuIvnp7vkuIDlsYJcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQ2FudmFzVG9vbGJhciIsIlNlbGVjdGlvblBhbmVsIiwiQ2hhdFBhbmVsIiwidXNlVXNlclN0b3JlIiwiQ2FudmFzUGFnZSIsImNhbnZhc1JlZiIsImZhYnJpY0NhbnZhcyIsInNldEZhYnJpY0NhbnZhcyIsInNlbGVjdGVkQXJlYSIsInNldFNlbGVjdGVkQXJlYSIsImNoYXRQYW5lbFJlZiIsImZhYnJpY05TUmVmIiwidGhlbWUiLCJjb250ZXh0TWVudSIsInNldENvbnRleHRNZW51IiwidmlzaWJsZSIsIngiLCJ5IiwiZGlzcG9zZWQiLCJoYW5kbGVSZXNpemUiLCJjYW52YXNJbnN0YW5jZSIsIm1vZCIsImYiLCJmYWJyaWMiLCJ3aW5kb3ciLCJjdXJyZW50IiwiYyIsIkNhbnZhcyIsImJhY2tncm91bmRDb2xvciIsInNlbGVjdGlvbiIsInByZXNlcnZlT2JqZWN0U3RhY2tpbmciLCJzZXRXaWR0aCIsImlubmVyV2lkdGgiLCJzZXRIZWlnaHQiLCJpbm5lckhlaWdodCIsImlzRHJhd2luZ01vZGUiLCJmcmVlRHJhd2luZ0JydXNoIiwiUGVuY2lsQnJ1c2giLCJ3aWR0aCIsImNvbG9yIiwib24iLCJlIiwib2JqIiwidGFyZ2V0IiwiaWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwicmVuZGVyQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwb3NlIiwiaXNTZWxlY3RpbmciLCJzdGFydFgiLCJzdGFydFkiLCJzZWxlY3Rpb25SZWN0Iiwib25Nb3VzZURvd24iLCJvcHQiLCJldnQiLCJzaGlmdEtleSIsInBvaW50ZXIiLCJnZXRQb2ludGVyIiwiRiIsIlJlY3QiLCJsZWZ0IiwidG9wIiwiaGVpZ2h0IiwiZmlsbCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwic2VsZWN0YWJsZSIsImV2ZW50ZWQiLCJhZGQiLCJvbk1vdXNlTW92ZSIsInNldCIsImFicyIsIm9uTW91c2VVcCIsInNjcmVlblBvc2l0aW9uIiwiY2xpZW50WCIsImNsaWVudFkiLCJtb3VzZVBvc2l0aW9uIiwicmVjdCIsIm9mZiIsImhhbmRsZUNhcHR1cmVBcmVhIiwiZGF0YVVybCIsInRvRGF0YVVSTCIsImZvcm1hdCIsInF1YWxpdHkiLCJtdWx0aXBsaWVyIiwiaGFuZGxlUmVjZWl2ZVNjcmVlbnNob3QiLCJpbWFnZURhdGEiLCJwcm9tcHQiLCJsb2ciLCJpbWFnZURhdGFMZW5ndGgiLCJsZW5ndGgiLCJjaGF0UGFuZWxSZWZFeGlzdHMiLCJjb21wb25lbnRNb3VudGVkIiwiaGFuZGxlR2VuZXJhdGVJbWFnZSIsImhhbmRsZUdlbmVyYXRlVmlkZW8iLCJoYW5kbGVDbGVhclNlbGVjdGlvbiIsInJlbW92ZSIsImhhbmRsZUNvbnRleHRNZW51IiwicHJldmVudERlZmF1bHQiLCJhY3RpdmVPYmplY3QiLCJnZXRBY3RpdmVPYmplY3QiLCJoYW5kbGVDbG9zZUNvbnRleHRNZW51IiwibWFudWFsTGF5ZXJNYW5hZ2VtZW50Iiwib3BlcmF0aW9uIiwib2JqZWN0cyIsImdldE9iamVjdHMiLCJjdXJyZW50SW5kZXgiLCJpbmRleE9mIiwiYWxsT2JqZWN0cyIsImNsZWFyIiwiZm9yRWFjaCIsIm5leHRPYmplY3QiLCJwcmV2T2JqZWN0Iiwic2V0QWN0aXZlT2JqZWN0IiwiaGFuZGxlQnJpbmdUb0Zyb250IiwiYnJpbmdUb0Zyb250IiwiaGFuZGxlU2VuZFRvQmFjayIsInNlbmRUb0JhY2siLCJoYW5kbGVCcmluZ0ZvcndhcmQiLCJicmluZ0ZvcndhcmQiLCJoYW5kbGVTZW5kQmFja3dhcmQiLCJzZW5kQmFja3dhcmRzIiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsIm9uQ29udGV4dE1lbnUiLCJjYW52YXMiLCJyZWYiLCJvbkNhcHR1cmVBcmVhIiwib25HZW5lcmF0ZUltYWdlIiwib25HZW5lcmF0ZVZpZGVvIiwib25SZWNlaXZlU2NyZWVuc2hvdCIsIm9uQ2xlYXJTZWxlY3Rpb24iLCJzdHlsZSIsImJ1dHRvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/canvas/page.tsx\n");

/***/ }),

/***/ "(ssr)/./components/CanvasToolbar.tsx":
/*!**************************************!*\
  !*** ./components/CanvasToolbar.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CanvasToolbar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/hand.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pencil.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-up-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/shapes.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/type.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/eraser.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/layers.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/square.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/triangle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/star.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/diamond.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/octagon.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/minus.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/braces.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/move-up.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/move-down.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-up.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-down.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/rotate-ccw.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/moon.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sun.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowDown,ArrowLeft,ArrowRight,ArrowUp,ArrowUpRight,Braces,Circle,Diamond,Download,Eraser,Hand,Heart,Image,Languages,Layers,Minus,Moon,MoveDown,MoveUp,Octagon,Pencil,RotateCcw,Save,Shapes,Square,Star,Sun,Triangle,Type,Upload!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/languages.js\");\n/* harmony import */ var _TextToolPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextToolPanel */ \"(ssr)/./components/TextToolPanel.tsx\");\n/* harmony import */ var _stores_userStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../stores/userStore */ \"(ssr)/./stores/userStore.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _SaveProjectModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SaveProjectModal */ \"(ssr)/./components/SaveProjectModal.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction CanvasToolbar({ canvas, onCaptureArea, selectedArea }) {\n    const [activeTool, setActiveTool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"pencil\");\n    const [brushSize, setBrushSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(3);\n    const [brushColor, setBrushColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"#000000\");\n    const [showShapePicker, setShowShapePicker] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDrawingMode, setIsDrawingMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const shapePickerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [historyIndex, setHistoryIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [zoomLevel, setZoomLevel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(100);\n    const [showTextToolPanel, setShowTextToolPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [textToolPosition, setTextToolPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        left: 0,\n        top: 0\n    });\n    const textToolRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const { theme, language, setTheme, setLanguage, userInfo } = (0,_stores_userStore__WEBPACK_IMPORTED_MODULE_3__.useUserStore)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const [showSaveModal, setShowSaveModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showLayerPanel, setShowLayerPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const layerPanelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // 点击外部关闭形状选择卡片和层级面板\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (shapePickerRef.current && !shapePickerRef.current.contains(event.target)) {\n                setShowShapePicker(false);\n            }\n            if (textToolRef.current && !textToolRef.current.contains(event.target)) {\n                setShowTextToolPanel(false);\n            }\n            if (layerPanelRef.current && !layerPanelRef.current.contains(event.target)) {\n                setShowLayerPanel(false);\n            }\n        };\n        if (showShapePicker || showTextToolPanel || showLayerPanel) {\n            document.addEventListener(\"mousedown\", handleClickOutside);\n        }\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        showShapePicker,\n        showTextToolPanel,\n        showLayerPanel\n    ]);\n    // 删除选中的对象\n    const handleDeleteSelected = ()=>{\n        if (!canvas) return;\n        const activeObjects = canvas.getActiveObjects();\n        if (activeObjects.length > 0) {\n            // 保存当前状态到历史记录\n            saveCanvasState();\n            // 删除所有选中的对象\n            canvas.remove(...activeObjects);\n            canvas.discardActiveObject();\n            canvas.requestRenderAll();\n        }\n    };\n    // 键盘事件处理\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (event)=>{\n            if (!canvas) return;\n            const activeObject = canvas.getActiveObject();\n            // 如果当前选中的是文字对象且处于编辑模式，让Backspace键逐个删除字符\n            if (activeObject && activeObject.isEditing && event.key === \"Backspace\") {\n                // 让Fabric.js处理文字编辑的Backspace逻辑\n                return;\n            }\n            // 处理Delete键删除选中的对象（Backspace在编辑模式下不删除对象）\n            if (event.key === \"Delete\") {\n                event.preventDefault();\n                handleDeleteSelected();\n            }\n            // 处理Backspace键（非编辑模式下删除选中的对象）\n            if (event.key === \"Backspace\" && (!activeObject || !activeObject.isEditing)) {\n                event.preventDefault();\n                handleDeleteSelected();\n            }\n            // 层级操作快捷键\n            if (activeObject && event.ctrlKey) {\n                switch(event.key){\n                    case \"]\":\n                        event.preventDefault();\n                        handleBringForward();\n                        break;\n                    case \"[\":\n                        event.preventDefault();\n                        handleSendBackward();\n                        break;\n                    case \"}\":\n                        if (event.shiftKey) {\n                            event.preventDefault();\n                            handleBringToFront();\n                        }\n                        break;\n                    case \"{\":\n                        if (event.shiftKey) {\n                            event.preventDefault();\n                            handleSendToBack();\n                        }\n                        break;\n                }\n            }\n        };\n        document.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>{\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        };\n    }, [\n        canvas\n    ]);\n    // 保存画布状态到历史记录\n    const saveCanvasState = ()=>{\n        if (!canvas || !window.fabric) return;\n        // 深拷贝画布对象以避免引用共享问题\n        const currentState = canvas._objects.map((obj)=>{\n            if (!obj) return null;\n            return window.fabric?.util?.object?.clone(obj) || obj;\n        }).filter((obj)=>obj !== null);\n        const newHistory = history.slice(0, historyIndex + 1);\n        newHistory.push(currentState);\n        setHistory(newHistory);\n        setHistoryIndex(newHistory.length - 1);\n    };\n    // 设置画板移动功能\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvas) return;\n        let isPanning = false;\n        let lastPosX = 0;\n        let lastPosY = 0;\n        const handleMouseDown = (opt)=>{\n            if (activeTool === \"hand\") {\n                const evt = opt.e;\n                isPanning = true;\n                canvas.defaultCursor = \"grabbing\";\n                canvas.hoverCursor = \"grabbing\";\n                lastPosX = evt.clientX;\n                lastPosY = evt.clientY;\n            }\n        };\n        const handleMouseMove = (opt)=>{\n            if (isPanning && activeTool === \"hand\") {\n                const evt = opt.e;\n                const deltaX = evt.clientX - lastPosX;\n                const deltaY = evt.clientY - lastPosY;\n                // 移动视口\n                const vpt = canvas.viewportTransform || [\n                    1,\n                    0,\n                    0,\n                    1,\n                    0,\n                    0\n                ];\n                vpt[4] += deltaX;\n                vpt[5] += deltaY;\n                canvas.setViewportTransform(vpt);\n                canvas.requestRenderAll();\n                lastPosX = evt.clientX;\n                lastPosY = evt.clientY;\n            }\n        };\n        const handleMouseUp = ()=>{\n            if (activeTool === \"hand\") {\n                isPanning = false;\n                canvas.defaultCursor = \"grab\";\n                canvas.hoverCursor = \"grab\";\n            }\n        };\n        canvas.on(\"mouse:down\", handleMouseDown);\n        canvas.on(\"mouse:move\", handleMouseMove);\n        canvas.on(\"mouse:up\", handleMouseUp);\n        return ()=>{\n            canvas.off(\"mouse:down\", handleMouseDown);\n            canvas.off(\"mouse:move\", handleMouseMove);\n            canvas.off(\"mouse:up\", handleMouseUp);\n        };\n    }, [\n        canvas,\n        activeTool\n    ]);\n    // 监听画板缩放事件\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvas) return;\n        const updateZoomLevel = ()=>{\n            const vpt = canvas.viewportTransform;\n            if (vpt) {\n                // 计算缩放比例（viewportTransform[0] 是X轴缩放因子）\n                const scale = vpt[0] * 100;\n                setZoomLevel(Math.round(scale));\n            }\n        };\n        // 初始更新\n        updateZoomLevel();\n        // 监听鼠标滚轮缩放事件\n        canvas.on(\"mouse:wheel\", updateZoomLevel);\n        return ()=>{\n            canvas.off(\"mouse:wheel\", updateZoomLevel);\n        };\n    }, [\n        canvas\n    ]);\n    // 当画布内容变化时保存状态\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!canvas) return;\n        // 初始化时保存空状态\n        if (history.length === 0) {\n            saveCanvasState();\n        }\n        const handleObjectAdded = ()=>{\n            saveCanvasState();\n        };\n        const handleObjectRemoved = ()=>{\n            saveCanvasState();\n        };\n        // 双击文字对象进入编辑模式\n        const handleMouseDown = (options)=>{\n            if (options.target && options.target.type === \"textbox\") {\n                // 双击时进入编辑模式\n                if (options.e.detail === 2) {\n                    options.target.enterEditing();\n                    canvas.requestRenderAll();\n                }\n            }\n        };\n        canvas.on(\"object:added\", handleObjectAdded);\n        canvas.on(\"object:removed\", handleObjectRemoved);\n        canvas.on(\"mouse:down\", handleMouseDown);\n        return ()=>{\n            canvas.off(\"object:added\", handleObjectAdded);\n            canvas.off(\"object:removed\", handleObjectRemoved);\n            canvas.off(\"mouse:down\", handleMouseDown);\n        };\n    }, [\n        canvas,\n        history,\n        historyIndex\n    ]);\n    const tools = [\n        {\n            id: \"hand\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n            label: \"移动画板\"\n        },\n        {\n            id: \"pencil\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n            label: \"画笔\"\n        },\n        {\n            id: \"arrow\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n            label: \"箭头\"\n        },\n        {\n            id: \"shapes\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n            label: \"形状\"\n        },\n        {\n            id: \"text\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n            label: \"文字\"\n        },\n        {\n            id: \"eraser\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n            label: \"橡皮擦\"\n        },\n        {\n            id: \"image\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n            label: \"图片\"\n        },\n        {\n            id: \"layers\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n            label: \"层级管理\"\n        }\n    ];\n    const shapes = [\n        {\n            id: \"rectangle\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n            label: \"矩形\"\n        },\n        {\n            id: \"circle\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n            label: \"圆形\"\n        },\n        {\n            id: \"triangle\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n            label: \"三角形\"\n        },\n        {\n            id: \"star\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n            label: \"星星\"\n        },\n        {\n            id: \"heart\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n            label: \"心形\"\n        },\n        {\n            id: \"diamond\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n            label: \"菱形\"\n        },\n        {\n            id: \"octagon\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\n            label: \"八边形\"\n        },\n        {\n            id: \"arrow\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"],\n            label: \"箭头\"\n        },\n        {\n            id: \"line\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\n            label: \"直线\"\n        },\n        {\n            id: \"dashed-line\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\n            label: \"虚线\"\n        },\n        {\n            id: \"left-brace\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"],\n            label: \"左大括号\"\n        },\n        {\n            id: \"right-brace\",\n            icon: _barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"],\n            label: \"右大括号\"\n        }\n    ];\n    const handleToolSelect = (tool)=>{\n        setActiveTool(tool);\n        if (!canvas) {\n            console.warn(\"Canvas is not available\");\n            return;\n        }\n        console.log(\"Selected tool:\", tool);\n        switch(tool){\n            case \"pencil\":\n                canvas.isDrawingMode = true;\n                setIsDrawingMode(true);\n                if (canvas.freeDrawingBrush) {\n                    canvas.freeDrawingBrush.width = brushSize;\n                    canvas.freeDrawingBrush.color = brushColor;\n                }\n                canvas.defaultCursor = \"crosshair\";\n                canvas.hoverCursor = \"crosshair\";\n                console.log(\"Pencil mode activated\");\n                break;\n            case \"shapes\":\n                // 禁用绘图模式以支持选择区域功能\n                canvas.isDrawingMode = false;\n                setIsDrawingMode(false);\n                canvas.defaultCursor = \"crosshair\";\n                canvas.hoverCursor = \"crosshair\";\n                setShowShapePicker(true);\n                console.log(\"Shapes mode activated\");\n                break;\n            case \"eraser\":\n                canvas.isDrawingMode = true;\n                setIsDrawingMode(true);\n                if (canvas.freeDrawingBrush) {\n                    canvas.freeDrawingBrush.width = brushSize;\n                    canvas.freeDrawingBrush.color = \"#ffffff\";\n                }\n                canvas.defaultCursor = \"crosshair\";\n                canvas.hoverCursor = \"crosshair\";\n                console.log(\"Eraser mode activated\");\n                break;\n            case \"text\":\n                canvas.isDrawingMode = false;\n                setIsDrawingMode(false);\n                // 计算文字工具面板位置\n                const textToolButton = document.querySelector('[data-tool=\"text\"]');\n                if (textToolButton) {\n                    const rect = textToolButton.getBoundingClientRect();\n                    setTextToolPosition({\n                        left: rect.left,\n                        top: rect.bottom + 10\n                    });\n                }\n                canvas.defaultCursor = \"text\";\n                canvas.hoverCursor = \"text\";\n                setShowTextToolPanel(true);\n                console.log(\"Text mode activated\");\n                break;\n            case \"image\":\n                canvas.isDrawingMode = false;\n                setIsDrawingMode(false);\n                // 直接调用新的图片上传函数\n                handleImageUpload();\n                canvas.defaultCursor = \"default\";\n                canvas.hoverCursor = \"default\";\n                console.log(\"Image upload triggered\");\n                break;\n            case \"hand\":\n                canvas.isDrawingMode = false;\n                setIsDrawingMode(false);\n                // 启用画板移动功能\n                canvas.selection = false;\n                canvas.defaultCursor = \"grab\";\n                canvas.hoverCursor = \"grab\";\n                console.log(\"Hand mode activated - canvas can be moved\");\n                break;\n            case \"arrow\":\n                canvas.isDrawingMode = false;\n                setIsDrawingMode(false);\n                // 启用选择模式\n                canvas.selection = true;\n                canvas.defaultCursor = \"crosshair\";\n                canvas.hoverCursor = \"pointer\";\n                console.log(\"Arrow mode activated - selection enabled\");\n                break;\n            case \"layers\":\n                canvas.isDrawingMode = false;\n                setIsDrawingMode(false);\n                // 启用选择模式\n                canvas.selection = true;\n                canvas.defaultCursor = \"default\";\n                canvas.hoverCursor = \"default\";\n                setShowLayerPanel(true);\n                console.log(\"Layers mode activated\");\n                break;\n            default:\n                canvas.isDrawingMode = false;\n                setIsDrawingMode(false);\n                // 恢复正常的画布行为\n                canvas.selection = true;\n                canvas.defaultCursor = \"default\";\n                canvas.hoverCursor = \"default\";\n                console.log(\"Default mode activated\");\n                break;\n        }\n        // 强制重新渲染画布\n        canvas.renderAll();\n    };\n    const handleAddShape = (shape)=>{\n        if (!canvas || !window.fabric) {\n            console.warn(\"Canvas or fabric is not available for adding shape\");\n            return;\n        }\n        console.log(\"Adding shape:\", shape);\n        // 获取画布中心位置\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        // 统一的形状配置\n        const shapeConfig = {\n            fill: \"transparent\",\n            stroke: brushColor,\n            strokeWidth: brushSize\n        };\n        let shapeObj;\n        switch(shape){\n            case \"rectangle\":\n                shapeObj = new window.fabric.Rect({\n                    ...shapeConfig,\n                    width: 100,\n                    height: 100,\n                    left: centerX - 50,\n                    top: centerY - 50\n                });\n                break;\n            case \"circle\":\n                shapeObj = new window.fabric.Circle({\n                    ...shapeConfig,\n                    radius: 50,\n                    left: centerX,\n                    top: centerY\n                });\n                break;\n            case \"triangle\":\n                shapeObj = new window.fabric.Triangle({\n                    ...shapeConfig,\n                    width: 100,\n                    height: 100,\n                    left: centerX - 50,\n                    top: centerY - 50\n                });\n                break;\n            case \"star\":\n                const starPoints = [];\n                const numPoints = 5;\n                const innerRadius = 30;\n                const outerRadius = 50;\n                for(let i = 0; i < numPoints * 2; i++){\n                    const angle = i * Math.PI / numPoints;\n                    const radius = i % 2 === 0 ? outerRadius : innerRadius;\n                    starPoints.push({\n                        x: 50 + radius * Math.sin(angle),\n                        y: 50 + radius * Math.cos(angle)\n                    });\n                }\n                shapeObj = new window.fabric.Polygon(starPoints, {\n                    ...shapeConfig,\n                    left: centerX,\n                    top: centerY\n                });\n                break;\n            case \"heart\":\n                const heartPath = \"M 50 30 C 70 10, 90 30, 90 50 C 90 70, 70 90, 50 90 C 30 90, 10 70, 10 50 C 10 30, 30 10, 50 30 Z\";\n                shapeObj = new window.fabric.Path(heartPath, {\n                    ...shapeConfig,\n                    left: centerX - 40,\n                    top: centerY - 40,\n                    scaleX: 0.8,\n                    scaleY: 0.8\n                });\n                break;\n            case \"diamond\":\n                shapeObj = new window.fabric.Polygon([\n                    {\n                        x: 50,\n                        y: 0\n                    },\n                    {\n                        x: 100,\n                        y: 50\n                    },\n                    {\n                        x: 50,\n                        y: 100\n                    },\n                    {\n                        x: 0,\n                        y: 50\n                    }\n                ], {\n                    ...shapeConfig,\n                    left: centerX - 50,\n                    top: centerY - 50\n                });\n                break;\n            case \"octagon\":\n                shapeObj = new window.fabric.Polygon([\n                    {\n                        x: 30,\n                        y: 0\n                    },\n                    {\n                        x: 70,\n                        y: 0\n                    },\n                    {\n                        x: 100,\n                        y: 30\n                    },\n                    {\n                        x: 100,\n                        y: 70\n                    },\n                    {\n                        x: 70,\n                        y: 100\n                    },\n                    {\n                        x: 30,\n                        y: 100\n                    },\n                    {\n                        x: 0,\n                        y: 70\n                    },\n                    {\n                        x: 0,\n                        y: 30\n                    }\n                ], {\n                    ...shapeConfig,\n                    left: centerX - 50,\n                    top: centerY - 50\n                });\n                break;\n            case \"arrow\":\n                // 创建箭头形状\n                shapeObj = new window.fabric.Polyline([\n                    {\n                        x: 0,\n                        y: 25\n                    },\n                    {\n                        x: 75,\n                        y: 25\n                    },\n                    {\n                        x: 75,\n                        y: 0\n                    },\n                    {\n                        x: 100,\n                        y: 25\n                    },\n                    {\n                        x: 75,\n                        y: 50\n                    },\n                    {\n                        x: 75,\n                        y: 25\n                    }\n                ], {\n                    ...shapeConfig,\n                    left: centerX - 50,\n                    top: centerY - 25,\n                    fill: brushColor,\n                    stroke: brushColor\n                });\n                break;\n            case \"line\":\n                // 创建直线\n                shapeObj = new window.fabric.Line([\n                    0,\n                    0,\n                    100,\n                    0\n                ], {\n                    ...shapeConfig,\n                    left: centerX - 50,\n                    top: centerY\n                });\n                break;\n            case \"dashed-line\":\n                // 创建虚线\n                shapeObj = new window.fabric.Line([\n                    0,\n                    0,\n                    100,\n                    0\n                ], {\n                    ...shapeConfig,\n                    left: centerX - 50,\n                    top: centerY,\n                    strokeDashArray: [\n                        5,\n                        5\n                    ]\n                });\n                break;\n            case \"left-brace\":\n                // 创建左大括号 - 更清晰的路径\n                shapeObj = new window.fabric.Path(\"M 40 10 C 20 10 10 20 10 40 C 10 60 20 70 40 70\", {\n                    ...shapeConfig,\n                    left: centerX - 25,\n                    top: centerY - 35,\n                    fill: \"transparent\"\n                });\n                break;\n            case \"right-brace\":\n                // 创建右大括号 - 更清晰的路径\n                shapeObj = new window.fabric.Path(\"M 10 10 C 30 10 40 20 40 40 C 40 60 30 70 10 70\", {\n                    ...shapeConfig,\n                    left: centerX - 25,\n                    top: centerY - 35,\n                    fill: \"transparent\"\n                });\n                break;\n            default:\n                return;\n        }\n        canvas.add(shapeObj);\n        canvas.setActiveObject(shapeObj);\n        setShowShapePicker(false);\n    };\n    const handleBrushSizeChange = (size)=>{\n        setBrushSize(size);\n        if (canvas?.freeDrawingBrush) {\n            canvas.freeDrawingBrush.width = size;\n        }\n    };\n    const handleColorChange = (color)=>{\n        setBrushColor(color);\n        if (canvas?.freeDrawingBrush && activeTool === \"pencil\") {\n            canvas.freeDrawingBrush.color = color;\n        }\n    };\n    const handleAddText = ()=>{\n        if (!canvas || !window.fabric) return;\n        // 获取画布中心位置\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const text = new window.fabric.Textbox(\"双击编辑文字\", {\n            left: centerX - 50,\n            top: centerY - 10,\n            fontFamily: \"Arial\",\n            fill: brushColor,\n            fontSize: 20,\n            editable: true,\n            textAlign: \"left\"\n        });\n        canvas.add(text);\n        canvas.setActiveObject(text);\n    };\n    // 重新实现图片上传功能 - 简化版本\n    const handleImageUpload = ()=>{\n        if (!canvas) {\n            alert(\"画布未初始化，请稍后重试\");\n            return;\n        }\n        const fabric = window.fabric;\n        if (!fabric) {\n            alert(\"画布引擎未加载，请刷新页面\");\n            return;\n        }\n        // 创建文件输入元素\n        const fileInput = document.createElement(\"input\");\n        fileInput.type = \"file\";\n        fileInput.accept = \"image/*\";\n        fileInput.style.display = \"none\";\n        fileInput.onchange = (event)=>{\n            const target = event.target;\n            const file = target.files?.[0];\n            if (!file) return;\n            // 清理文件输入值\n            target.value = \"\";\n            // 验证文件类型\n            if (!file.type.startsWith(\"image/\")) {\n                alert(\"请选择图片文件\");\n                return;\n            }\n            // 使用FileReader读取图片\n            const reader = new FileReader();\n            reader.onload = (e)=>{\n                const imageUrl = e.target?.result;\n                // 使用HTML Image元素加载图片\n                const img = new Image();\n                img.onload = ()=>{\n                    // 创建Fabric图片对象\n                    const fabricImg = new fabric.Image(img);\n                    // 设置缩放比例\n                    const canvasWidth = canvas.getWidth();\n                    const canvasHeight = canvas.getHeight();\n                    const maxWidth = canvasWidth * 0.8;\n                    const maxHeight = canvasHeight * 0.8;\n                    const scaleX = maxWidth / img.width;\n                    const scaleY = maxHeight / img.height;\n                    const scale = Math.min(scaleX, scaleY, 1);\n                    fabricImg.scale(scale);\n                    // 设置位置为画布中心\n                    const centerX = canvasWidth / 2;\n                    const centerY = canvasHeight / 2;\n                    const scaledWidth = img.width * scale;\n                    const scaledHeight = img.height * scale;\n                    fabricImg.set({\n                        left: centerX - scaledWidth / 2,\n                        top: centerY - scaledHeight / 2,\n                        selectable: true,\n                        hasControls: true\n                    });\n                    // 添加到画布\n                    canvas.add(fabricImg);\n                    canvas.setActiveObject(fabricImg);\n                    canvas.requestRenderAll();\n                    // 保存状态\n                    saveCanvasState();\n                };\n                img.onerror = ()=>{\n                    alert(\"图片加载失败，请重试\");\n                };\n                img.src = imageUrl;\n            };\n            reader.onerror = ()=>{\n                alert(\"文件读取失败，请重试\");\n            };\n            reader.readAsDataURL(file);\n        };\n        // 触发文件选择\n        document.body.appendChild(fileInput);\n        fileInput.click();\n        // 清理\n        setTimeout(()=>{\n            if (document.body.contains(fileInput)) {\n                document.body.removeChild(fileInput);\n            }\n        }, 1000);\n    };\n    // 保存画板功能 - 打开保存弹窗\n    const [projectData, setProjectData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const handleSave = ()=>{\n        // 检查当前是否是编辑模式\n        const urlParams = new URLSearchParams(window.location.search);\n        const editMode = urlParams.get(\"edit\") === \"true\";\n        const projectId = urlParams.get(\"projectId\");\n        let data = null;\n        if (editMode && projectId) {\n            // 获取现有的项目记录\n            const existingProjects = JSON.parse(localStorage.getItem(\"userProjects\") || \"[]\");\n            const currentProject = existingProjects.find((p)=>p.id === projectId);\n            if (currentProject) {\n                data = {\n                    name: currentProject.name,\n                    icon: currentProject.icon,\n                    description: currentProject.description || \"\",\n                    tags: currentProject.tags || []\n                };\n            }\n        }\n        setProjectData(data);\n        setShowSaveModal(true);\n    };\n    // 处理保存项目\n    const handleSaveProject = async (projectData)=>{\n        const projectName = projectData.name;\n        const projectIcon = projectData.icon;\n        const projectDescription = projectData.description || \"\";\n        const projectTags = projectData.tags || [];\n        if (!canvas) return;\n        try {\n            // 检查当前是否是编辑模式\n            const urlParams = new URLSearchParams(window.location.search);\n            const editMode = urlParams.get(\"edit\") === \"true\";\n            const projectId = urlParams.get(\"projectId\");\n            // 生成画布预览图\n            const previewDataURL = canvas.toDataURL({\n                format: \"png\",\n                quality: 0.8\n            });\n            // 获取画布数据（序列化）\n            const canvasData = JSON.stringify(canvas.toJSON());\n            // 获取AI助手对话记录\n            let aiConversation = [];\n            try {\n                const chatHistory = localStorage.getItem(\"chatHistory\");\n                if (chatHistory) {\n                    aiConversation = JSON.parse(chatHistory);\n                }\n            } catch (error) {\n            // 静默处理错误\n            }\n            // 获取AI生成的内容\n            const generatedImages = [];\n            const aiGeneratedElements = document.querySelectorAll(\"[data-ai-generated]\");\n            aiGeneratedElements.forEach((element, index)=>{\n                const img = element.querySelector(\"img\");\n                if (img && img.src) {\n                    generatedImages.push({\n                        id: index,\n                        src: img.src,\n                        alt: img.alt || \"AI生成图片\",\n                        timestamp: new Date().toISOString()\n                    });\n                }\n            });\n            // 获取当前AI助手设置\n            const aiSettings = {\n                brushSize: brushSize,\n                brushColor: brushColor,\n                activeTool: activeTool\n            };\n            // 获取现有的项目记录\n            const existingProjects = JSON.parse(localStorage.getItem(\"userProjects\") || \"[]\");\n            let updatedProjects = [];\n            let projectRecord = {};\n            const now = new Date();\n            if (editMode && projectId) {\n                // 编辑模式：覆盖原项目\n                const projectIndex = existingProjects.findIndex((p)=>p.id === projectId);\n                if (projectIndex !== -1) {\n                    const originalProject = existingProjects[projectIndex];\n                    projectRecord = {\n                        ...originalProject,\n                        name: projectName,\n                        icon: projectIcon,\n                        description: projectDescription || originalProject.description || \"\",\n                        tags: projectTags.length > 0 ? projectTags : originalProject.tags || [],\n                        preview: previewDataURL,\n                        canvasData: canvasData,\n                        aiConversation: aiConversation,\n                        generatedContent: generatedImages,\n                        aiSettings: aiSettings,\n                        updatedAt: now.toISOString(),\n                        metadata: {\n                            ...originalProject.metadata,\n                            canvasObjectsCount: canvas.getObjects().length,\n                            hasAIInteraction: aiConversation.length > 0,\n                            hasGeneratedContent: generatedImages.length > 0,\n                            toolUsed: activeTool,\n                            brushSettings: {\n                                size: brushSize,\n                                color: brushColor\n                            }\n                        }\n                    };\n                    updatedProjects = [\n                        ...existingProjects\n                    ];\n                    updatedProjects[projectIndex] = projectRecord;\n                } else {\n                    // 如果找不到原项目，创建新项目\n                    projectRecord = {\n                        id: projectId,\n                        name: projectName,\n                        icon: projectIcon,\n                        description: projectDescription,\n                        tags: projectTags,\n                        preview: previewDataURL,\n                        canvasData: canvasData,\n                        aiConversation: aiConversation,\n                        generatedContent: generatedImages,\n                        aiSettings: aiSettings,\n                        createdAt: now.toISOString(),\n                        updatedAt: now.toISOString(),\n                        metadata: {\n                            canvasObjectsCount: canvas.getObjects().length,\n                            hasAIInteraction: aiConversation.length > 0,\n                            hasGeneratedContent: generatedImages.length > 0,\n                            toolUsed: activeTool,\n                            brushSettings: {\n                                size: brushSize,\n                                color: brushColor\n                            }\n                        }\n                    };\n                    updatedProjects = [\n                        ...existingProjects,\n                        projectRecord\n                    ];\n                }\n            } else {\n                // 新建模式：创建新项目\n                projectRecord = {\n                    id: Date.now().toString(),\n                    name: projectName,\n                    icon: projectIcon,\n                    description: projectDescription,\n                    tags: projectTags,\n                    preview: previewDataURL,\n                    canvasData: canvasData,\n                    aiConversation: aiConversation,\n                    generatedContent: generatedImages,\n                    aiSettings: aiSettings,\n                    createdAt: now.toISOString(),\n                    updatedAt: now.toISOString(),\n                    metadata: {\n                        canvasObjectsCount: canvas.getObjects().length,\n                        hasAIInteraction: aiConversation.length > 0,\n                        hasGeneratedContent: generatedImages.length > 0,\n                        toolUsed: activeTool,\n                        brushSettings: {\n                            size: brushSize,\n                            color: brushColor\n                        }\n                    }\n                };\n                updatedProjects = [\n                    ...existingProjects,\n                    projectRecord\n                ];\n            }\n            // 保存到本地存储\n            localStorage.setItem(\"userProjects\", JSON.stringify(updatedProjects));\n            // 同时保存聊天记录到单独的存储\n            if (aiConversation.length > 0) {\n                localStorage.setItem(\"chatHistory\", JSON.stringify(aiConversation));\n            }\n            // 显示保存成功提示\n            const projectNameStr = typeof name === \"string\" ? name : \"未命名项目\";\n            const saveMessage = editMode ? `项目已更新：${projectNameStr}` : `作品已保存到项目记录：${projectNameStr}`;\n            const notification = document.createElement(\"div\");\n            notification.innerHTML = `\n        <div style=\"position: fixed; top: 20px; right: 20px; background: #10b981; color: white; padding: 12px 16px; border-radius: 8px; z-index: 10000; box-shadow: 0 4px 6px rgba(0,0,0,0.1);\">\n          <strong>${editMode ? \"更新成功！\" : \"保存成功！\"}</strong><br>\n          ${saveMessage}\n        </div>\n      `;\n            document.body.appendChild(notification);\n            // 3秒后自动移除提示\n            setTimeout(()=>{\n                if (document.body.contains(notification)) {\n                    document.body.removeChild(notification);\n                }\n            }, 3000);\n            console.log(\"项目保存成功:\", projectRecord);\n            // 关闭弹窗\n            setShowSaveModal(false);\n            // 注意：保存项目后不应该清除聊天记录，因为聊天记录已经保存到项目中了\n            // 只有在创建新项目时才需要重置聊天记录\n            if (!editMode) {\n                try {\n                    // 清除聊天记录（为新项目准备）\n                    localStorage.removeItem(\"chatHistory\");\n                    // 通过ref调用ChatPanel的重置方法\n                    const chatPanel = document.querySelector(\"chat-panel\");\n                    if (chatPanel && chatPanel.resetChat) {\n                        chatPanel.resetChat();\n                    }\n                    console.log(\"AI创作助手内容已重置，为新项目准备\");\n                } catch (error) {\n                    console.warn(\"重置AI创作助手失败:\", error);\n                }\n            }\n        } catch (error) {\n            console.error(\"保存项目失败:\", error);\n            alert(\"保存失败，请重试\");\n        }\n    };\n    const handleUndo = ()=>{\n        if (!canvas || historyIndex < 0) return;\n        const newIndex = historyIndex - 1;\n        const previousState = history[newIndex];\n        // 清除当前画布并设置为纯白色背景\n        canvas.clear();\n        canvas.backgroundColor = \"#ffffff\";\n        // 恢复之前的状态（可能为空数组，表示空画布）\n        if (previousState && previousState.length > 0) {\n            previousState.forEach((obj)=>{\n                canvas.add(obj);\n            });\n        }\n        canvas.renderAll();\n        setHistoryIndex(newIndex);\n    };\n    const handleRedo = ()=>{\n        if (!canvas || historyIndex >= history.length - 1) return;\n        const newIndex = historyIndex + 1;\n        const nextState = history[newIndex];\n        // 清除当前画布并设置为纯白色背景\n        canvas.clear();\n        canvas.backgroundColor = \"#ffffff\";\n        // 恢复下一个状态\n        if (nextState) {\n            nextState.forEach((obj)=>{\n                canvas.add(obj);\n            });\n        }\n        canvas.renderAll();\n        setHistoryIndex(newIndex);\n    };\n    // 层级管理功能\n    // 手动层级管理备用方案\n    const manualLayerManagement = (operation)=>{\n        if (!canvas) return;\n        const activeObject = canvas.getActiveObject();\n        if (!activeObject) return;\n        console.log(\"手动层级管理 - 操作:\", operation, \"活动对象:\", activeObject);\n        const objects = canvas.getObjects();\n        const currentIndex = objects.indexOf(activeObject);\n        if (currentIndex === -1) {\n            console.log(\"手动层级管理 - 对象不在画布中\");\n            return;\n        }\n        console.log(\"手动层级管理 - 当前索引:\", currentIndex, \"对象总数:\", objects.length);\n        // 移除当前对象\n        canvas.remove(activeObject);\n        // 使用更兼容的方法重新添加对象到指定位置\n        switch(operation){\n            case \"bringToFront\":\n                // 置顶：直接添加到画布（默认添加到顶部）\n                canvas.add(activeObject);\n                console.log(\"手动层级管理 - 置顶完成\");\n                break;\n            case \"sendToBack\":\n                // 置底：先移除所有对象，然后按顺序重新添加\n                const allObjects = canvas.getObjects();\n                canvas.clear();\n                // 先添加当前对象（置底）\n                canvas.add(activeObject);\n                // 然后添加其他对象\n                allObjects.forEach((obj)=>{\n                    if (obj !== activeObject) {\n                        canvas.add(obj);\n                    }\n                });\n                console.log(\"手动层级管理 - 置底完成\");\n                break;\n            case \"bringForward\":\n                // 上移一层：与后一个对象交换位置\n                if (currentIndex < objects.length - 1) {\n                    const nextObject = objects[currentIndex + 1];\n                    canvas.remove(nextObject);\n                    canvas.add(activeObject);\n                    canvas.add(nextObject);\n                    console.log(\"手动层级管理 - 上移一层完成\");\n                } else {\n                    console.log(\"手动层级管理 - 已经在最顶层，无法上移\");\n                }\n                break;\n            case \"sendBackward\":\n                // 下移一层：与前一个对象交换位置\n                if (currentIndex > 0) {\n                    const prevObject = objects[currentIndex - 1];\n                    canvas.remove(prevObject);\n                    canvas.add(activeObject);\n                    canvas.add(prevObject);\n                    console.log(\"手动层级管理 - 下移一层完成\");\n                } else {\n                    console.log(\"手动层级管理 - 已经在最底层，无法下移\");\n                }\n                break;\n        }\n        // 重新选中对象\n        canvas.setActiveObject(activeObject);\n        // 重新渲染画布\n        canvas.renderAll();\n        console.log(\"手动层级管理 - 操作完成\");\n    };\n    const handleBringToFront = ()=>{\n        if (!canvas) return;\n        const activeObject = canvas.getActiveObject();\n        if (activeObject) {\n            saveCanvasState();\n            console.log(\"置顶操作 - 活动对象:\", activeObject);\n            try {\n                // 优先使用Fabric.js原生方法\n                if (canvas.bringToFront) {\n                    console.log(\"使用Fabric.js置顶方法\");\n                    canvas.bringToFront(activeObject);\n                } else {\n                    console.log(\"使用手动层级管理置顶\");\n                    manualLayerManagement(\"bringToFront\");\n                }\n                canvas.renderAll();\n                console.log(\"对象已置顶\");\n            } catch (error) {\n                console.error(\"置顶操作失败:\", error);\n                console.log(\"使用备用方案置顶\");\n                manualLayerManagement(\"bringToFront\");\n            }\n        }\n    };\n    const handleSendToBack = ()=>{\n        if (!canvas) return;\n        const activeObject = canvas.getActiveObject();\n        if (activeObject) {\n            saveCanvasState();\n            console.log(\"置底操作 - 活动对象:\", activeObject);\n            try {\n                if (canvas.sendToBack) {\n                    console.log(\"使用Fabric.js置底方法\");\n                    canvas.sendToBack(activeObject);\n                } else {\n                    console.log(\"使用手动层级管理置底\");\n                    manualLayerManagement(\"sendToBack\");\n                }\n                canvas.renderAll();\n                console.log(\"对象已置底\");\n            } catch (error) {\n                console.error(\"置底操作失败:\", error);\n                console.log(\"使用备用方案置底\");\n                manualLayerManagement(\"sendToBack\");\n            }\n        }\n    };\n    const handleBringForward = ()=>{\n        if (!canvas) return;\n        const activeObject = canvas.getActiveObject();\n        if (activeObject) {\n            saveCanvasState();\n            console.log(\"上移一层操作 - 活动对象:\", activeObject);\n            try {\n                if (canvas.bringForward) {\n                    console.log(\"使用Fabric.js上移一层方法\");\n                    canvas.bringForward(activeObject);\n                } else {\n                    console.log(\"使用手动层级管理上移一层\");\n                    manualLayerManagement(\"bringForward\");\n                }\n                canvas.renderAll();\n                console.log(\"对象已上移一层\");\n            } catch (error) {\n                console.error(\"上移一层操作失败:\", error);\n                console.log(\"使用备用方案上移一层\");\n                manualLayerManagement(\"bringForward\");\n            }\n        }\n    };\n    const handleSendBackward = ()=>{\n        if (!canvas) return;\n        const activeObject = canvas.getActiveObject();\n        if (activeObject) {\n            saveCanvasState();\n            console.log(\"下移一层操作 - 活动对象:\", activeObject);\n            try {\n                if (canvas.sendBackwards) {\n                    console.log(\"使用Fabric.js下移一层方法\");\n                    canvas.sendBackwards(activeObject);\n                } else {\n                    console.log(\"使用手动层级管理下移一层\");\n                    manualLayerManagement(\"sendBackward\");\n                }\n                canvas.renderAll();\n                console.log(\"对象已下移一层\");\n            } catch (error) {\n                console.error(\"下移一层操作失败:\", error);\n                console.log(\"使用备用方案下移一层\");\n                manualLayerManagement(\"sendBackward\");\n            }\n        }\n    };\n    // 获取所有对象的层级信息\n    const getLayerInfo = ()=>{\n        if (!canvas) return [];\n        return canvas.getObjects().map((obj, index)=>({\n                id: obj.id || `obj-${index}`,\n                type: obj.type || \"unknown\",\n                name: obj.name || `对象${index + 1}`,\n                visible: obj.visible !== false,\n                locked: obj.selectable === false,\n                index: index\n            }));\n    };\n    // 清除画板功能\n    const handleClearCanvas = ()=>{\n        if (!canvas) return;\n        // 保存当前状态到历史记录\n        saveCanvasState();\n        // 清除画板并设置为纯白色背景\n        canvas.clear();\n        canvas.backgroundColor = \"#ffffff\";\n        canvas.renderAll();\n        console.log(\"画板已清除\");\n    };\n    // 处理画板缩放\n    const handleZoomChange = (delta)=>{\n        if (!canvas) return;\n        const newZoomLevel = Math.max(10, Math.min(500, zoomLevel + delta));\n        const scale = newZoomLevel / 100;\n        // 设置缩放比例\n        const vpt = canvas.viewportTransform || [\n            1,\n            0,\n            0,\n            1,\n            0,\n            0\n        ];\n        vpt[0] = scale;\n        vpt[3] = scale;\n        canvas.setViewportTransform(vpt);\n        canvas.requestRenderAll();\n        setZoomLevel(newZoomLevel);\n        console.log(`缩放比例: ${newZoomLevel}%`);\n    };\n    // 重置缩放比例\n    const handleZoomReset = ()=>{\n        if (!canvas) return;\n        // 重置到100%\n        const vpt = canvas.viewportTransform || [\n            1,\n            0,\n            0,\n            1,\n            0,\n            0\n        ];\n        vpt[0] = 1;\n        vpt[3] = 1;\n        vpt[4] = 0 // 重置X轴偏移\n        ;\n        vpt[5] = 0 // 重置Y轴偏移\n        ;\n        canvas.setViewportTransform(vpt);\n        canvas.requestRenderAll();\n        setZoomLevel(100);\n        console.log(\"缩放比例已重置为100%\");\n    };\n    // 下载画板内容为JSON文件\n    const handleDownloadCanvas = ()=>{\n        if (!canvas) {\n            alert(\"画布未初始化，无法下载\");\n            return;\n        }\n        try {\n            // 获取画布数据\n            const canvasData = canvas.toJSON();\n            // 添加元数据\n            const exportData = {\n                version: \"1.0\",\n                exportDate: new Date().toISOString(),\n                canvasInfo: {\n                    width: canvas.width,\n                    height: canvas.height,\n                    backgroundColor: canvas.backgroundColor,\n                    zoomLevel: zoomLevel,\n                    objectCount: canvas.getObjects().length\n                },\n                canvasData: canvasData,\n                metadata: {\n                    brushSettings: {\n                        size: brushSize,\n                        color: brushColor\n                    },\n                    activeTool: activeTool,\n                    theme: theme,\n                    language: language\n                }\n            };\n            // 创建JSON字符串\n            const jsonString = JSON.stringify(exportData, null, 2);\n            // 创建Blob对象\n            const blob = new Blob([\n                jsonString\n            ], {\n                type: \"application/json\"\n            });\n            // 创建下载链接\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\"a\");\n            a.href = url;\n            // 生成文件名\n            const timestamp = new Date().toISOString().replace(/[:.]/g, \"-\").slice(0, -5);\n            a.download = `canvas-export-${timestamp}.json`;\n            // 触发下载\n            document.body.appendChild(a);\n            a.click();\n            // 清理\n            setTimeout(()=>{\n                document.body.removeChild(a);\n                URL.revokeObjectURL(url);\n            }, 100);\n            console.log(\"画板内容已导出为JSON文件\");\n            // 显示下载成功提示\n            const notification = document.createElement(\"div\");\n            notification.innerHTML = `\n        <div style=\"position: fixed; top: 20px; right: 20px; background: #10b981; color: white; padding: 12px 16px; border-radius: 8px; z-index: 10000; box-shadow: 0 4px 6px rgba(0,0,0,0.1);\">\n          <strong>下载成功！</strong><br>\n          画板内容已保存为JSON文件\n        </div>\n      `;\n            document.body.appendChild(notification);\n            // 3秒后自动移除提示\n            setTimeout(()=>{\n                if (document.body.contains(notification)) {\n                    document.body.removeChild(notification);\n                }\n            }, 3000);\n        } catch (error) {\n            console.error(\"下载画板失败:\", error);\n            alert(\"下载失败，请重试\");\n        }\n    };\n    // 导入画板内容从JSON文件\n    const handleImportCanvas = ()=>{\n        if (!canvas) {\n            alert(\"画布未初始化，无法导入\");\n            return;\n        }\n        // 创建文件输入元素\n        const fileInput = document.createElement(\"input\");\n        fileInput.type = \"file\";\n        fileInput.accept = \".json\";\n        fileInput.style.display = \"none\";\n        fileInput.onchange = (event)=>{\n            const target = event.target;\n            const file = target.files?.[0];\n            if (!file) return;\n            // 清理文件输入值\n            target.value = \"\";\n            // 验证文件类型\n            if (!file.name.endsWith(\".json\")) {\n                alert(\"请选择JSON文件\");\n                return;\n            }\n            // 使用FileReader读取文件\n            const reader = new FileReader();\n            reader.onload = (e)=>{\n                try {\n                    const jsonContent = e.target?.result;\n                    const importData = JSON.parse(jsonContent);\n                    // 验证文件格式\n                    if (!importData.canvasData || !importData.version) {\n                        alert(\"无效的画板文件格式\");\n                        return;\n                    }\n                    // 保存当前状态到历史记录\n                    saveCanvasState();\n                    // 清除当前画布\n                    canvas.clear();\n                    // 加载导入的画布数据\n                    canvas.loadFromJSON(importData.canvasData, ()=>{\n                        // 画布加载完成后的回调\n                        canvas.renderAll();\n                        // 强制重新渲染画布，确保内容立即显示\n                        setTimeout(()=>{\n                            canvas.renderAll();\n                            // 触发一次画布重绘\n                            canvas.requestRenderAll();\n                        }, 100);\n                        // 恢复元数据设置\n                        if (importData.metadata) {\n                            const { brushSettings, theme: importTheme, language: importLanguage } = importData.metadata;\n                            if (brushSettings) {\n                                setBrushSize(brushSettings.size || 3);\n                                setBrushColor(brushSettings.color || \"#000000\");\n                            }\n                            if (importTheme && importTheme !== theme) {\n                                setTheme(importTheme);\n                                // 立即应用到document\n                                if (typeof document !== \"undefined\") {\n                                    if (importTheme === \"dark\") {\n                                        document.documentElement.classList.add(\"dark\");\n                                    } else {\n                                        document.documentElement.classList.remove(\"dark\");\n                                    }\n                                }\n                            }\n                            if (importLanguage && importLanguage !== language) {\n                                setLanguage(importLanguage);\n                            }\n                        }\n                        // 恢复缩放设置\n                        if (importData.canvasInfo?.zoomLevel) {\n                            setZoomLevel(importData.canvasInfo.zoomLevel);\n                        }\n                        console.log(\"画板内容已成功导入\");\n                        // 显示导入成功提示\n                        const notification = document.createElement(\"div\");\n                        notification.innerHTML = `\n              <div style=\"position: fixed; top: 20px; right: 20px; background: #10b981; color: white; padding: 12px 16px; border-radius: 8px; z-index: 10000; box-shadow: 0 4px 6px rgba(0,0,0,0.1);\">\n                <strong>导入成功！</strong><br>\n                画板内容已从JSON文件加载\n              </div>\n            `;\n                        document.body.appendChild(notification);\n                        // 3秒后自动移除提示\n                        setTimeout(()=>{\n                            if (document.body.contains(notification)) {\n                                document.body.removeChild(notification);\n                            }\n                        }, 3000);\n                    });\n                } catch (error) {\n                    console.error(\"导入画板失败:\", error);\n                    alert(\"导入失败，文件格式可能不正确\");\n                }\n            };\n            reader.onerror = ()=>{\n                alert(\"文件读取失败，请重试\");\n            };\n            reader.readAsText(file);\n        };\n        // 触发文件选择\n        document.body.appendChild(fileInput);\n        fileInput.click();\n        // 清理\n        setTimeout(()=>{\n            if (document.body.contains(fileInput)) {\n                document.body.removeChild(fileInput);\n            }\n        }, 1000);\n    };\n    const handleCaptureArea = async ()=>{\n        const imageData = await onCaptureArea();\n        if (imageData) {\n            // 这里可以将截图发送到聊天面板\n            console.log(\"Captured area:\", imageData);\n        }\n    };\n    // 返回用户项目页面\n    const handleBackToUser = ()=>{\n        router.push(\"/user/projects\");\n    };\n    // 切换主题\n    const handleToggleTheme = ()=>{\n        const newTheme = theme === \"light\" ? \"dark\" : \"light\";\n        setTheme(newTheme);\n        // 立即应用到document\n        if (typeof document !== \"undefined\") {\n            if (newTheme === \"dark\") {\n                document.documentElement.classList.add(\"dark\");\n            } else {\n                document.documentElement.classList.remove(\"dark\");\n            }\n        }\n    };\n    // 切换语言\n    const handleToggleLanguage = ()=>{\n        setLanguage(language === \"zh\" ? \"en\" : \"zh\");\n    };\n    // 获取语言显示文本\n    const getLanguageText = ()=>{\n        return language === \"zh\" ? \"中文\" : \"English\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-2 sm:px-4 py-2 flex flex-col lg:flex-row items-stretch lg:items-center justify-between gap-2 lg:gap-0 relative\",\n        children: [\n            showShapePicker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: shapePickerRef,\n                className: \"absolute left-16 top-12 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center mb-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"text-sm font-medium text-gray-900 dark:text-gray-100\",\n                                children: \"选择形状\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1546,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowShapePicker(false),\n                                className: \"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400\",\n                                children: \"\\xd7\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1547,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1545,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-4 gap-2\",\n                        children: shapes.map((shape)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>handleAddShape(shape.id),\n                                className: \"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex flex-col items-center min-w-[60px]\",\n                                title: shape.label,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(shape.icon, {\n                                        className: \"h-4 w-4 text-gray-600 dark:text-gray-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1562,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-600 dark:text-gray-400 mt-1 text-center leading-tight\",\n                                        children: shape.label\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1563,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, shape.id, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1556,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1554,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                lineNumber: 1544,\n                columnNumber: 9\n            }, this),\n            showLayerPanel && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: layerPanelRef,\n                className: \"absolute right-16 top-12 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 w-64\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center mb-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"text-sm font-medium text-gray-900 dark:text-gray-100\",\n                                children: \"层级管理\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1574,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowLayerPanel(false),\n                                className: \"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400\",\n                                children: \"\\xd7\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1575,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1573,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-2 gap-2 mb-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleBringToFront,\n                                className: \"flex items-center justify-center p-2 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded text-xs hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors\",\n                                title: \"置顶 (Ctrl + Shift + ])\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                        className: \"h-3 w-3 mr-1\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1590,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"置顶\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs opacity-70 ml-1\",\n                                        children: \"Ctrl+Shift+]\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1592,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1585,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSendToBack,\n                                className: \"flex items-center justify-center p-2 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded text-xs hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors\",\n                                title: \"置底 (Ctrl + Shift + [)\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                        className: \"h-3 w-3 mr-1\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1599,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"置底\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs opacity-70 ml-1\",\n                                        children: \"Ctrl+Shift+[\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1601,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1594,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleBringForward,\n                                className: \"flex items-center justify-center p-2 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded text-xs hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors\",\n                                title: \"上移一层 (Ctrl + ])\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                        className: \"h-3 w-3 mr-1\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1608,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"上移一层\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs opacity-70 ml-1\",\n                                        children: \"Ctrl+]\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1610,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1603,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSendBackward,\n                                className: \"flex items-center justify-center p-2 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded text-xs hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors\",\n                                title: \"下移一层 (Ctrl + [)\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        className: \"h-3 w-3 mr-1\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1617,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"下移一层\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs opacity-70 ml-1\",\n                                        children: \"Ctrl+[\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1619,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1612,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1584,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t border-gray-200 dark:border-gray-700 pt-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-between items-center mb-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                        className: \"text-xs font-medium text-gray-700 dark:text-gray-300\",\n                                        children: \"对象层级\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1626,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                        children: [\n                                            \"共 \",\n                                            getLayerInfo().length,\n                                            \" 个对象\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1627,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1625,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1 max-h-32 overflow-y-auto\",\n                                children: getLayerInfo().length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-gray-500 dark:text-gray-400 text-center py-2\",\n                                    children: \"暂无对象\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                    lineNumber: 1631,\n                                    columnNumber: 17\n                                }, this) : getLayerInfo().map((layer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `flex items-center justify-between p-1 text-xs rounded cursor-pointer ${canvas?.getActiveObject()?.id === layer.id ? \"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300\" : \"hover:bg-gray-100 dark:hover:bg-gray-800\"}`,\n                                        onClick: ()=>{\n                                            // 点击层级项选中对应对象\n                                            const obj = canvas?.getObjects().find((o)=>o.id === layer.id);\n                                            if (obj) {\n                                                canvas?.setActiveObject(obj);\n                                                canvas?.renderAll();\n                                            }\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"truncate\",\n                                                children: layer.name\n                                            }, void 0, false, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                                lineNumber: 1652,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-500 dark:text-gray-400\",\n                                                children: layer.index + 1\n                                            }, void 0, false, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                                lineNumber: 1653,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, layer.id, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1636,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1629,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1624,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"border-t border-gray-200 dark:border-gray-700 pt-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"font-medium mb-1\",\n                                    children: \"使用提示：\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                    lineNumber: 1663,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"• 右键点击对象可快速操作层级\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                    lineNumber: 1664,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"• 使用快捷键 Ctrl+[ ] 调整层级\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                    lineNumber: 1665,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"• 点击层级列表可选中对象\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                    lineNumber: 1666,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1662,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1661,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                lineNumber: 1572,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TextToolPanel__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                canvas: canvas,\n                isVisible: showTextToolPanel,\n                onClose: ()=>setShowTextToolPanel(false),\n                position: textToolPosition\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                lineNumber: 1673,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SaveProjectModal__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                isOpen: showSaveModal,\n                onClose: ()=>setShowSaveModal(false),\n                onSave: handleSaveProject,\n                projectData: projectData\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                lineNumber: 1681,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center lg:justify-start flex-wrap gap-1 lg:gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleBackToUser,\n                        className: \"p-1 lg:p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\",\n                        title: \"返回用户页面\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1696,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1691,\n                        columnNumber: 9\n                    }, this),\n                    tools.map((tool)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleToolSelect(tool.id),\n                            className: `p-1 lg:p-2 rounded-lg transition-colors ${activeTool === tool.id ? \"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400\" : \"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800\"}`,\n                            title: tool.label,\n                            \"data-tool\": tool.id,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(tool.icon, {\n                                className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1711,\n                                columnNumber: 13\n                            }, this)\n                        }, tool.id, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1700,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                lineNumber: 1689,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center flex-wrap gap-2 lg:gap-4 mt-2 lg:mt-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-1 lg:space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"range\",\n                                min: \"1\",\n                                max: \"20\",\n                                value: brushSize,\n                                onChange: (e)=>handleBrushSizeChange(Number(e.target.value)),\n                                className: \"w-16 lg:w-20 dark:bg-gray-700 dark:border-gray-600\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1720,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs lg:text-sm text-gray-600 dark:text-gray-300\",\n                                children: [\n                                    brushSize,\n                                    \"px\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1728,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1719,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-1 lg:space-x-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"color\",\n                            value: brushColor,\n                            onChange: (e)=>handleColorChange(e.target.value),\n                            className: \"w-6 h-6 lg:w-8 lg:h-8 rounded border border-gray-300 dark:border-gray-600\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1733,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1732,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-1 lg:space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>handleZoomChange(-10),\n                                className: \"p-1 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded\",\n                                title: \"缩小\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"h-3 w-3 lg:h-4 lg:w-4\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M19 9l-7 7-7-7\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1749,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                    lineNumber: 1748,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1743,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>handleZoomReset(),\n                                className: \"text-xs lg:text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 px-1 lg:px-2 py-1 rounded\",\n                                title: \"重置缩放\",\n                                children: [\n                                    zoomLevel,\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1752,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>handleZoomChange(10),\n                                className: \"p-1 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded\",\n                                title: \"放大\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"h-3 w-3 lg:h-4 lg:w-4\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M5 15l7-7 7 7\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1765,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                    lineNumber: 1764,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1759,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1742,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                lineNumber: 1717,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-center lg:justify-end flex-wrap gap-1 lg:gap-2 mt-2 lg:mt-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleUndo,\n                        className: \"p-1 lg:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\",\n                        title: \"撤销\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1782,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1777,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleClearCanvas,\n                        className: \"p-1 lg:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\",\n                        title: \"清除画板\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            stroke: \"currentColor\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                strokeWidth: 2,\n                                d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1790,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1789,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1784,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleSave,\n                        className: \"p-1 lg:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\",\n                        title: \"保存画板\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1800,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1795,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleImportCanvas,\n                        className: \"p-1 lg:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\",\n                        title: \"导入画板(JSON)\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1807,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1802,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleDownloadCanvas,\n                        className: \"p-1 lg:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\",\n                        title: \"下载画板(JSON)\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1814,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1809,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleToggleTheme,\n                        className: \"p-1 lg:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\",\n                        title: `切换到${theme === \"light\" ? \"深色\" : \"浅色\"}主题`,\n                        children: theme === \"light\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1823,\n                            columnNumber: 32\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1823,\n                            columnNumber: 77\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1818,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleToggleLanguage,\n                        className: \"p-1 lg:p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg\",\n                        title: `切换到${language === \"zh\" ? \"English\" : \"中文\"}`,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowDown_ArrowLeft_ArrowRight_ArrowUp_ArrowUpRight_Braces_Circle_Diamond_Download_Eraser_Hand_Heart_Image_Languages_Layers_Minus_Moon_MoveDown_MoveUp_Octagon_Pencil_RotateCcw_Save_Shapes_Square_Star_Sun_Triangle_Type_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                            className: \"h-4 w-4 lg:h-5 lg:w-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                            lineNumber: 1832,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1827,\n                        columnNumber: 9\n                    }, this),\n                    userInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-1 lg:space-x-2 bg-gray-100 dark:bg-gray-800 rounded-full px-2 lg:px-3 py-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs lg:text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                        children: userInfo.points\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1840,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                        children: \"点\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                        lineNumber: 1841,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1839,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-3 lg:h-4 w-px bg-gray-300 dark:bg-gray-600\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1845,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: userInfo.avatar,\n                                    alt: userInfo.username,\n                                    className: \"w-4 h-4 lg:w-6 lg:h-6 rounded-full\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                    lineNumber: 1849,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                                lineNumber: 1848,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                        lineNumber: 1837,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n                lineNumber: 1775,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/CanvasToolbar.tsx\",\n        lineNumber: 1541,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0RBQ2IsOERBQUNNO3dDQUFLTixXQUFVO2tEQUFtRTdULFNBQVNzVixNQUFNOzs7Ozs7a0RBQ2xHLDhEQUFDbkI7d0NBQUtOLFdBQVU7a0RBQTJDOzs7Ozs7Ozs7Ozs7MENBSTdELDhEQUFDRDtnQ0FBSUMsV0FBVTs7Ozs7OzBDQUdmLDhEQUFDRDtnQ0FBSUMsV0FBVTswQ0FDYiw0RUFBQy9KO29DQUNDZSxLQUFLN0ssU0FBU3VWLE1BQU07b0NBQ3BCeEgsS0FBSy9OLFNBQVN3VixRQUFRO29DQUN0QjNCLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUTFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VpeXVhbi1haS8uL2NvbXBvbmVudHMvQ2FudmFzVG9vbGJhci50c3g/NjVhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBcbiAgUGVuY2lsLCBcbiAgU2hhcGVzLFxuICBTcXVhcmUsIFxuICBDaXJjbGUsIFxuICBUcmlhbmdsZSxcbiAgU3RhcixcbiAgSGVhcnQsXG4gIERpYW1vbmQsXG4gIE9jdGFnb24sXG4gIEFycm93UmlnaHQsXG4gIE1pbnVzLFxuICBCcmFjZXMsXG4gIFR5cGUsIFxuICBFcmFzZXIsIFxuICBJbWFnZSBhcyBJbWFnZUljb24sXG4gIERvd25sb2FkLFxuICBVcGxvYWQsXG4gIFNhdmUsXG4gIFJvdGF0ZUNjdyxcbiAgUm90YXRlQ3csXG4gIE1vdXNlUG9pbnRlcjIsXG4gIEhhbmQsXG4gIEFycm93VXBSaWdodCxcbiAgQXJyb3dMZWZ0LFxuICBTdW4sXG4gIE1vb24sXG4gIExhbmd1YWdlcyxcbiAgVXNlcixcbiAgTGF5ZXJzLFxuICBBcnJvd1VwLFxuICBBcnJvd0Rvd24sXG4gIE1vdmVVcCxcbiAgTW92ZURvd25cbn0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IFRleHRUb29sUGFuZWwgZnJvbSAnLi9UZXh0VG9vbFBhbmVsJ1xuaW1wb3J0IHsgdXNlVXNlclN0b3JlIH0gZnJvbSAnLi4vc3RvcmVzL3VzZXJTdG9yZSdcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbidcbmltcG9ydCBTYXZlUHJvamVjdE1vZGFsIGZyb20gJy4vU2F2ZVByb2plY3RNb2RhbCdcblxuaW50ZXJmYWNlIENhbnZhc1Rvb2xiYXJQcm9wcyB7XG4gIGNhbnZhczogYW55XG4gIG9uQ2FwdHVyZUFyZWE6ICgpID0+IFByb21pc2U8c3RyaW5nIHwgbnVsbD5cbiAgc2VsZWN0ZWRBcmVhOiBhbnlcbn1cblxudHlwZSBUb29sID0gJ3BlbmNpbCcgfCAnc2hhcGVzJyB8ICd0ZXh0JyB8ICdlcmFzZXInIHwgJ2ltYWdlJyB8ICdoYW5kJyB8ICdhcnJvdycgfCAnbGF5ZXJzJ1xudHlwZSBTaGFwZVR5cGUgPSAncmVjdGFuZ2xlJyB8ICdjaXJjbGUnIHwgJ3RyaWFuZ2xlJyB8ICdzdGFyJyB8ICdoZWFydCcgfCAnZGlhbW9uZCcgfCAnb2N0YWdvbicgfCAnYXJyb3cnIHwgJ2xpbmUnIHwgJ2Rhc2hlZC1saW5lJyB8ICdsZWZ0LWJyYWNlJyB8ICdyaWdodC1icmFjZSdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FudmFzVG9vbGJhcih7IGNhbnZhcywgb25DYXB0dXJlQXJlYSwgc2VsZWN0ZWRBcmVhIH06IENhbnZhc1Rvb2xiYXJQcm9wcykge1xuICBjb25zdCBbYWN0aXZlVG9vbCwgc2V0QWN0aXZlVG9vbF0gPSB1c2VTdGF0ZTxUb29sPigncGVuY2lsJylcbiAgY29uc3QgW2JydXNoU2l6ZSwgc2V0QnJ1c2hTaXplXSA9IHVzZVN0YXRlKDMpXG4gIGNvbnN0IFticnVzaENvbG9yLCBzZXRCcnVzaENvbG9yXSA9IHVzZVN0YXRlKCcjMDAwMDAwJylcbiAgY29uc3QgW3Nob3dTaGFwZVBpY2tlciwgc2V0U2hvd1NoYXBlUGlja2VyXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNEcmF3aW5nTW9kZSwgc2V0SXNEcmF3aW5nTW9kZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3Qgc2hhcGVQaWNrZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IFtoaXN0b3J5LCBzZXRIaXN0b3J5XSA9IHVzZVN0YXRlPGFueVtdW10+KFtdKVxuICBjb25zdCBbaGlzdG9yeUluZGV4LCBzZXRIaXN0b3J5SW5kZXhdID0gdXNlU3RhdGUoLTEpXG4gIGNvbnN0IFt6b29tTGV2ZWwsIHNldFpvb21MZXZlbF0gPSB1c2VTdGF0ZSgxMDApXG4gIGNvbnN0IFtzaG93VGV4dFRvb2xQYW5lbCwgc2V0U2hvd1RleHRUb29sUGFuZWxdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFt0ZXh0VG9vbFBvc2l0aW9uLCBzZXRUZXh0VG9vbFBvc2l0aW9uXSA9IHVzZVN0YXRlKHsgbGVmdDogMCwgdG9wOiAwIH0pXG4gIGNvbnN0IHRleHRUb29sUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCB7IHRoZW1lLCBsYW5ndWFnZSwgc2V0VGhlbWUsIHNldExhbmd1YWdlLCB1c2VySW5mbyB9ID0gdXNlVXNlclN0b3JlKClcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgW3Nob3dTYXZlTW9kYWwsIHNldFNob3dTYXZlTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzaG93TGF5ZXJQYW5lbCwgc2V0U2hvd0xheWVyUGFuZWxdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IGxheWVyUGFuZWxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgLy8g54K55Ye75aSW6YOo5YWz6Zet5b2i54q26YCJ5oup5Y2h54mH5ZKM5bGC57qn6Z2i5p2/XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoc2hhcGVQaWNrZXJSZWYuY3VycmVudCAmJiAhc2hhcGVQaWNrZXJSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2hvd1NoYXBlUGlja2VyKGZhbHNlKVxuICAgICAgfVxuICAgICAgaWYgKHRleHRUb29sUmVmLmN1cnJlbnQgJiYgIXRleHRUb29sUmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgIHNldFNob3dUZXh0VG9vbFBhbmVsKGZhbHNlKVxuICAgICAgfVxuICAgICAgaWYgKGxheWVyUGFuZWxSZWYuY3VycmVudCAmJiAhbGF5ZXJQYW5lbFJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRTaG93TGF5ZXJQYW5lbChmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc2hvd1NoYXBlUGlja2VyIHx8IHNob3dUZXh0VG9vbFBhbmVsIHx8IHNob3dMYXllclBhbmVsKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpXG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSlcbiAgICB9XG4gIH0sIFtzaG93U2hhcGVQaWNrZXIsIHNob3dUZXh0VG9vbFBhbmVsLCBzaG93TGF5ZXJQYW5lbF0pXG5cbiAgLy8g5Yig6Zmk6YCJ5Lit55qE5a+56LGhXG4gIGNvbnN0IGhhbmRsZURlbGV0ZVNlbGVjdGVkID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzKSByZXR1cm5cbiAgICBcbiAgICBjb25zdCBhY3RpdmVPYmplY3RzID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdHMoKVxuICAgIGlmIChhY3RpdmVPYmplY3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIOS/neWtmOW9k+WJjeeKtuaAgeWIsOWOhuWPsuiusOW9lVxuICAgICAgc2F2ZUNhbnZhc1N0YXRlKClcbiAgICAgIFxuICAgICAgLy8g5Yig6Zmk5omA5pyJ6YCJ5Lit55qE5a+56LGhXG4gICAgICBjYW52YXMucmVtb3ZlKC4uLmFjdGl2ZU9iamVjdHMpXG4gICAgICBjYW52YXMuZGlzY2FyZEFjdGl2ZU9iamVjdCgpXG4gICAgICBjYW52YXMucmVxdWVzdFJlbmRlckFsbCgpXG4gICAgfVxuICB9XG5cbiAgLy8g6ZSu55uY5LqL5Lu25aSE55CGXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKCFjYW52YXMpIHJldHVyblxuICAgICAgXG4gICAgICBjb25zdCBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KClcbiAgICAgIFxuICAgICAgLy8g5aaC5p6c5b2T5YmN6YCJ5Lit55qE5piv5paH5a2X5a+56LGh5LiU5aSE5LqO57yW6L6R5qih5byP77yM6K6pQmFja3NwYWNl6ZSu6YCQ5Liq5Yig6Zmk5a2X56ymXG4gICAgICBpZiAoYWN0aXZlT2JqZWN0ICYmIGFjdGl2ZU9iamVjdC5pc0VkaXRpbmcgJiYgZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJykge1xuICAgICAgICAvLyDorqlGYWJyaWMuanPlpITnkIbmloflrZfnvJbovpHnmoRCYWNrc3BhY2XpgLvovpFcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOWkhOeQhkRlbGV0ZemUruWIoOmZpOmAieS4reeahOWvueixoe+8iEJhY2tzcGFjZeWcqOe8lui+keaooeW8j+S4i+S4jeWIoOmZpOWvueixoe+8iVxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0RlbGV0ZScpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBoYW5kbGVEZWxldGVTZWxlY3RlZCgpXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOWkhOeQhkJhY2tzcGFjZemUru+8iOmdnue8lui+keaooeW8j+S4i+WIoOmZpOmAieS4reeahOWvueixoe+8iVxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgKCFhY3RpdmVPYmplY3QgfHwgIWFjdGl2ZU9iamVjdC5pc0VkaXRpbmcpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaGFuZGxlRGVsZXRlU2VsZWN0ZWQoKVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDlsYLnuqfmk43kvZzlv6vmjbfplK5cbiAgICAgIGlmIChhY3RpdmVPYmplY3QgJiYgZXZlbnQuY3RybEtleSkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICAgIGNhc2UgJ10nOiAvLyBDdHJsICsgXSAtIOS4iuenu+S4gOWxglxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgaGFuZGxlQnJpbmdGb3J3YXJkKClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnWyc6IC8vIEN0cmwgKyBbIC0g5LiL56e75LiA5bGCXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBoYW5kbGVTZW5kQmFja3dhcmQoKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICd9JzogLy8gQ3RybCArIFNoaWZ0ICsgXSAtIOe9rumhtlxuICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgaGFuZGxlQnJpbmdUb0Zyb250KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAneyc6IC8vIEN0cmwgKyBTaGlmdCArIFsgLSDnva7lupVcbiAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgIGhhbmRsZVNlbmRUb0JhY2soKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bilcbiAgICB9XG4gIH0sIFtjYW52YXNdKVxuXG4gIC8vIOS/neWtmOeUu+W4g+eKtuaAgeWIsOWOhuWPsuiusOW9lVxuICBjb25zdCBzYXZlQ2FudmFzU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXMgfHwgISh3aW5kb3cgYXMgYW55KS5mYWJyaWMpIHJldHVyblxuICAgIFxuICAgIC8vIOa3seaLt+i0neeUu+W4g+WvueixoeS7pemBv+WFjeW8leeUqOWFseS6q+mXrumimFxuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGNhbnZhcy5fb2JqZWN0cy5tYXAob2JqID0+IHtcbiAgICAgIGlmICghb2JqKSByZXR1cm4gbnVsbFxuICAgICAgcmV0dXJuICh3aW5kb3cgYXMgYW55KS5mYWJyaWM/LnV0aWw/Lm9iamVjdD8uY2xvbmUob2JqKSB8fCBvYmpcbiAgICB9KS5maWx0ZXIob2JqID0+IG9iaiAhPT0gbnVsbClcbiAgICBcbiAgICBjb25zdCBuZXdIaXN0b3J5ID0gaGlzdG9yeS5zbGljZSgwLCBoaXN0b3J5SW5kZXggKyAxKVxuICAgIG5ld0hpc3RvcnkucHVzaChjdXJyZW50U3RhdGUpXG4gICAgXG4gICAgc2V0SGlzdG9yeShuZXdIaXN0b3J5KVxuICAgIHNldEhpc3RvcnlJbmRleChuZXdIaXN0b3J5Lmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyDorr7nva7nlLvmnb/np7vliqjlip/og71cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuXG4gICAgXG4gICAgbGV0IGlzUGFubmluZyA9IGZhbHNlXG4gICAgbGV0IGxhc3RQb3NYID0gMFxuICAgIGxldCBsYXN0UG9zWSA9IDBcbiAgICBcbiAgICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSAob3B0OiBhbnkpID0+IHtcbiAgICAgIGlmIChhY3RpdmVUb29sID09PSAnaGFuZCcpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gb3B0LmVcbiAgICAgICAgaXNQYW5uaW5nID0gdHJ1ZVxuICAgICAgICBjYW52YXMuZGVmYXVsdEN1cnNvciA9ICdncmFiYmluZydcbiAgICAgICAgY2FudmFzLmhvdmVyQ3Vyc29yID0gJ2dyYWJiaW5nJ1xuICAgICAgICBsYXN0UG9zWCA9IGV2dC5jbGllbnRYXG4gICAgICAgIGxhc3RQb3NZID0gZXZ0LmNsaWVudFlcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKG9wdDogYW55KSA9PiB7XG4gICAgICBpZiAoaXNQYW5uaW5nICYmIGFjdGl2ZVRvb2wgPT09ICdoYW5kJykge1xuICAgICAgICBjb25zdCBldnQgPSBvcHQuZVxuICAgICAgICBjb25zdCBkZWx0YVggPSBldnQuY2xpZW50WCAtIGxhc3RQb3NYXG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IGV2dC5jbGllbnRZIC0gbGFzdFBvc1lcbiAgICAgICAgXG4gICAgICAgIC8vIOenu+WKqOinhuWPo1xuICAgICAgICBjb25zdCB2cHQgPSBjYW52YXMudmlld3BvcnRUcmFuc2Zvcm0gfHwgWzEsIDAsIDAsIDEsIDAsIDBdXG4gICAgICAgIHZwdFs0XSArPSBkZWx0YVhcbiAgICAgICAgdnB0WzVdICs9IGRlbHRhWVxuICAgICAgICBcbiAgICAgICAgY2FudmFzLnNldFZpZXdwb3J0VHJhbnNmb3JtKHZwdClcbiAgICAgICAgY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKVxuICAgICAgICBcbiAgICAgICAgbGFzdFBvc1ggPSBldnQuY2xpZW50WFxuICAgICAgICBsYXN0UG9zWSA9IGV2dC5jbGllbnRZXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XG4gICAgICBpZiAoYWN0aXZlVG9vbCA9PT0gJ2hhbmQnKSB7XG4gICAgICAgIGlzUGFubmluZyA9IGZhbHNlXG4gICAgICAgIGNhbnZhcy5kZWZhdWx0Q3Vyc29yID0gJ2dyYWInXG4gICAgICAgIGNhbnZhcy5ob3ZlckN1cnNvciA9ICdncmFiJ1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjYW52YXMub24oJ21vdXNlOmRvd24nLCBoYW5kbGVNb3VzZURvd24pXG4gICAgY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgaGFuZGxlTW91c2VNb3ZlKVxuICAgIGNhbnZhcy5vbignbW91c2U6dXAnLCBoYW5kbGVNb3VzZVVwKVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW52YXMub2ZmKCdtb3VzZTpkb3duJywgaGFuZGxlTW91c2VEb3duKVxuICAgICAgY2FudmFzLm9mZignbW91c2U6bW92ZScsIGhhbmRsZU1vdXNlTW92ZSlcbiAgICAgIGNhbnZhcy5vZmYoJ21vdXNlOnVwJywgaGFuZGxlTW91c2VVcClcbiAgICB9XG4gIH0sIFtjYW52YXMsIGFjdGl2ZVRvb2xdKVxuXG4gIC8vIOebkeWQrOeUu+adv+e8qeaUvuS6i+S7tlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FudmFzKSByZXR1cm5cbiAgICBcbiAgICBjb25zdCB1cGRhdGVab29tTGV2ZWwgPSAoKSA9PiB7XG4gICAgICBjb25zdCB2cHQgPSBjYW52YXMudmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgIGlmICh2cHQpIHtcbiAgICAgICAgLy8g6K6h566X57yp5pS+5q+U5L6L77yIdmlld3BvcnRUcmFuc2Zvcm1bMF0g5pivWOi9tOe8qeaUvuWboOWtkO+8iVxuICAgICAgICBjb25zdCBzY2FsZSA9IHZwdFswXSAqIDEwMFxuICAgICAgICBzZXRab29tTGV2ZWwoTWF0aC5yb3VuZChzY2FsZSkpXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIOWIneWni+abtOaWsFxuICAgIHVwZGF0ZVpvb21MZXZlbCgpXG4gICAgXG4gICAgLy8g55uR5ZCs6byg5qCH5rua6L2u57yp5pS+5LqL5Lu2XG4gICAgY2FudmFzLm9uKCdtb3VzZTp3aGVlbCcsIHVwZGF0ZVpvb21MZXZlbClcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2FudmFzLm9mZignbW91c2U6d2hlZWwnLCB1cGRhdGVab29tTGV2ZWwpXG4gICAgfVxuICB9LCBbY2FudmFzXSlcblxuICAvLyDlvZPnlLvluIPlhoXlrrnlj5jljJbml7bkv53lrZjnirbmgIFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuXG4gICAgXG4gICAgLy8g5Yid5aeL5YyW5pe25L+d5a2Y56m654q25oCBXG4gICAgaWYgKGhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgICBzYXZlQ2FudmFzU3RhdGUoKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBoYW5kbGVPYmplY3RBZGRlZCA9ICgpID0+IHtcbiAgICAgIHNhdmVDYW52YXNTdGF0ZSgpXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGhhbmRsZU9iamVjdFJlbW92ZWQgPSAoKSA9PiB7XG4gICAgICBzYXZlQ2FudmFzU3RhdGUoKVxuICAgIH1cbiAgICBcbiAgICAvLyDlj4zlh7vmloflrZflr7nosaHov5vlhaXnvJbovpHmqKHlvI9cbiAgICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSAob3B0aW9uczogYW55KSA9PiB7XG4gICAgICBpZiAob3B0aW9ucy50YXJnZXQgJiYgb3B0aW9ucy50YXJnZXQudHlwZSA9PT0gJ3RleHRib3gnKSB7XG4gICAgICAgIC8vIOWPjOWHu+aXtui/m+WFpee8lui+keaooeW8j1xuICAgICAgICBpZiAob3B0aW9ucy5lLmRldGFpbCA9PT0gMikge1xuICAgICAgICAgIG9wdGlvbnMudGFyZ2V0LmVudGVyRWRpdGluZygpXG4gICAgICAgICAgY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNhbnZhcy5vbignb2JqZWN0OmFkZGVkJywgaGFuZGxlT2JqZWN0QWRkZWQpXG4gICAgY2FudmFzLm9uKCdvYmplY3Q6cmVtb3ZlZCcsIGhhbmRsZU9iamVjdFJlbW92ZWQpXG4gICAgY2FudmFzLm9uKCdtb3VzZTpkb3duJywgaGFuZGxlTW91c2VEb3duKVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW52YXMub2ZmKCdvYmplY3Q6YWRkZWQnLCBoYW5kbGVPYmplY3RBZGRlZClcbiAgICAgIGNhbnZhcy5vZmYoJ29iamVjdDpyZW1vdmVkJywgaGFuZGxlT2JqZWN0UmVtb3ZlZClcbiAgICAgIGNhbnZhcy5vZmYoJ21vdXNlOmRvd24nLCBoYW5kbGVNb3VzZURvd24pXG4gICAgfVxuICB9LCBbY2FudmFzLCBoaXN0b3J5LCBoaXN0b3J5SW5kZXhdKVxuXG4gIGNvbnN0IHRvb2xzID0gW1xuICAgIHsgaWQ6ICdoYW5kJyBhcyBUb29sLCBpY29uOiBIYW5kLCBsYWJlbDogJ+enu+WKqOeUu+advycgfSxcbiAgICB7IGlkOiAncGVuY2lsJyBhcyBUb29sLCBpY29uOiBQZW5jaWwsIGxhYmVsOiAn55S756yUJyB9LFxuICAgIHsgaWQ6ICdhcnJvdycgYXMgVG9vbCwgaWNvbjogQXJyb3dVcFJpZ2h0LCBsYWJlbDogJ+eureWktCcgfSxcbiAgICB7IGlkOiAnc2hhcGVzJyBhcyBUb29sLCBpY29uOiBTaGFwZXMsIGxhYmVsOiAn5b2i54q2JyB9LFxuICAgIHsgaWQ6ICd0ZXh0JyBhcyBUb29sLCBpY29uOiBUeXBlLCBsYWJlbDogJ+aWh+WtlycgfSxcbiAgICB7IGlkOiAnZXJhc2VyJyBhcyBUb29sLCBpY29uOiBFcmFzZXIsIGxhYmVsOiAn5qmh55qu5pOmJyB9LFxuICAgIHsgaWQ6ICdpbWFnZScgYXMgVG9vbCwgaWNvbjogSW1hZ2VJY29uLCBsYWJlbDogJ+WbvueJhycgfSxcbiAgICB7IGlkOiAnbGF5ZXJzJyBhcyBUb29sLCBpY29uOiBMYXllcnMsIGxhYmVsOiAn5bGC57qn566h55CGJyB9LFxuICBdXG5cbiAgY29uc3Qgc2hhcGVzID0gW1xuICAgIHsgaWQ6ICdyZWN0YW5nbGUnIGFzIFNoYXBlVHlwZSwgaWNvbjogU3F1YXJlLCBsYWJlbDogJ+efqeW9oicgfSxcbiAgICB7IGlkOiAnY2lyY2xlJyBhcyBTaGFwZVR5cGUsIGljb246IENpcmNsZSwgbGFiZWw6ICflnIblvaInIH0sXG4gICAgeyBpZDogJ3RyaWFuZ2xlJyBhcyBTaGFwZVR5cGUsIGljb246IFRyaWFuZ2xlLCBsYWJlbDogJ+S4ieinkuW9oicgfSxcbiAgICB7IGlkOiAnc3RhcicgYXMgU2hhcGVUeXBlLCBpY29uOiBTdGFyLCBsYWJlbDogJ+aYn+aYnycgfSxcbiAgICB7IGlkOiAnaGVhcnQnIGFzIFNoYXBlVHlwZSwgaWNvbjogSGVhcnQsIGxhYmVsOiAn5b+D5b2iJyB9LFxuICAgIHsgaWQ6ICdkaWFtb25kJyBhcyBTaGFwZVR5cGUsIGljb246IERpYW1vbmQsIGxhYmVsOiAn6I+x5b2iJyB9LFxuICAgIHsgaWQ6ICdvY3RhZ29uJyBhcyBTaGFwZVR5cGUsIGljb246IE9jdGFnb24sIGxhYmVsOiAn5YWr6L655b2iJyB9LFxuICAgIHsgaWQ6ICdhcnJvdycgYXMgU2hhcGVUeXBlLCBpY29uOiBBcnJvd1JpZ2h0LCBsYWJlbDogJ+eureWktCcgfSxcbiAgICB7IGlkOiAnbGluZScgYXMgU2hhcGVUeXBlLCBpY29uOiBNaW51cywgbGFiZWw6ICfnm7Tnur8nIH0sXG4gICAgeyBpZDogJ2Rhc2hlZC1saW5lJyBhcyBTaGFwZVR5cGUsIGljb246IE1pbnVzLCBsYWJlbDogJ+iZmue6vycgfSxcbiAgICB7IGlkOiAnbGVmdC1icmFjZScgYXMgU2hhcGVUeXBlLCBpY29uOiBCcmFjZXMsIGxhYmVsOiAn5bem5aSn5ous5Y+3JyB9LFxuICAgIHsgaWQ6ICdyaWdodC1icmFjZScgYXMgU2hhcGVUeXBlLCBpY29uOiBCcmFjZXMsIGxhYmVsOiAn5Y+z5aSn5ous5Y+3JyB9LFxuICBdXG5cbiAgY29uc3QgaGFuZGxlVG9vbFNlbGVjdCA9ICh0b29sOiBUb29sKSA9PiB7XG4gICAgc2V0QWN0aXZlVG9vbCh0b29sKVxuICAgIFxuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0NhbnZhcyBpcyBub3QgYXZhaWxhYmxlJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdTZWxlY3RlZCB0b29sOicsIHRvb2wpXG4gICAgXG4gICAgc3dpdGNoICh0b29sKSB7XG4gICAgICBjYXNlICdwZW5jaWwnOlxuICAgICAgICBjYW52YXMuaXNEcmF3aW5nTW9kZSA9IHRydWVcbiAgICAgICAgc2V0SXNEcmF3aW5nTW9kZSh0cnVlKVxuICAgICAgICBpZiAoY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gpIHtcbiAgICAgICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaC53aWR0aCA9IGJydXNoU2l6ZVxuICAgICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLmNvbG9yID0gYnJ1c2hDb2xvclxuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy5kZWZhdWx0Q3Vyc29yID0gJ2Nyb3NzaGFpcidcbiAgICAgICAgY2FudmFzLmhvdmVyQ3Vyc29yID0gJ2Nyb3NzaGFpcidcbiAgICAgICAgY29uc29sZS5sb2coJ1BlbmNpbCBtb2RlIGFjdGl2YXRlZCcpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzaGFwZXMnOlxuICAgICAgICAvLyDnpoHnlKjnu5jlm77mqKHlvI/ku6XmlK/mjIHpgInmi6nljLrln5/lip/og71cbiAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSBmYWxzZVxuICAgICAgICBzZXRJc0RyYXdpbmdNb2RlKGZhbHNlKVxuICAgICAgICBjYW52YXMuZGVmYXVsdEN1cnNvciA9ICdjcm9zc2hhaXInXG4gICAgICAgIGNhbnZhcy5ob3ZlckN1cnNvciA9ICdjcm9zc2hhaXInXG4gICAgICAgIHNldFNob3dTaGFwZVBpY2tlcih0cnVlKVxuICAgICAgICBjb25zb2xlLmxvZygnU2hhcGVzIG1vZGUgYWN0aXZhdGVkJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2VyYXNlcic6XG4gICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gdHJ1ZVxuICAgICAgICBzZXRJc0RyYXdpbmdNb2RlKHRydWUpXG4gICAgICAgIGlmIChjYW52YXMuZnJlZURyYXdpbmdCcnVzaCkge1xuICAgICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLndpZHRoID0gYnJ1c2hTaXplXG4gICAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2guY29sb3IgPSAnI2ZmZmZmZidcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMuZGVmYXVsdEN1cnNvciA9ICdjcm9zc2hhaXInXG4gICAgICAgIGNhbnZhcy5ob3ZlckN1cnNvciA9ICdjcm9zc2hhaXInXG4gICAgICAgIGNvbnNvbGUubG9nKCdFcmFzZXIgbW9kZSBhY3RpdmF0ZWQnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gZmFsc2VcbiAgICAgICAgc2V0SXNEcmF3aW5nTW9kZShmYWxzZSlcbiAgICAgICAgLy8g6K6h566X5paH5a2X5bel5YW36Z2i5p2/5L2N572uXG4gICAgICAgIGNvbnN0IHRleHRUb29sQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdG9vbD1cInRleHRcIl0nKSBhcyBIVE1MRWxlbWVudFxuICAgICAgICBpZiAodGV4dFRvb2xCdXR0b24pIHtcbiAgICAgICAgICBjb25zdCByZWN0ID0gdGV4dFRvb2xCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICBzZXRUZXh0VG9vbFBvc2l0aW9uKHtcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgICAgICAgIHRvcDogcmVjdC5ib3R0b20gKyAxMFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgY2FudmFzLmRlZmF1bHRDdXJzb3IgPSAndGV4dCdcbiAgICAgICAgY2FudmFzLmhvdmVyQ3Vyc29yID0gJ3RleHQnXG4gICAgICAgIHNldFNob3dUZXh0VG9vbFBhbmVsKHRydWUpXG4gICAgICAgIGNvbnNvbGUubG9nKCdUZXh0IG1vZGUgYWN0aXZhdGVkJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSBmYWxzZVxuICAgICAgICBzZXRJc0RyYXdpbmdNb2RlKGZhbHNlKVxuICAgICAgICAvLyDnm7TmjqXosIPnlKjmlrDnmoTlm77niYfkuIrkvKDlh73mlbBcbiAgICAgICAgaGFuZGxlSW1hZ2VVcGxvYWQoKVxuICAgICAgICBjYW52YXMuZGVmYXVsdEN1cnNvciA9ICdkZWZhdWx0J1xuICAgICAgICBjYW52YXMuaG92ZXJDdXJzb3IgPSAnZGVmYXVsdCdcbiAgICAgICAgY29uc29sZS5sb2coJ0ltYWdlIHVwbG9hZCB0cmlnZ2VyZWQnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnaGFuZCc6XG4gICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gZmFsc2VcbiAgICAgICAgc2V0SXNEcmF3aW5nTW9kZShmYWxzZSlcbiAgICAgICAgLy8g5ZCv55So55S75p2/56e75Yqo5Yqf6IO9XG4gICAgICAgIGNhbnZhcy5zZWxlY3Rpb24gPSBmYWxzZVxuICAgICAgICBjYW52YXMuZGVmYXVsdEN1cnNvciA9ICdncmFiJ1xuICAgICAgICBjYW52YXMuaG92ZXJDdXJzb3IgPSAnZ3JhYidcbiAgICAgICAgY29uc29sZS5sb2coJ0hhbmQgbW9kZSBhY3RpdmF0ZWQgLSBjYW52YXMgY2FuIGJlIG1vdmVkJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2Fycm93JzpcbiAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSBmYWxzZVxuICAgICAgICBzZXRJc0RyYXdpbmdNb2RlKGZhbHNlKVxuICAgICAgICAvLyDlkK/nlKjpgInmi6nmqKHlvI9cbiAgICAgICAgY2FudmFzLnNlbGVjdGlvbiA9IHRydWVcbiAgICAgICAgY2FudmFzLmRlZmF1bHRDdXJzb3IgPSAnY3Jvc3NoYWlyJ1xuICAgICAgICBjYW52YXMuaG92ZXJDdXJzb3IgPSAncG9pbnRlcidcbiAgICAgICAgY29uc29sZS5sb2coJ0Fycm93IG1vZGUgYWN0aXZhdGVkIC0gc2VsZWN0aW9uIGVuYWJsZWQnKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbGF5ZXJzJzpcbiAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSBmYWxzZVxuICAgICAgICBzZXRJc0RyYXdpbmdNb2RlKGZhbHNlKVxuICAgICAgICAvLyDlkK/nlKjpgInmi6nmqKHlvI9cbiAgICAgICAgY2FudmFzLnNlbGVjdGlvbiA9IHRydWVcbiAgICAgICAgY2FudmFzLmRlZmF1bHRDdXJzb3IgPSAnZGVmYXVsdCdcbiAgICAgICAgY2FudmFzLmhvdmVyQ3Vyc29yID0gJ2RlZmF1bHQnXG4gICAgICAgIHNldFNob3dMYXllclBhbmVsKHRydWUpXG4gICAgICAgIGNvbnNvbGUubG9nKCdMYXllcnMgbW9kZSBhY3RpdmF0ZWQnKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY2FudmFzLmlzRHJhd2luZ01vZGUgPSBmYWxzZVxuICAgICAgICBzZXRJc0RyYXdpbmdNb2RlKGZhbHNlKVxuICAgICAgICAvLyDmgaLlpI3mraPluLjnmoTnlLvluIPooYzkuLpcbiAgICAgICAgY2FudmFzLnNlbGVjdGlvbiA9IHRydWVcbiAgICAgICAgY2FudmFzLmRlZmF1bHRDdXJzb3IgPSAnZGVmYXVsdCdcbiAgICAgICAgY2FudmFzLmhvdmVyQ3Vyc29yID0gJ2RlZmF1bHQnXG4gICAgICAgIGNvbnNvbGUubG9nKCdEZWZhdWx0IG1vZGUgYWN0aXZhdGVkJylcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgXG4gICAgLy8g5by65Yi26YeN5paw5riy5p+T55S75biDXG4gICAgY2FudmFzLnJlbmRlckFsbCgpXG4gIH1cblxuICBjb25zdCBoYW5kbGVBZGRTaGFwZSA9IChzaGFwZTogU2hhcGVUeXBlKSA9PiB7XG4gICAgaWYgKCFjYW52YXMgfHwgISh3aW5kb3cgYXMgYW55KS5mYWJyaWMpIHtcbiAgICAgIGNvbnNvbGUud2FybignQ2FudmFzIG9yIGZhYnJpYyBpcyBub3QgYXZhaWxhYmxlIGZvciBhZGRpbmcgc2hhcGUnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ0FkZGluZyBzaGFwZTonLCBzaGFwZSlcbiAgICBcbiAgICAvLyDojrflj5bnlLvluIPkuK3lv4PkvY3nva5cbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoISAvIDJcbiAgICBjb25zdCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCEgLyAyXG5cbiAgICAvLyDnu5/kuIDnmoTlvaLnirbphY3nva5cbiAgICBjb25zdCBzaGFwZUNvbmZpZyA9IHtcbiAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCcsXG4gICAgICBzdHJva2U6IGJydXNoQ29sb3IsXG4gICAgICBzdHJva2VXaWR0aDogYnJ1c2hTaXplLFxuICAgIH1cblxuICAgIGxldCBzaGFwZU9ialxuXG4gICAgc3dpdGNoIChzaGFwZSkge1xuICAgICAgY2FzZSAncmVjdGFuZ2xlJzpcbiAgICAgICAgc2hhcGVPYmogPSBuZXcgKHdpbmRvdyBhcyBhbnkpLmZhYnJpYy5SZWN0KHtcbiAgICAgICAgICAuLi5zaGFwZUNvbmZpZyxcbiAgICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICAgIGhlaWdodDogMTAwLFxuICAgICAgICAgIGxlZnQ6IGNlbnRlclggLSA1MCxcbiAgICAgICAgICB0b3A6IGNlbnRlclkgLSA1MCxcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2NpcmNsZSc6XG4gICAgICAgIHNoYXBlT2JqID0gbmV3ICh3aW5kb3cgYXMgYW55KS5mYWJyaWMuQ2lyY2xlKHtcbiAgICAgICAgICAuLi5zaGFwZUNvbmZpZyxcbiAgICAgICAgICByYWRpdXM6IDUwLFxuICAgICAgICAgIGxlZnQ6IGNlbnRlclgsXG4gICAgICAgICAgdG9wOiBjZW50ZXJZLFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAndHJpYW5nbGUnOlxuICAgICAgICBzaGFwZU9iaiA9IG5ldyAod2luZG93IGFzIGFueSkuZmFicmljLlRyaWFuZ2xlKHtcbiAgICAgICAgICAuLi5zaGFwZUNvbmZpZyxcbiAgICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICAgIGhlaWdodDogMTAwLFxuICAgICAgICAgIGxlZnQ6IGNlbnRlclggLSA1MCxcbiAgICAgICAgICB0b3A6IGNlbnRlclkgLSA1MCxcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3N0YXInOlxuICAgICAgICBjb25zdCBzdGFyUG9pbnRzID0gW11cbiAgICAgICAgY29uc3QgbnVtUG9pbnRzID0gNVxuICAgICAgICBjb25zdCBpbm5lclJhZGl1cyA9IDMwXG4gICAgICAgIGNvbnN0IG91dGVyUmFkaXVzID0gNTBcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUG9pbnRzICogMjsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgYW5nbGUgPSAoaSAqIE1hdGguUEkpIC8gbnVtUG9pbnRzXG4gICAgICAgICAgY29uc3QgcmFkaXVzID0gaSAlIDIgPT09IDAgPyBvdXRlclJhZGl1cyA6IGlubmVyUmFkaXVzXG4gICAgICAgICAgc3RhclBvaW50cy5wdXNoKHtcbiAgICAgICAgICAgIHg6IDUwICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpLFxuICAgICAgICAgICAgeTogNTAgKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSlcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzaGFwZU9iaiA9IG5ldyAod2luZG93IGFzIGFueSkuZmFicmljLlBvbHlnb24oc3RhclBvaW50cywge1xuICAgICAgICAgIC4uLnNoYXBlQ29uZmlnLFxuICAgICAgICAgIGxlZnQ6IGNlbnRlclgsXG4gICAgICAgICAgdG9wOiBjZW50ZXJZLFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnaGVhcnQnOlxuICAgICAgICBjb25zdCBoZWFydFBhdGggPSAnTSA1MCAzMCBDIDcwIDEwLCA5MCAzMCwgOTAgNTAgQyA5MCA3MCwgNzAgOTAsIDUwIDkwIEMgMzAgOTAsIDEwIDcwLCAxMCA1MCBDIDEwIDMwLCAzMCAxMCwgNTAgMzAgWidcbiAgICAgICAgc2hhcGVPYmogPSBuZXcgKHdpbmRvdyBhcyBhbnkpLmZhYnJpYy5QYXRoKGhlYXJ0UGF0aCwge1xuICAgICAgICAgIC4uLnNoYXBlQ29uZmlnLFxuICAgICAgICAgIGxlZnQ6IGNlbnRlclggLSA0MCxcbiAgICAgICAgICB0b3A6IGNlbnRlclkgLSA0MCxcbiAgICAgICAgICBzY2FsZVg6IDAuOCxcbiAgICAgICAgICBzY2FsZVk6IDAuOCxcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2RpYW1vbmQnOlxuICAgICAgICBzaGFwZU9iaiA9IG5ldyAod2luZG93IGFzIGFueSkuZmFicmljLlBvbHlnb24oW1xuICAgICAgICAgIHsgeDogNTAsIHk6IDAgfSxcbiAgICAgICAgICB7IHg6IDEwMCwgeTogNTAgfSxcbiAgICAgICAgICB7IHg6IDUwLCB5OiAxMDAgfSxcbiAgICAgICAgICB7IHg6IDAsIHk6IDUwIH1cbiAgICAgICAgXSwge1xuICAgICAgICAgIC4uLnNoYXBlQ29uZmlnLFxuICAgICAgICAgIGxlZnQ6IGNlbnRlclggLSA1MCxcbiAgICAgICAgICB0b3A6IGNlbnRlclkgLSA1MCxcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ29jdGFnb24nOlxuICAgICAgICBzaGFwZU9iaiA9IG5ldyAod2luZG93IGFzIGFueSkuZmFicmljLlBvbHlnb24oW1xuICAgICAgICAgIHsgeDogMzAsIHk6IDAgfSxcbiAgICAgICAgICB7IHg6IDcwLCB5OiAwIH0sXG4gICAgICAgICAgeyB4OiAxMDAsIHk6IDMwIH0sXG4gICAgICAgICAgeyB4OiAxMDAsIHk6IDcwIH0sXG4gICAgICAgICAgeyB4OiA3MCwgeTogMTAwIH0sXG4gICAgICAgICAgeyB4OiAzMCwgeTogMTAwIH0sXG4gICAgICAgICAgeyB4OiAwLCB5OiA3MCB9LFxuICAgICAgICAgIHsgeDogMCwgeTogMzAgfVxuICAgICAgICBdLCB7XG4gICAgICAgICAgLi4uc2hhcGVDb25maWcsXG4gICAgICAgICAgbGVmdDogY2VudGVyWCAtIDUwLFxuICAgICAgICAgIHRvcDogY2VudGVyWSAtIDUwLFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnYXJyb3cnOlxuICAgICAgICAvLyDliJvlu7rnrq3lpLTlvaLnirZcbiAgICAgICAgc2hhcGVPYmogPSBuZXcgKHdpbmRvdyBhcyBhbnkpLmZhYnJpYy5Qb2x5bGluZShbXG4gICAgICAgICAgeyB4OiAwLCB5OiAyNSB9LFxuICAgICAgICAgIHsgeDogNzUsIHk6IDI1IH0sXG4gICAgICAgICAgeyB4OiA3NSwgeTogMCB9LFxuICAgICAgICAgIHsgeDogMTAwLCB5OiAyNSB9LFxuICAgICAgICAgIHsgeDogNzUsIHk6IDUwIH0sXG4gICAgICAgICAgeyB4OiA3NSwgeTogMjUgfVxuICAgICAgICBdLCB7XG4gICAgICAgICAgLi4uc2hhcGVDb25maWcsXG4gICAgICAgICAgbGVmdDogY2VudGVyWCAtIDUwLFxuICAgICAgICAgIHRvcDogY2VudGVyWSAtIDI1LFxuICAgICAgICAgIGZpbGw6IGJydXNoQ29sb3IsXG4gICAgICAgICAgc3Ryb2tlOiBicnVzaENvbG9yLFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbGluZSc6XG4gICAgICAgIC8vIOWIm+W7uuebtOe6v1xuICAgICAgICBzaGFwZU9iaiA9IG5ldyAod2luZG93IGFzIGFueSkuZmFicmljLkxpbmUoWzAsIDAsIDEwMCwgMF0sIHtcbiAgICAgICAgICAuLi5zaGFwZUNvbmZpZyxcbiAgICAgICAgICBsZWZ0OiBjZW50ZXJYIC0gNTAsXG4gICAgICAgICAgdG9wOiBjZW50ZXJZLFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnZGFzaGVkLWxpbmUnOlxuICAgICAgICAvLyDliJvlu7romZrnur9cbiAgICAgICAgc2hhcGVPYmogPSBuZXcgKHdpbmRvdyBhcyBhbnkpLmZhYnJpYy5MaW5lKFswLCAwLCAxMDAsIDBdLCB7XG4gICAgICAgICAgLi4uc2hhcGVDb25maWcsXG4gICAgICAgICAgbGVmdDogY2VudGVyWCAtIDUwLFxuICAgICAgICAgIHRvcDogY2VudGVyWSxcbiAgICAgICAgICBzdHJva2VEYXNoQXJyYXk6IFs1LCA1XSwgLy8g6Jma57q/5qC35byPXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdsZWZ0LWJyYWNlJzpcbiAgICAgICAgLy8g5Yib5bu65bem5aSn5ous5Y+3IC0g5pu05riF5pmw55qE6Lev5b6EXG4gICAgICAgIHNoYXBlT2JqID0gbmV3ICh3aW5kb3cgYXMgYW55KS5mYWJyaWMuUGF0aCgnTSA0MCAxMCBDIDIwIDEwIDEwIDIwIDEwIDQwIEMgMTAgNjAgMjAgNzAgNDAgNzAnLCB7XG4gICAgICAgICAgLi4uc2hhcGVDb25maWcsXG4gICAgICAgICAgbGVmdDogY2VudGVyWCAtIDI1LFxuICAgICAgICAgIHRvcDogY2VudGVyWSAtIDM1LFxuICAgICAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdyaWdodC1icmFjZSc6XG4gICAgICAgIC8vIOWIm+W7uuWPs+Wkp+aLrOWPtyAtIOabtOa4heaZsOeahOi3r+W+hFxuICAgICAgICBzaGFwZU9iaiA9IG5ldyAod2luZG93IGFzIGFueSkuZmFicmljLlBhdGgoJ00gMTAgMTAgQyAzMCAxMCA0MCAyMCA0MCA0MCBDIDQwIDYwIDMwIDcwIDEwIDcwJywge1xuICAgICAgICAgIC4uLnNoYXBlQ29uZmlnLFxuICAgICAgICAgIGxlZnQ6IGNlbnRlclggLSAyNSxcbiAgICAgICAgICB0b3A6IGNlbnRlclkgLSAzNSxcbiAgICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY2FudmFzLmFkZChzaGFwZU9iailcbiAgICBjYW52YXMuc2V0QWN0aXZlT2JqZWN0KHNoYXBlT2JqKVxuICAgIHNldFNob3dTaGFwZVBpY2tlcihmYWxzZSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUJydXNoU2l6ZUNoYW5nZSA9IChzaXplOiBudW1iZXIpID0+IHtcbiAgICBzZXRCcnVzaFNpemUoc2l6ZSlcbiAgICBpZiAoY2FudmFzPy5mcmVlRHJhd2luZ0JydXNoKSB7XG4gICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaC53aWR0aCA9IHNpemVcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVDb2xvckNoYW5nZSA9IChjb2xvcjogc3RyaW5nKSA9PiB7XG4gICAgc2V0QnJ1c2hDb2xvcihjb2xvcilcbiAgICBpZiAoY2FudmFzPy5mcmVlRHJhd2luZ0JydXNoICYmIGFjdGl2ZVRvb2wgPT09ICdwZW5jaWwnKSB7XG4gICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaC5jb2xvciA9IGNvbG9yXG4gICAgfVxuICB9XG5cblxuXG4gIGNvbnN0IGhhbmRsZUFkZFRleHQgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXMgfHwgISh3aW5kb3cgYXMgYW55KS5mYWJyaWMpIHJldHVyblxuXG4gICAgLy8g6I635Y+W55S75biD5Lit5b+D5L2N572uXG4gICAgY29uc3QgY2VudGVyWCA9IGNhbnZhcy53aWR0aCEgLyAyXG4gICAgY29uc3QgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQhIC8gMlxuXG4gICAgY29uc3QgdGV4dCA9IG5ldyAod2luZG93IGFzIGFueSkuZmFicmljLlRleHRib3goJ+WPjOWHu+e8lui+keaWh+WtlycsIHtcbiAgICAgIGxlZnQ6IGNlbnRlclggLSA1MCwgLy8g5bGF5LitXG4gICAgICB0b3A6IGNlbnRlclkgLSAxMCxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICBmaWxsOiBicnVzaENvbG9yLFxuICAgICAgZm9udFNpemU6IDIwLFxuICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICB0ZXh0QWxpZ246ICdsZWZ0J1xuICAgIH0pXG5cbiAgICBjYW52YXMuYWRkKHRleHQpXG4gICAgY2FudmFzLnNldEFjdGl2ZU9iamVjdCh0ZXh0KVxuICB9XG5cbiAgLy8g6YeN5paw5a6e546w5Zu+54mH5LiK5Lyg5Yqf6IO9IC0g566A5YyW54mI5pysXG4gIGNvbnN0IGhhbmRsZUltYWdlVXBsb2FkID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBhbGVydCgn55S75biD5pyq5Yid5aeL5YyW77yM6K+356iN5ZCO6YeN6K+VJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBcbiAgICBjb25zdCBmYWJyaWMgPSAod2luZG93IGFzIGFueSkuZmFicmljXG4gICAgaWYgKCFmYWJyaWMpIHtcbiAgICAgIGFsZXJ0KCfnlLvluIPlvJXmk47mnKrliqDovb3vvIzor7fliLfmlrDpobXpnaInKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIFxuICAgIC8vIOWIm+W7uuaWh+S7tui+k+WFpeWFg+e0oFxuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICBmaWxlSW5wdXQudHlwZSA9ICdmaWxlJ1xuICAgIGZpbGVJbnB1dC5hY2NlcHQgPSAnaW1hZ2UvKidcbiAgICBmaWxlSW5wdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIFxuICAgIGZpbGVJbnB1dC5vbmNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgIGNvbnN0IGZpbGUgPSB0YXJnZXQuZmlsZXM/LlswXVxuICAgICAgXG4gICAgICBpZiAoIWZpbGUpIHJldHVyblxuICAgICAgXG4gICAgICAvLyDmuIXnkIbmlofku7bovpPlhaXlgLxcbiAgICAgIHRhcmdldC52YWx1ZSA9ICcnXG4gICAgICBcbiAgICAgIC8vIOmqjOivgeaWh+S7tuexu+Wei1xuICAgICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgYWxlcnQoJ+ivt+mAieaLqeWbvueJh+aWh+S7ticpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDkvb/nlKhGaWxlUmVhZGVy6K+75Y+W5Zu+54mHXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgICBcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZVVybCA9IGUudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nXG4gICAgICAgIFxuICAgICAgICAvLyDkvb/nlKhIVE1MIEltYWdl5YWD57Sg5Yqg6L295Zu+54mHXG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpXG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgLy8g5Yib5bu6RmFicmlj5Zu+54mH5a+56LGhXG4gICAgICAgICAgY29uc3QgZmFicmljSW1nID0gbmV3IGZhYnJpYy5JbWFnZShpbWcpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8g6K6+572u57yp5pS+5q+U5L6LXG4gICAgICAgICAgY29uc3QgY2FudmFzV2lkdGggPSBjYW52YXMuZ2V0V2lkdGgoKVxuICAgICAgICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IGNhbnZhcy5nZXRIZWlnaHQoKVxuICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gY2FudmFzV2lkdGggKiAwLjhcbiAgICAgICAgICBjb25zdCBtYXhIZWlnaHQgPSBjYW52YXNIZWlnaHQgKiAwLjhcbiAgICAgICAgICBjb25zdCBzY2FsZVggPSBtYXhXaWR0aCAvIGltZy53aWR0aFxuICAgICAgICAgIGNvbnN0IHNjYWxlWSA9IG1heEhlaWdodCAvIGltZy5oZWlnaHRcbiAgICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZLCAxKVxuICAgICAgICAgIFxuICAgICAgICAgIGZhYnJpY0ltZy5zY2FsZShzY2FsZSlcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDorr7nva7kvY3nva7kuLrnlLvluIPkuK3lv4NcbiAgICAgICAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzV2lkdGggLyAyXG4gICAgICAgICAgY29uc3QgY2VudGVyWSA9IGNhbnZhc0hlaWdodCAvIDJcbiAgICAgICAgICBjb25zdCBzY2FsZWRXaWR0aCA9IGltZy53aWR0aCAqIHNjYWxlXG4gICAgICAgICAgY29uc3Qgc2NhbGVkSGVpZ2h0ID0gaW1nLmhlaWdodCAqIHNjYWxlXG4gICAgICAgICAgXG4gICAgICAgICAgZmFicmljSW1nLnNldCh7XG4gICAgICAgICAgICBsZWZ0OiBjZW50ZXJYIC0gc2NhbGVkV2lkdGggLyAyLFxuICAgICAgICAgICAgdG9wOiBjZW50ZXJZIC0gc2NhbGVkSGVpZ2h0IC8gMixcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IHRydWUsXG4gICAgICAgICAgICBoYXNDb250cm9sczogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgXG4gICAgICAgICAgLy8g5re75Yqg5Yiw55S75biDXG4gICAgICAgICAgY2FudmFzLmFkZChmYWJyaWNJbWcpXG4gICAgICAgICAgY2FudmFzLnNldEFjdGl2ZU9iamVjdChmYWJyaWNJbWcpXG4gICAgICAgICAgY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIOS/neWtmOeKtuaAgVxuICAgICAgICAgIHNhdmVDYW52YXNTdGF0ZSgpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGltZy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIGFsZXJ0KCflm77niYfliqDovb3lpLHotKXvvIzor7fph43or5UnKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbWcuc3JjID0gaW1hZ2VVcmxcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIGFsZXJ0KCfmlofku7bor7vlj5blpLHotKXvvIzor7fph43or5UnKVxuICAgICAgfVxuICAgICAgXG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKVxuICAgIH1cbiAgICBcbiAgICAvLyDop6blj5Hmlofku7bpgInmi6lcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZpbGVJbnB1dClcbiAgICBmaWxlSW5wdXQuY2xpY2soKVxuICAgIFxuICAgIC8vIOa4heeQhlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZmlsZUlucHV0KSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGZpbGVJbnB1dClcbiAgICAgIH1cbiAgICB9LCAxMDAwKVxuICB9XG5cbiAgLy8g5L+d5a2Y55S75p2/5Yqf6IO9IC0g5omT5byA5L+d5a2Y5by556qXXG4gIGNvbnN0IFtwcm9qZWN0RGF0YSwgc2V0UHJvamVjdERhdGFdID0gdXNlU3RhdGU8YW55PihudWxsKVxuICBcbiAgY29uc3QgaGFuZGxlU2F2ZSA9ICgpID0+IHtcbiAgICAvLyDmo4Dmn6XlvZPliY3mmK/lkKbmmK/nvJbovpHmqKHlvI9cbiAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpXG4gICAgY29uc3QgZWRpdE1vZGUgPSB1cmxQYXJhbXMuZ2V0KCdlZGl0JykgPT09ICd0cnVlJ1xuICAgIGNvbnN0IHByb2plY3RJZCA9IHVybFBhcmFtcy5nZXQoJ3Byb2plY3RJZCcpXG4gICAgXG4gICAgbGV0IGRhdGEgPSBudWxsXG4gICAgXG4gICAgaWYgKGVkaXRNb2RlICYmIHByb2plY3RJZCkge1xuICAgICAgLy8g6I635Y+W546w5pyJ55qE6aG555uu6K6w5b2VXG4gICAgICBjb25zdCBleGlzdGluZ1Byb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlclByb2plY3RzJykgfHwgJ1tdJylcbiAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gZXhpc3RpbmdQcm9qZWN0cy5maW5kKChwOiBhbnkpID0+IHAuaWQgPT09IHByb2plY3RJZClcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRQcm9qZWN0KSB7XG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgbmFtZTogY3VycmVudFByb2plY3QubmFtZSxcbiAgICAgICAgICBpY29uOiBjdXJyZW50UHJvamVjdC5pY29uLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBjdXJyZW50UHJvamVjdC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICB0YWdzOiBjdXJyZW50UHJvamVjdC50YWdzIHx8IFtdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgc2V0UHJvamVjdERhdGEoZGF0YSlcbiAgICBzZXRTaG93U2F2ZU1vZGFsKHRydWUpXG4gIH1cblxuICAvLyDlpITnkIbkv53lrZjpobnnm65cbiAgY29uc3QgaGFuZGxlU2F2ZVByb2plY3QgPSBhc3luYyAocHJvamVjdERhdGE6IHsgbmFtZTogc3RyaW5nOyBpY29uOiBzdHJpbmc7IGRlc2NyaXB0aW9uPzogc3RyaW5nOyB0YWdzPzogc3RyaW5nW10gfSkgPT4ge1xuICAgIGNvbnN0IHByb2plY3ROYW1lID0gcHJvamVjdERhdGEubmFtZVxuICAgIGNvbnN0IHByb2plY3RJY29uID0gcHJvamVjdERhdGEuaWNvblxuICAgIGNvbnN0IHByb2plY3REZXNjcmlwdGlvbiA9IHByb2plY3REYXRhLmRlc2NyaXB0aW9uIHx8ICcnXG4gICAgY29uc3QgcHJvamVjdFRhZ3MgPSBwcm9qZWN0RGF0YS50YWdzIHx8IFtdXG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyDmo4Dmn6XlvZPliY3mmK/lkKbmmK/nvJbovpHmqKHlvI9cbiAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaClcbiAgICAgIGNvbnN0IGVkaXRNb2RlID0gdXJsUGFyYW1zLmdldCgnZWRpdCcpID09PSAndHJ1ZSdcbiAgICAgIGNvbnN0IHByb2plY3RJZCA9IHVybFBhcmFtcy5nZXQoJ3Byb2plY3RJZCcpXG4gICAgICBcbiAgICAgIC8vIOeUn+aIkOeUu+W4g+mihOiniOWbvlxuICAgICAgY29uc3QgcHJldmlld0RhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKHtcbiAgICAgICAgZm9ybWF0OiAncG5nJyxcbiAgICAgICAgcXVhbGl0eTogMC44XG4gICAgICB9KVxuICAgICAgXG4gICAgICAvLyDojrflj5bnlLvluIPmlbDmja7vvIjluo/liJfljJbvvIlcbiAgICAgIGNvbnN0IGNhbnZhc0RhdGEgPSBKU09OLnN0cmluZ2lmeShjYW52YXMudG9KU09OKCkpXG4gICAgICBcbiAgICAgIC8vIOiOt+WPlkFJ5Yqp5omL5a+56K+d6K6w5b2VXG4gICAgICBsZXQgYWlDb252ZXJzYXRpb24gPSBbXVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2hhdEhpc3RvcnkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2hhdEhpc3RvcnknKVxuICAgICAgICBpZiAoY2hhdEhpc3RvcnkpIHtcbiAgICAgICAgICBhaUNvbnZlcnNhdGlvbiA9IEpTT04ucGFyc2UoY2hhdEhpc3RvcnkpXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIOmdmem7mOWkhOeQhumUmeivr1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDojrflj5ZBSeeUn+aIkOeahOWGheWuuVxuICAgICAgY29uc3QgZ2VuZXJhdGVkSW1hZ2VzID0gW11cbiAgICAgIGNvbnN0IGFpR2VuZXJhdGVkRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1haS1nZW5lcmF0ZWRdJylcbiAgICAgIGFpR2VuZXJhdGVkRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbWcnKVxuICAgICAgICBpZiAoaW1nICYmIGltZy5zcmMpIHtcbiAgICAgICAgICBnZW5lcmF0ZWRJbWFnZXMucHVzaCh7XG4gICAgICAgICAgICBpZDogaW5kZXgsXG4gICAgICAgICAgICBzcmM6IGltZy5zcmMsXG4gICAgICAgICAgICBhbHQ6IGltZy5hbHQgfHwgJ0FJ55Sf5oiQ5Zu+54mHJyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8g6I635Y+W5b2T5YmNQUnliqnmiYvorr7nva5cbiAgICAgIGNvbnN0IGFpU2V0dGluZ3MgPSB7XG4gICAgICAgIGJydXNoU2l6ZTogYnJ1c2hTaXplLFxuICAgICAgICBicnVzaENvbG9yOiBicnVzaENvbG9yLFxuICAgICAgICBhY3RpdmVUb29sOiBhY3RpdmVUb29sXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOiOt+WPlueOsOacieeahOmhueebruiusOW9lVxuICAgICAgY29uc3QgZXhpc3RpbmdQcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJQcm9qZWN0cycpIHx8ICdbXScpXG4gICAgICBcbiAgICAgIGxldCB1cGRhdGVkUHJvamVjdHMgPSBbXVxuICAgICAgbGV0IHByb2plY3RSZWNvcmQgPSB7fVxuICAgICAgXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgICBcbiAgICAgIGlmIChlZGl0TW9kZSAmJiBwcm9qZWN0SWQpIHtcbiAgICAgICAgLy8g57yW6L6R5qih5byP77ya6KaG55uW5Y6f6aG555uuXG4gICAgICAgIGNvbnN0IHByb2plY3RJbmRleCA9IGV4aXN0aW5nUHJvamVjdHMuZmluZEluZGV4KChwOiBhbnkpID0+IHAuaWQgPT09IHByb2plY3RJZClcbiAgICAgICAgaWYgKHByb2plY3RJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBjb25zdCBvcmlnaW5hbFByb2plY3QgPSBleGlzdGluZ1Byb2plY3RzW3Byb2plY3RJbmRleF1cbiAgICAgICAgICBcbiAgICAgICAgICBwcm9qZWN0UmVjb3JkID0ge1xuICAgICAgICAgICAgLi4ub3JpZ2luYWxQcm9qZWN0LFxuICAgICAgICAgICAgbmFtZTogcHJvamVjdE5hbWUsXG4gICAgICAgICAgICBpY29uOiBwcm9qZWN0SWNvbixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9qZWN0RGVzY3JpcHRpb24gfHwgb3JpZ2luYWxQcm9qZWN0LmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgdGFnczogcHJvamVjdFRhZ3MubGVuZ3RoID4gMCA/IHByb2plY3RUYWdzIDogb3JpZ2luYWxQcm9qZWN0LnRhZ3MgfHwgW10sXG4gICAgICAgICAgICBwcmV2aWV3OiBwcmV2aWV3RGF0YVVSTCxcbiAgICAgICAgICAgIGNhbnZhc0RhdGE6IGNhbnZhc0RhdGEsXG4gICAgICAgICAgICBhaUNvbnZlcnNhdGlvbjogYWlDb252ZXJzYXRpb24sXG4gICAgICAgICAgICBnZW5lcmF0ZWRDb250ZW50OiBnZW5lcmF0ZWRJbWFnZXMsXG4gICAgICAgICAgICBhaVNldHRpbmdzOiBhaVNldHRpbmdzLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBub3cudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgIC4uLm9yaWdpbmFsUHJvamVjdC5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgY2FudmFzT2JqZWN0c0NvdW50OiBjYW52YXMuZ2V0T2JqZWN0cygpLmxlbmd0aCxcbiAgICAgICAgICAgICAgaGFzQUlJbnRlcmFjdGlvbjogYWlDb252ZXJzYXRpb24ubGVuZ3RoID4gMCxcbiAgICAgICAgICAgICAgaGFzR2VuZXJhdGVkQ29udGVudDogZ2VuZXJhdGVkSW1hZ2VzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICAgIHRvb2xVc2VkOiBhY3RpdmVUb29sLFxuICAgICAgICAgICAgICBicnVzaFNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgc2l6ZTogYnJ1c2hTaXplLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBicnVzaENvbG9yXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgdXBkYXRlZFByb2plY3RzID0gWy4uLmV4aXN0aW5nUHJvamVjdHNdXG4gICAgICAgICAgdXBkYXRlZFByb2plY3RzW3Byb2plY3RJbmRleF0gPSBwcm9qZWN0UmVjb3JkXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g5aaC5p6c5om+5LiN5Yiw5Y6f6aG555uu77yM5Yib5bu65paw6aG555uuXG4gICAgICAgICAgcHJvamVjdFJlY29yZCA9IHtcbiAgICAgICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICAgICAgICBuYW1lOiBwcm9qZWN0TmFtZSxcbiAgICAgICAgICAgIGljb246IHByb2plY3RJY29uLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb2plY3REZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHRhZ3M6IHByb2plY3RUYWdzLFxuICAgICAgICAgICAgcHJldmlldzogcHJldmlld0RhdGFVUkwsXG4gICAgICAgICAgICBjYW52YXNEYXRhOiBjYW52YXNEYXRhLFxuICAgICAgICAgICAgYWlDb252ZXJzYXRpb246IGFpQ29udmVyc2F0aW9uLFxuICAgICAgICAgICAgZ2VuZXJhdGVkQ29udGVudDogZ2VuZXJhdGVkSW1hZ2VzLFxuICAgICAgICAgICAgYWlTZXR0aW5nczogYWlTZXR0aW5ncyxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgY2FudmFzT2JqZWN0c0NvdW50OiBjYW52YXMuZ2V0T2JqZWN0cygpLmxlbmd0aCxcbiAgICAgICAgICAgICAgaGFzQUlJbnRlcmFjdGlvbjogYWlDb252ZXJzYXRpb24ubGVuZ3RoID4gMCxcbiAgICAgICAgICAgICAgaGFzR2VuZXJhdGVkQ29udGVudDogZ2VuZXJhdGVkSW1hZ2VzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICAgIHRvb2xVc2VkOiBhY3RpdmVUb29sLFxuICAgICAgICAgICAgICBicnVzaFNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgc2l6ZTogYnJ1c2hTaXplLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBicnVzaENvbG9yXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgdXBkYXRlZFByb2plY3RzID0gWy4uLmV4aXN0aW5nUHJvamVjdHMsIHByb2plY3RSZWNvcmRdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOaWsOW7uuaooeW8j++8muWIm+W7uuaWsOmhueebrlxuICAgICAgICBwcm9qZWN0UmVjb3JkID0ge1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgbmFtZTogcHJvamVjdE5hbWUsXG4gICAgICAgICAgaWNvbjogcHJvamVjdEljb24sXG4gICAgICAgICAgZGVzY3JpcHRpb246IHByb2plY3REZXNjcmlwdGlvbixcbiAgICAgICAgICB0YWdzOiBwcm9qZWN0VGFncyxcbiAgICAgICAgICBwcmV2aWV3OiBwcmV2aWV3RGF0YVVSTCxcbiAgICAgICAgICBjYW52YXNEYXRhOiBjYW52YXNEYXRhLFxuICAgICAgICAgIGFpQ29udmVyc2F0aW9uOiBhaUNvbnZlcnNhdGlvbixcbiAgICAgICAgICBnZW5lcmF0ZWRDb250ZW50OiBnZW5lcmF0ZWRJbWFnZXMsXG4gICAgICAgICAgYWlTZXR0aW5nczogYWlTZXR0aW5ncyxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5vdy50b0lTT1N0cmluZygpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIGNhbnZhc09iamVjdHNDb3VudDogY2FudmFzLmdldE9iamVjdHMoKS5sZW5ndGgsXG4gICAgICAgICAgICBoYXNBSUludGVyYWN0aW9uOiBhaUNvbnZlcnNhdGlvbi5sZW5ndGggPiAwLFxuICAgICAgICAgICAgaGFzR2VuZXJhdGVkQ29udGVudDogZ2VuZXJhdGVkSW1hZ2VzLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICB0b29sVXNlZDogYWN0aXZlVG9vbCxcbiAgICAgICAgICAgIGJydXNoU2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgc2l6ZTogYnJ1c2hTaXplLFxuICAgICAgICAgICAgICBjb2xvcjogYnJ1c2hDb2xvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdXBkYXRlZFByb2plY3RzID0gWy4uLmV4aXN0aW5nUHJvamVjdHMsIHByb2plY3RSZWNvcmRdXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOS/neWtmOWIsOacrOWcsOWtmOWCqFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJQcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRQcm9qZWN0cykpXG4gICAgICBcbiAgICAgIC8vIOWQjOaXtuS/neWtmOiBiuWkqeiusOW9leWIsOWNleeLrOeahOWtmOWCqFxuICAgICAgaWYgKGFpQ29udmVyc2F0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NoYXRIaXN0b3J5JywgSlNPTi5zdHJpbmdpZnkoYWlDb252ZXJzYXRpb24pKVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDmmL7npLrkv53lrZjmiJDlip/mj5DnpLpcbiAgICAgIGNvbnN0IHByb2plY3ROYW1lU3RyID0gdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnID8gbmFtZSA6ICfmnKrlkb3lkI3pobnnm64nXG4gICAgICBjb25zdCBzYXZlTWVzc2FnZSA9IGVkaXRNb2RlID8gYOmhueebruW3suabtOaWsO+8miR7cHJvamVjdE5hbWVTdHJ9YCA6IGDkvZzlk4Hlt7Lkv53lrZjliLDpobnnm67orrDlvZXvvJoke3Byb2plY3ROYW1lU3RyfWBcbiAgICAgIFxuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIG5vdGlmaWNhdGlvbi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMjBweDsgcmlnaHQ6IDIwcHg7IGJhY2tncm91bmQ6ICMxMGI5ODE7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMTJweCAxNnB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHotaW5kZXg6IDEwMDAwOyBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLDAsMCwwLjEpO1wiPlxuICAgICAgICAgIDxzdHJvbmc+JHtlZGl0TW9kZSA/ICfmm7TmlrDmiJDlip/vvIEnIDogJ+S/neWtmOaIkOWKn++8gSd9PC9zdHJvbmc+PGJyPlxuICAgICAgICAgICR7c2F2ZU1lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuICAgICAgYFxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub3RpZmljYXRpb24pXG4gICAgICBcbiAgICAgIC8vIDPnp5LlkI7oh6rliqjnp7vpmaTmj5DnpLpcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhub3RpZmljYXRpb24pKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub3RpZmljYXRpb24pXG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDApXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfpobnnm67kv53lrZjmiJDlip86JywgcHJvamVjdFJlY29yZClcbiAgICAgIFxuICAgICAgLy8g5YWz6Zet5by556qXXG4gICAgICBzZXRTaG93U2F2ZU1vZGFsKGZhbHNlKVxuICAgICAgXG4gICAgICAvLyDms6jmhI/vvJrkv53lrZjpobnnm67lkI7kuI3lupTor6XmuIXpmaTogYrlpKnorrDlvZXvvIzlm6DkuLrogYrlpKnorrDlvZXlt7Lnu4/kv53lrZjliLDpobnnm67kuK3kuoZcbiAgICAgIC8vIOWPquacieWcqOWIm+W7uuaWsOmhueebruaXtuaJjemcgOimgemHjee9ruiBiuWkqeiusOW9lVxuICAgICAgaWYgKCFlZGl0TW9kZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIOa4hemZpOiBiuWkqeiusOW9le+8iOS4uuaWsOmhueebruWHhuWkh++8iVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjaGF0SGlzdG9yeScpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8g6YCa6L+HcmVm6LCD55SoQ2hhdFBhbmVs55qE6YeN572u5pa55rOVXG4gICAgICAgICAgY29uc3QgY2hhdFBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2hhdC1wYW5lbCcpIGFzIGFueVxuICAgICAgICAgIGlmIChjaGF0UGFuZWwgJiYgY2hhdFBhbmVsLnJlc2V0Q2hhdCkge1xuICAgICAgICAgICAgY2hhdFBhbmVsLnJlc2V0Q2hhdCgpXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdBSeWIm+S9nOWKqeaJi+WGheWuueW3sumHjee9ru+8jOS4uuaWsOmhueebruWHhuWkhycpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfph43nva5BSeWIm+S9nOWKqeaJi+Wksei0pTonLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+S/neWtmOmhueebruWksei0pTonLCBlcnJvcilcbiAgICAgIGFsZXJ0KCfkv53lrZjlpLHotKXvvIzor7fph43or5UnKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVVuZG8gPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXMgfHwgaGlzdG9yeUluZGV4IDwgMCkgcmV0dXJuXG4gICAgXG4gICAgY29uc3QgbmV3SW5kZXggPSBoaXN0b3J5SW5kZXggLSAxXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IGhpc3RvcnlbbmV3SW5kZXhdXG4gICAgXG4gICAgLy8g5riF6Zmk5b2T5YmN55S75biD5bm26K6+572u5Li657qv55m96Imy6IOM5pmvXG4gICAgY2FudmFzLmNsZWFyKClcbiAgICBjYW52YXMuYmFja2dyb3VuZENvbG9yID0gJyNmZmZmZmYnXG4gICAgXG4gICAgLy8g5oGi5aSN5LmL5YmN55qE54q25oCB77yI5Y+v6IO95Li656m65pWw57uE77yM6KGo56S656m655S75biD77yJXG4gICAgaWYgKHByZXZpb3VzU3RhdGUgJiYgcHJldmlvdXNTdGF0ZS5sZW5ndGggPiAwKSB7XG4gICAgICBwcmV2aW91c1N0YXRlLmZvckVhY2gob2JqID0+IHtcbiAgICAgICAgY2FudmFzLmFkZChvYmopXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBjYW52YXMucmVuZGVyQWxsKClcbiAgICBzZXRIaXN0b3J5SW5kZXgobmV3SW5kZXgpXG4gIH1cblxuICBjb25zdCBoYW5kbGVSZWRvID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzIHx8IGhpc3RvcnlJbmRleCA+PSBoaXN0b3J5Lmxlbmd0aCAtIDEpIHJldHVyblxuICAgIFxuICAgIGNvbnN0IG5ld0luZGV4ID0gaGlzdG9yeUluZGV4ICsgMVxuICAgIGNvbnN0IG5leHRTdGF0ZSA9IGhpc3RvcnlbbmV3SW5kZXhdXG4gICAgXG4gICAgLy8g5riF6Zmk5b2T5YmN55S75biD5bm26K6+572u5Li657qv55m96Imy6IOM5pmvXG4gICAgY2FudmFzLmNsZWFyKClcbiAgICBjYW52YXMuYmFja2dyb3VuZENvbG9yID0gJyNmZmZmZmYnXG4gICAgXG4gICAgLy8g5oGi5aSN5LiL5LiA5Liq54q25oCBXG4gICAgaWYgKG5leHRTdGF0ZSkge1xuICAgICAgbmV4dFN0YXRlLmZvckVhY2gob2JqID0+IHtcbiAgICAgICAgY2FudmFzLmFkZChvYmopXG4gICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBjYW52YXMucmVuZGVyQWxsKClcbiAgICBzZXRIaXN0b3J5SW5kZXgobmV3SW5kZXgpXG4gIH1cblxuICAvLyDlsYLnuqfnrqHnkIblip/og71cbiAgLy8g5omL5Yqo5bGC57qn566h55CG5aSH55So5pa55qGIXG4gIGNvbnN0IG1hbnVhbExheWVyTWFuYWdlbWVudCA9IChvcGVyYXRpb246ICdicmluZ1RvRnJvbnQnIHwgJ3NlbmRUb0JhY2snIHwgJ2JyaW5nRm9yd2FyZCcgfCAnc2VuZEJhY2t3YXJkJykgPT4ge1xuICAgIGlmICghY2FudmFzKSByZXR1cm5cbiAgICBjb25zdCBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KClcbiAgICBpZiAoIWFjdGl2ZU9iamVjdCkgcmV0dXJuXG4gICAgXG4gICAgY29uc29sZS5sb2coJ+aJi+WKqOWxgue6p+euoeeQhiAtIOaTjeS9nDonLCBvcGVyYXRpb24sICfmtLvliqjlr7nosaE6JywgYWN0aXZlT2JqZWN0KVxuICAgIFxuICAgIGNvbnN0IG9iamVjdHMgPSBjYW52YXMuZ2V0T2JqZWN0cygpXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gb2JqZWN0cy5pbmRleE9mKGFjdGl2ZU9iamVjdClcbiAgICBcbiAgICBpZiAoY3VycmVudEluZGV4ID09PSAtMSkge1xuICAgICAgY29uc29sZS5sb2coJ+aJi+WKqOWxgue6p+euoeeQhiAtIOWvueixoeS4jeWcqOeUu+W4g+S4rScpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+aJi+WKqOWxgue6p+euoeeQhiAtIOW9k+WJjee0ouW8lTonLCBjdXJyZW50SW5kZXgsICflr7nosaHmgLvmlbA6Jywgb2JqZWN0cy5sZW5ndGgpXG4gICAgXG4gICAgLy8g56e76Zmk5b2T5YmN5a+56LGhXG4gICAgY2FudmFzLnJlbW92ZShhY3RpdmVPYmplY3QpXG4gICAgXG4gICAgLy8g5L2/55So5pu05YW85a6555qE5pa55rOV6YeN5paw5re75Yqg5a+56LGh5Yiw5oyH5a6a5L2N572uXG4gICAgc3dpdGNoIChvcGVyYXRpb24pIHtcbiAgICAgIGNhc2UgJ2JyaW5nVG9Gcm9udCc6XG4gICAgICAgIC8vIOe9rumhtu+8muebtOaOpea3u+WKoOWIsOeUu+W4g++8iOm7mOiupOa3u+WKoOWIsOmhtumDqO+8iVxuICAgICAgICBjYW52YXMuYWRkKGFjdGl2ZU9iamVjdClcbiAgICAgICAgY29uc29sZS5sb2coJ+aJi+WKqOWxgue6p+euoeeQhiAtIOe9rumhtuWujOaIkCcpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzZW5kVG9CYWNrJzpcbiAgICAgICAgLy8g572u5bqV77ya5YWI56e76Zmk5omA5pyJ5a+56LGh77yM54S25ZCO5oyJ6aG65bqP6YeN5paw5re75YqgXG4gICAgICAgIGNvbnN0IGFsbE9iamVjdHMgPSBjYW52YXMuZ2V0T2JqZWN0cygpXG4gICAgICAgIGNhbnZhcy5jbGVhcigpXG4gICAgICAgIC8vIOWFiOa3u+WKoOW9k+WJjeWvueixoe+8iOe9ruW6le+8iVxuICAgICAgICBjYW52YXMuYWRkKGFjdGl2ZU9iamVjdClcbiAgICAgICAgLy8g54S25ZCO5re75Yqg5YW25LuW5a+56LGhXG4gICAgICAgIGFsbE9iamVjdHMuZm9yRWFjaChvYmogPT4ge1xuICAgICAgICAgIGlmIChvYmogIT09IGFjdGl2ZU9iamVjdCkge1xuICAgICAgICAgICAgY2FudmFzLmFkZChvYmopXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBjb25zb2xlLmxvZygn5omL5Yqo5bGC57qn566h55CGIC0g572u5bqV5a6M5oiQJylcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2JyaW5nRm9yd2FyZCc6XG4gICAgICAgIC8vIOS4iuenu+S4gOWxgu+8muS4juWQjuS4gOS4quWvueixoeS6pOaNouS9jee9rlxuICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgb2JqZWN0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgY29uc3QgbmV4dE9iamVjdCA9IG9iamVjdHNbY3VycmVudEluZGV4ICsgMV1cbiAgICAgICAgICBjYW52YXMucmVtb3ZlKG5leHRPYmplY3QpXG4gICAgICAgICAgY2FudmFzLmFkZChhY3RpdmVPYmplY3QpXG4gICAgICAgICAgY2FudmFzLmFkZChuZXh0T2JqZWN0KVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDkuIrnp7vkuIDlsYLlrozmiJAnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfmiYvliqjlsYLnuqfnrqHnkIYgLSDlt7Lnu4/lnKjmnIDpobblsYLvvIzml6Dms5XkuIrnp7snKVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzZW5kQmFja3dhcmQnOlxuICAgICAgICAvLyDkuIvnp7vkuIDlsYLvvJrkuI7liY3kuIDkuKrlr7nosaHkuqTmjaLkvY3nva5cbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+IDApIHtcbiAgICAgICAgICBjb25zdCBwcmV2T2JqZWN0ID0gb2JqZWN0c1tjdXJyZW50SW5kZXggLSAxXVxuICAgICAgICAgIGNhbnZhcy5yZW1vdmUocHJldk9iamVjdClcbiAgICAgICAgICBjYW52YXMuYWRkKGFjdGl2ZU9iamVjdClcbiAgICAgICAgICBjYW52YXMuYWRkKHByZXZPYmplY3QpXG4gICAgICAgICAgY29uc29sZS5sb2coJ+aJi+WKqOWxgue6p+euoeeQhiAtIOS4i+enu+S4gOWxguWujOaIkCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+aJi+WKqOWxgue6p+euoeeQhiAtIOW3sue7j+WcqOacgOW6leWxgu+8jOaXoOazleS4i+enuycpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgXG4gICAgLy8g6YeN5paw6YCJ5Lit5a+56LGhXG4gICAgY2FudmFzLnNldEFjdGl2ZU9iamVjdChhY3RpdmVPYmplY3QpXG4gICAgLy8g6YeN5paw5riy5p+T55S75biDXG4gICAgY2FudmFzLnJlbmRlckFsbCgpXG4gICAgY29uc29sZS5sb2coJ+aJi+WKqOWxgue6p+euoeeQhiAtIOaTjeS9nOWujOaIkCcpXG4gIH1cblxuICBjb25zdCBoYW5kbGVCcmluZ1RvRnJvbnQgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxuICAgIGNvbnN0IGFjdGl2ZU9iamVjdCA9IGNhbnZhcy5nZXRBY3RpdmVPYmplY3QoKVxuICAgIGlmIChhY3RpdmVPYmplY3QpIHtcbiAgICAgIHNhdmVDYW52YXNTdGF0ZSgpXG4gICAgICBjb25zb2xlLmxvZygn572u6aG25pON5L2cIC0g5rS75Yqo5a+56LGhOicsIGFjdGl2ZU9iamVjdClcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8g5LyY5YWI5L2/55SoRmFicmljLmpz5Y6f55Sf5pa55rOVXG4gICAgICAgIGlmIChjYW52YXMuYnJpbmdUb0Zyb250KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+S9v+eUqEZhYnJpYy5qc+e9rumhtuaWueazlScpXG4gICAgICAgICAgY2FudmFzLmJyaW5nVG9Gcm9udChhY3RpdmVPYmplY3QpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+S9v+eUqOaJi+WKqOWxgue6p+euoeeQhue9rumhticpXG4gICAgICAgICAgbWFudWFsTGF5ZXJNYW5hZ2VtZW50KCdicmluZ1RvRnJvbnQnKVxuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKVxuICAgICAgICBjb25zb2xlLmxvZygn5a+56LGh5bey572u6aG2JylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+e9rumhtuaTjeS9nOWksei0pTonLCBlcnJvcilcbiAgICAgICAgY29uc29sZS5sb2coJ+S9v+eUqOWkh+eUqOaWueahiOe9rumhticpXG4gICAgICAgIG1hbnVhbExheWVyTWFuYWdlbWVudCgnYnJpbmdUb0Zyb250JylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVTZW5kVG9CYWNrID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzKSByZXR1cm5cbiAgICBjb25zdCBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KClcbiAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICBzYXZlQ2FudmFzU3RhdGUoKVxuICAgICAgY29uc29sZS5sb2coJ+e9ruW6leaTjeS9nCAtIOa0u+WKqOWvueixoTonLCBhY3RpdmVPYmplY3QpXG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChjYW52YXMuc2VuZFRvQmFjaykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfkvb/nlKhGYWJyaWMuanPnva7lupXmlrnms5UnKVxuICAgICAgICAgIGNhbnZhcy5zZW5kVG9CYWNrKGFjdGl2ZU9iamVjdClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn5L2/55So5omL5Yqo5bGC57qn566h55CG572u5bqVJylcbiAgICAgICAgICBtYW51YWxMYXllck1hbmFnZW1lbnQoJ3NlbmRUb0JhY2snKVxuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKVxuICAgICAgICBjb25zb2xlLmxvZygn5a+56LGh5bey572u5bqVJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+e9ruW6leaTjeS9nOWksei0pTonLCBlcnJvcilcbiAgICAgICAgY29uc29sZS5sb2coJ+S9v+eUqOWkh+eUqOaWueahiOe9ruW6lScpXG4gICAgICAgIG1hbnVhbExheWVyTWFuYWdlbWVudCgnc2VuZFRvQmFjaycpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQnJpbmdGb3J3YXJkID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzKSByZXR1cm5cbiAgICBjb25zdCBhY3RpdmVPYmplY3QgPSBjYW52YXMuZ2V0QWN0aXZlT2JqZWN0KClcbiAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICBzYXZlQ2FudmFzU3RhdGUoKVxuICAgICAgY29uc29sZS5sb2coJ+S4iuenu+S4gOWxguaTjeS9nCAtIOa0u+WKqOWvueixoTonLCBhY3RpdmVPYmplY3QpXG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChjYW52YXMuYnJpbmdGb3J3YXJkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+S9v+eUqEZhYnJpYy5qc+S4iuenu+S4gOWxguaWueazlScpXG4gICAgICAgICAgY2FudmFzLmJyaW5nRm9yd2FyZChhY3RpdmVPYmplY3QpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+S9v+eUqOaJi+WKqOWxgue6p+euoeeQhuS4iuenu+S4gOWxgicpXG4gICAgICAgICAgbWFudWFsTGF5ZXJNYW5hZ2VtZW50KCdicmluZ0ZvcndhcmQnKVxuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKVxuICAgICAgICBjb25zb2xlLmxvZygn5a+56LGh5bey5LiK56e75LiA5bGCJylcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+S4iuenu+S4gOWxguaTjeS9nOWksei0pTonLCBlcnJvcilcbiAgICAgICAgY29uc29sZS5sb2coJ+S9v+eUqOWkh+eUqOaWueahiOS4iuenu+S4gOWxgicpXG4gICAgICAgIG1hbnVhbExheWVyTWFuYWdlbWVudCgnYnJpbmdGb3J3YXJkJylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVTZW5kQmFja3dhcmQgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxuICAgIGNvbnN0IGFjdGl2ZU9iamVjdCA9IGNhbnZhcy5nZXRBY3RpdmVPYmplY3QoKVxuICAgIGlmIChhY3RpdmVPYmplY3QpIHtcbiAgICAgIHNhdmVDYW52YXNTdGF0ZSgpXG4gICAgICBjb25zb2xlLmxvZygn5LiL56e75LiA5bGC5pON5L2cIC0g5rS75Yqo5a+56LGhOicsIGFjdGl2ZU9iamVjdClcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGNhbnZhcy5zZW5kQmFja3dhcmRzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+S9v+eUqEZhYnJpYy5qc+S4i+enu+S4gOWxguaWueazlScpXG4gICAgICAgICAgY2FudmFzLnNlbmRCYWNrd2FyZHMoYWN0aXZlT2JqZWN0KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfkvb/nlKjmiYvliqjlsYLnuqfnrqHnkIbkuIvnp7vkuIDlsYInKVxuICAgICAgICAgIG1hbnVhbExheWVyTWFuYWdlbWVudCgnc2VuZEJhY2t3YXJkJylcbiAgICAgICAgfVxuICAgICAgICBjYW52YXMucmVuZGVyQWxsKClcbiAgICAgICAgY29uc29sZS5sb2coJ+WvueixoeW3suS4i+enu+S4gOWxgicpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfkuIvnp7vkuIDlsYLmk43kvZzlpLHotKU6JywgZXJyb3IpXG4gICAgICAgIGNvbnNvbGUubG9nKCfkvb/nlKjlpIfnlKjmlrnmoYjkuIvnp7vkuIDlsYInKVxuICAgICAgICBtYW51YWxMYXllck1hbmFnZW1lbnQoJ3NlbmRCYWNrd2FyZCcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8g6I635Y+W5omA5pyJ5a+56LGh55qE5bGC57qn5L+h5oGvXG4gIGNvbnN0IGdldExheWVySW5mbyA9ICgpID0+IHtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuIFtdXG4gICAgcmV0dXJuIGNhbnZhcy5nZXRPYmplY3RzKCkubWFwKChvYmo6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gKHtcbiAgICAgIGlkOiBvYmouaWQgfHwgYG9iai0ke2luZGV4fWAsXG4gICAgICB0eXBlOiBvYmoudHlwZSB8fCAndW5rbm93bicsXG4gICAgICBuYW1lOiBvYmoubmFtZSB8fCBg5a+56LGhJHtpbmRleCArIDF9YCxcbiAgICAgIHZpc2libGU6IG9iai52aXNpYmxlICE9PSBmYWxzZSxcbiAgICAgIGxvY2tlZDogb2JqLnNlbGVjdGFibGUgPT09IGZhbHNlLFxuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfSkpXG4gIH1cblxuICAvLyDmuIXpmaTnlLvmnb/lip/og71cbiAgY29uc3QgaGFuZGxlQ2xlYXJDYW52YXMgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxuICAgIFxuICAgIC8vIOS/neWtmOW9k+WJjeeKtuaAgeWIsOWOhuWPsuiusOW9lVxuICAgIHNhdmVDYW52YXNTdGF0ZSgpXG4gICAgXG4gICAgLy8g5riF6Zmk55S75p2/5bm26K6+572u5Li657qv55m96Imy6IOM5pmvXG4gICAgY2FudmFzLmNsZWFyKClcbiAgICBjYW52YXMuYmFja2dyb3VuZENvbG9yID0gJyNmZmZmZmYnXG4gICAgY2FudmFzLnJlbmRlckFsbCgpXG4gICAgXG4gICAgY29uc29sZS5sb2coJ+eUu+adv+W3sua4hemZpCcpXG4gIH1cblxuICAvLyDlpITnkIbnlLvmnb/nvKnmlL5cbiAgY29uc3QgaGFuZGxlWm9vbUNoYW5nZSA9IChkZWx0YTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxuICAgIFxuICAgIGNvbnN0IG5ld1pvb21MZXZlbCA9IE1hdGgubWF4KDEwLCBNYXRoLm1pbig1MDAsIHpvb21MZXZlbCArIGRlbHRhKSlcbiAgICBjb25zdCBzY2FsZSA9IG5ld1pvb21MZXZlbCAvIDEwMFxuICAgIFxuICAgIC8vIOiuvue9rue8qeaUvuavlOS+i1xuICAgIGNvbnN0IHZwdCA9IGNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybSB8fCBbMSwgMCwgMCwgMSwgMCwgMF1cbiAgICB2cHRbMF0gPSBzY2FsZVxuICAgIHZwdFszXSA9IHNjYWxlXG4gICAgXG4gICAgY2FudmFzLnNldFZpZXdwb3J0VHJhbnNmb3JtKHZwdClcbiAgICBjYW52YXMucmVxdWVzdFJlbmRlckFsbCgpXG4gICAgc2V0Wm9vbUxldmVsKG5ld1pvb21MZXZlbClcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg57yp5pS+5q+U5L6LOiAke25ld1pvb21MZXZlbH0lYClcbiAgfVxuXG4gIC8vIOmHjee9rue8qeaUvuavlOS+i1xuICBjb25zdCBoYW5kbGVab29tUmVzZXQgPSAoKSA9PiB7XG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxuICAgIFxuICAgIC8vIOmHjee9ruWIsDEwMCVcbiAgICBjb25zdCB2cHQgPSBjYW52YXMudmlld3BvcnRUcmFuc2Zvcm0gfHwgWzEsIDAsIDAsIDEsIDAsIDBdXG4gICAgdnB0WzBdID0gMVxuICAgIHZwdFszXSA9IDFcbiAgICB2cHRbNF0gPSAwICAvLyDph43nva5Y6L205YGP56e7XG4gICAgdnB0WzVdID0gMCAgLy8g6YeN572uWei9tOWBj+enu1xuICAgIFxuICAgIGNhbnZhcy5zZXRWaWV3cG9ydFRyYW5zZm9ybSh2cHQpXG4gICAgY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKVxuICAgIHNldFpvb21MZXZlbCgxMDApXG4gICAgXG4gICAgY29uc29sZS5sb2coJ+e8qeaUvuavlOS+i+W3sumHjee9ruS4ujEwMCUnKVxuICB9XG5cbiAgLy8g5LiL6L2955S75p2/5YaF5a655Li6SlNPTuaWh+S7tlxuICBjb25zdCBoYW5kbGVEb3dubG9hZENhbnZhcyA9ICgpID0+IHtcbiAgICBpZiAoIWNhbnZhcykge1xuICAgICAgYWxlcnQoJ+eUu+W4g+acquWIneWni+WMlu+8jOaXoOazleS4i+i9vScpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIOiOt+WPlueUu+W4g+aVsOaNrlxuICAgICAgY29uc3QgY2FudmFzRGF0YSA9IGNhbnZhcy50b0pTT04oKVxuICAgICAgXG4gICAgICAvLyDmt7vliqDlhYPmlbDmja5cbiAgICAgIGNvbnN0IGV4cG9ydERhdGEgPSB7XG4gICAgICAgIHZlcnNpb246ICcxLjAnLFxuICAgICAgICBleHBvcnREYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGNhbnZhc0luZm86IHtcbiAgICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNhbnZhcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgb2JqZWN0Q291bnQ6IGNhbnZhcy5nZXRPYmplY3RzKCkubGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIGNhbnZhc0RhdGE6IGNhbnZhc0RhdGEsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgYnJ1c2hTZXR0aW5nczoge1xuICAgICAgICAgICAgc2l6ZTogYnJ1c2hTaXplLFxuICAgICAgICAgICAgY29sb3I6IGJydXNoQ29sb3JcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGl2ZVRvb2w6IGFjdGl2ZVRvb2wsXG4gICAgICAgICAgdGhlbWU6IHRoZW1lLFxuICAgICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOWIm+W7ukpTT07lrZfnrKbkuLJcbiAgICAgIGNvbnN0IGpzb25TdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBvcnREYXRhLCBudWxsLCAyKVxuICAgICAgXG4gICAgICAvLyDliJvlu7pCbG9i5a+56LGhXG4gICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2pzb25TdHJpbmddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KVxuICAgICAgXG4gICAgICAvLyDliJvlu7rkuIvovb3pk77mjqVcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICAgIGEuaHJlZiA9IHVybFxuICAgICAgXG4gICAgICAvLyDnlJ/miJDmlofku7blkI1cbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKC9bOi5dL2csICctJykuc2xpY2UoMCwgLTUpXG4gICAgICBhLmRvd25sb2FkID0gYGNhbnZhcy1leHBvcnQtJHt0aW1lc3RhbXB9Lmpzb25gXG4gICAgICBcbiAgICAgIC8vIOinpuWPkeS4i+i9vVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKVxuICAgICAgYS5jbGljaygpXG4gICAgICBcbiAgICAgIC8vIOa4heeQhlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSlcbiAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpXG4gICAgICB9LCAxMDApXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfnlLvmnb/lhoXlrrnlt7Llr7zlh7rkuLpKU09O5paH5Lu2JylcbiAgICAgIFxuICAgICAgLy8g5pi+56S65LiL6L295oiQ5Yqf5o+Q56S6XG4gICAgICBjb25zdCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgbm90aWZpY2F0aW9uLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBzdHlsZT1cInBvc2l0aW9uOiBmaXhlZDsgdG9wOiAyMHB4OyByaWdodDogMjBweDsgYmFja2dyb3VuZDogIzEwYjk4MTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDE2cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgei1pbmRleDogMTAwMDA7IGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsMCwwLDAuMSk7XCI+XG4gICAgICAgICAgPHN0cm9uZz7kuIvovb3miJDlip/vvIE8L3N0cm9uZz48YnI+XG4gICAgICAgICAg55S75p2/5YaF5a655bey5L+d5a2Y5Li6SlNPTuaWh+S7tlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGBcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uKVxuICAgICAgXG4gICAgICAvLyAz56eS5ZCO6Ieq5Yqo56e76Zmk5o+Q56S6XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMobm90aWZpY2F0aW9uKSkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobm90aWZpY2F0aW9uKVxuICAgICAgICB9XG4gICAgICB9LCAzMDAwKVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+S4i+i9veeUu+adv+Wksei0pTonLCBlcnJvcilcbiAgICAgIGFsZXJ0KCfkuIvovb3lpLHotKXvvIzor7fph43or5UnKVxuICAgIH1cbiAgfVxuXG4gIC8vIOWvvOWFpeeUu+adv+WGheWuueS7jkpTT07mlofku7ZcbiAgY29uc3QgaGFuZGxlSW1wb3J0Q2FudmFzID0gKCkgPT4ge1xuICAgIGlmICghY2FudmFzKSB7XG4gICAgICBhbGVydCgn55S75biD5pyq5Yid5aeL5YyW77yM5peg5rOV5a+85YWlJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBcbiAgICAvLyDliJvlu7rmlofku7bovpPlhaXlhYPntKBcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSdcbiAgICBmaWxlSW5wdXQuYWNjZXB0ID0gJy5qc29uJ1xuICAgIGZpbGVJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgXG4gICAgZmlsZUlucHV0Lm9uY2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudFxuICAgICAgY29uc3QgZmlsZSA9IHRhcmdldC5maWxlcz8uWzBdXG4gICAgICBcbiAgICAgIGlmICghZmlsZSkgcmV0dXJuXG4gICAgICBcbiAgICAgIC8vIOa4heeQhuaWh+S7tui+k+WFpeWAvFxuICAgICAgdGFyZ2V0LnZhbHVlID0gJydcbiAgICAgIFxuICAgICAgLy8g6aqM6K+B5paH5Lu257G75Z6LXG4gICAgICBpZiAoIWZpbGUubmFtZS5lbmRzV2l0aCgnLmpzb24nKSkge1xuICAgICAgICBhbGVydCgn6K+36YCJ5oupSlNPTuaWh+S7ticpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDkvb/nlKhGaWxlUmVhZGVy6K+75Y+W5paH5Lu2XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgICBcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGpzb25Db250ZW50ID0gZS50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmdcbiAgICAgICAgICBjb25zdCBpbXBvcnREYXRhID0gSlNPTi5wYXJzZShqc29uQ29udGVudClcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDpqozor4Hmlofku7bmoLzlvI9cbiAgICAgICAgICBpZiAoIWltcG9ydERhdGEuY2FudmFzRGF0YSB8fCAhaW1wb3J0RGF0YS52ZXJzaW9uKSB7XG4gICAgICAgICAgICBhbGVydCgn5peg5pWI55qE55S75p2/5paH5Lu25qC85byPJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyDkv53lrZjlvZPliY3nirbmgIHliLDljoblj7LorrDlvZVcbiAgICAgICAgICBzYXZlQ2FudmFzU3RhdGUoKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIOa4hemZpOW9k+WJjeeUu+W4g1xuICAgICAgICAgIGNhbnZhcy5jbGVhcigpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8g5Yqg6L295a+85YWl55qE55S75biD5pWw5o2uXG4gICAgICAgICAgY2FudmFzLmxvYWRGcm9tSlNPTihpbXBvcnREYXRhLmNhbnZhc0RhdGEsICgpID0+IHtcbiAgICAgICAgICAgIC8vIOeUu+W4g+WKoOi9veWujOaIkOWQjueahOWbnuiwg1xuICAgICAgICAgICAgY2FudmFzLnJlbmRlckFsbCgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIOW8uuWItumHjeaWsOa4suafk+eUu+W4g++8jOehruS/neWGheWuueeri+WNs+aYvuekulxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKVxuICAgICAgICAgICAgICAvLyDop6blj5HkuIDmrKHnlLvluIPph43nu5hcbiAgICAgICAgICAgICAgY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKVxuICAgICAgICAgICAgfSwgMTAwKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyDmgaLlpI3lhYPmlbDmja7orr7nva5cbiAgICAgICAgICAgIGlmIChpbXBvcnREYXRhLm1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgYnJ1c2hTZXR0aW5ncywgdGhlbWU6IGltcG9ydFRoZW1lLCBsYW5ndWFnZTogaW1wb3J0TGFuZ3VhZ2UgfSA9IGltcG9ydERhdGEubWV0YWRhdGFcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChicnVzaFNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgc2V0QnJ1c2hTaXplKGJydXNoU2V0dGluZ3Muc2l6ZSB8fCAzKVxuICAgICAgICAgICAgICAgIHNldEJydXNoQ29sb3IoYnJ1c2hTZXR0aW5ncy5jb2xvciB8fCAnIzAwMDAwMCcpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChpbXBvcnRUaGVtZSAmJiBpbXBvcnRUaGVtZSAhPT0gdGhlbWUpIHtcbiAgICAgICAgICAgICAgICBzZXRUaGVtZShpbXBvcnRUaGVtZSlcbiAgICAgICAgICAgICAgICAvLyDnq4vljbPlupTnlKjliLBkb2N1bWVudFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW1wb3J0VGhlbWUgPT09ICdkYXJrJykge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoaW1wb3J0TGFuZ3VhZ2UgJiYgaW1wb3J0TGFuZ3VhZ2UgIT09IGxhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgc2V0TGFuZ3VhZ2UoaW1wb3J0TGFuZ3VhZ2UpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8g5oGi5aSN57yp5pS+6K6+572uXG4gICAgICAgICAgICBpZiAoaW1wb3J0RGF0YS5jYW52YXNJbmZvPy56b29tTGV2ZWwpIHtcbiAgICAgICAgICAgICAgc2V0Wm9vbUxldmVsKGltcG9ydERhdGEuY2FudmFzSW5mby56b29tTGV2ZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnlLvmnb/lhoXlrrnlt7LmiJDlip/lr7zlhaUnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyDmmL7npLrlr7zlhaXmiJDlip/mj5DnpLpcbiAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICBub3RpZmljYXRpb24uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwicG9zaXRpb246IGZpeGVkOyB0b3A6IDIwcHg7IHJpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kOiAjMTBiOTgxOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMTZweDsgYm9yZGVyLXJhZGl1czogOHB4OyB6LWluZGV4OiAxMDAwMDsgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4xKTtcIj5cbiAgICAgICAgICAgICAgICA8c3Ryb25nPuWvvOWFpeaIkOWKn++8gTwvc3Ryb25nPjxicj5cbiAgICAgICAgICAgICAgICDnlLvmnb/lhoXlrrnlt7Lku45KU09O5paH5Lu25Yqg6L29XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub3RpZmljYXRpb24pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIDPnp5LlkI7oh6rliqjnp7vpmaTmj5DnpLpcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhub3RpZmljYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub3RpZmljYXRpb24pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDMwMDApXG4gICAgICAgICAgfSlcbiAgICAgICAgICBcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCflr7zlhaXnlLvmnb/lpLHotKU6JywgZXJyb3IpXG4gICAgICAgICAgYWxlcnQoJ+WvvOWFpeWksei0pe+8jOaWh+S7tuagvOW8j+WPr+iDveS4jeato+ehricpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIGFsZXJ0KCfmlofku7bor7vlj5blpLHotKXvvIzor7fph43or5UnKVxuICAgICAgfVxuICAgICAgXG4gICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKVxuICAgIH1cbiAgICBcbiAgICAvLyDop6blj5Hmlofku7bpgInmi6lcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZpbGVJbnB1dClcbiAgICBmaWxlSW5wdXQuY2xpY2soKVxuICAgIFxuICAgIC8vIOa4heeQhlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZmlsZUlucHV0KSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGZpbGVJbnB1dClcbiAgICAgIH1cbiAgICB9LCAxMDAwKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQ2FwdHVyZUFyZWEgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0gYXdhaXQgb25DYXB0dXJlQXJlYSgpXG4gICAgaWYgKGltYWdlRGF0YSkge1xuICAgICAgLy8g6L+Z6YeM5Y+v5Lul5bCG5oiq5Zu+5Y+R6YCB5Yiw6IGK5aSp6Z2i5p2/XG4gICAgICBjb25zb2xlLmxvZygnQ2FwdHVyZWQgYXJlYTonLCBpbWFnZURhdGEpXG4gICAgfVxuICB9XG5cbiAgLy8g6L+U5Zue55So5oi36aG555uu6aG16Z2iXG4gIGNvbnN0IGhhbmRsZUJhY2tUb1VzZXIgPSAoKSA9PiB7XG4gICAgcm91dGVyLnB1c2goJy91c2VyL3Byb2plY3RzJylcbiAgfVxuXG4gIC8vIOWIh+aNouS4u+mimFxuICBjb25zdCBoYW5kbGVUb2dnbGVUaGVtZSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdUaGVtZSA9IHRoZW1lID09PSAnbGlnaHQnID8gJ2RhcmsnIDogJ2xpZ2h0J1xuICAgIHNldFRoZW1lKG5ld1RoZW1lKVxuICAgIFxuICAgIC8vIOeri+WNs+W6lOeUqOWIsGRvY3VtZW50XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChuZXdUaGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyDliIfmjaLor63oqIBcbiAgY29uc3QgaGFuZGxlVG9nZ2xlTGFuZ3VhZ2UgPSAoKSA9PiB7XG4gICAgc2V0TGFuZ3VhZ2UobGFuZ3VhZ2UgPT09ICd6aCcgPyAnZW4nIDogJ3poJylcbiAgfVxuXG4gIC8vIOiOt+WPluivreiogOaYvuekuuaWh+acrFxuICBjb25zdCBnZXRMYW5ndWFnZVRleHQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGxhbmd1YWdlID09PSAnemgnID8gJ+S4reaWhycgOiAnRW5nbGlzaCdcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktOTAwIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBweC0yIHNtOnB4LTQgcHktMiBmbGV4IGZsZXgtY29sIGxnOmZsZXgtcm93IGl0ZW1zLXN0cmV0Y2ggbGc6aXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiBsZzpnYXAtMCByZWxhdGl2ZVwiPlxuICAgICAgey8qIOW9oueKtumAieaLqeWNoeeJhyAqL31cbiAgICAgIHtzaG93U2hhcGVQaWNrZXIgJiYgKFxuICAgICAgICA8ZGl2IHJlZj17c2hhcGVQaWNrZXJSZWZ9IGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMTYgdG9wLTEyIGJnLXdoaXRlIGRhcms6YmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTMgei0xMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+6YCJ5oup5b2i54q2PC9oND5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dTaGFwZVBpY2tlcihmYWxzZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgZGFyazp0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS02MDAgZGFyazpob3Zlcjp0ZXh0LWdyYXktNDAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgw5dcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBnYXAtMlwiPlxuICAgICAgICAgICAge3NoYXBlcy5tYXAoKHNoYXBlKSA9PiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBrZXk9e3NoYXBlLmlkfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFkZFNoYXBlKHNoYXBlLmlkKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktODAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIG1pbi13LVs2MHB4XVwiXG4gICAgICAgICAgICAgICAgdGl0bGU9e3NoYXBlLmxhYmVsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNoYXBlLmljb24gY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xIHRleHQtY2VudGVyIGxlYWRpbmctdGlnaHRcIj57c2hhcGUubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiDlsYLnuqfnrqHnkIbpnaLmnb8gKi99XG4gICAgICB7c2hvd0xheWVyUGFuZWwgJiYgKFxuICAgICAgICA8ZGl2IHJlZj17bGF5ZXJQYW5lbFJlZn0gY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMTYgdG9wLTEyIGJnLXdoaXRlIGRhcms6YmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTMgei0xMCB3LTY0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItM1wiPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj7lsYLnuqfnrqHnkIY8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0xheWVyUGFuZWwoZmFsc2UpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGRhcms6dGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNjAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTQwMFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIMOXXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7Lyog5bGC57qn5pON5L2c5oyJ6ZKuICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBtYi0zXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJyaW5nVG9Gcm9udH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC0yIGJnLWJsdWUtMTAwIGRhcms6YmctYmx1ZS05MDAgdGV4dC1ibHVlLTcwMCBkYXJrOnRleHQtYmx1ZS0zMDAgcm91bmRlZCB0ZXh0LXhzIGhvdmVyOmJnLWJsdWUtMjAwIGRhcms6aG92ZXI6YmctYmx1ZS04MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICB0aXRsZT1cIue9rumhtiAoQ3RybCArIFNoaWZ0ICsgXSlcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8TW92ZVVwIGNsYXNzTmFtZT1cImgtMyB3LTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgIOe9rumhtlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktNzAgbWwtMVwiPkN0cmwrU2hpZnQrXTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kVG9CYWNrfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTIgYmctYmx1ZS0xMDAgZGFyazpiZy1ibHVlLTkwMCB0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTMwMCByb3VuZGVkIHRleHQteHMgaG92ZXI6YmctYmx1ZS0yMDAgZGFyazpob3ZlcjpiZy1ibHVlLTgwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgIHRpdGxlPVwi572u5bqVIChDdHJsICsgU2hpZnQgKyBbKVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxNb3ZlRG93biBjbGFzc05hbWU9XCJoLTMgdy0zIG1yLTFcIiAvPlxuICAgICAgICAgICAgICDnva7lupVcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTcwIG1sLTFcIj5DdHJsK1NoaWZ0K1s8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQnJpbmdGb3J3YXJkfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTIgYmctYmx1ZS0xMDAgZGFyazpiZy1ibHVlLTkwMCB0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTMwMCByb3VuZGVkIHRleHQteHMgaG92ZXI6YmctYmx1ZS0yMDAgZGFyazpob3ZlcjpiZy1ibHVlLTgwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgIHRpdGxlPVwi5LiK56e75LiA5bGCIChDdHJsICsgXSlcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8QXJyb3dVcCBjbGFzc05hbWU9XCJoLTMgdy0zIG1yLTFcIiAvPlxuICAgICAgICAgICAgICDkuIrnp7vkuIDlsYJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTcwIG1sLTFcIj5DdHJsK108L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZEJhY2t3YXJkfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTIgYmctYmx1ZS0xMDAgZGFyazpiZy1ibHVlLTkwMCB0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTMwMCByb3VuZGVkIHRleHQteHMgaG92ZXI6YmctYmx1ZS0yMDAgZGFyazpob3ZlcjpiZy1ibHVlLTgwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgIHRpdGxlPVwi5LiL56e75LiA5bGCIChDdHJsICsgWylcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8QXJyb3dEb3duIGNsYXNzTmFtZT1cImgtMyB3LTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgIOS4i+enu+S4gOWxglxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktNzAgbWwtMVwiPkN0cmwrWzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiDlsYLnuqfliJfooaggKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcHQtM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMlwiPlxuICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPuWvueixoeWxgue6pzwvaDU+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj7lhbEge2dldExheWVySW5mbygpLmxlbmd0aH0g5Liq5a+56LGhPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMSBtYXgtaC0zMiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAge2dldExheWVySW5mbygpLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdGV4dC1jZW50ZXIgcHktMlwiPlxuICAgICAgICAgICAgICAgICAg5pqC5peg5a+56LGhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgZ2V0TGF5ZXJJbmZvKCkubWFwKChsYXllciwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtsYXllci5pZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMSB0ZXh0LXhzIHJvdW5kZWQgY3Vyc29yLXBvaW50ZXIgJHtcbiAgICAgICAgICAgICAgICAgICAgICBjYW52YXM/LmdldEFjdGl2ZU9iamVjdCgpPy5pZCA9PT0gbGF5ZXIuaWQgXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTEwMCBkYXJrOmJnLWJsdWUtOTAwIHRleHQtYmx1ZS03MDAgZGFyazp0ZXh0LWJsdWUtMzAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2hvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAnXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8g54K55Ye75bGC57qn6aG56YCJ5Lit5a+55bqU5a+56LGhXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gY2FudmFzPy5nZXRPYmplY3RzKCkuZmluZCgobzogYW55KSA9PiBvLmlkID09PSBsYXllci5pZClcbiAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM/LnNldEFjdGl2ZU9iamVjdChvYmopXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM/LnJlbmRlckFsbCgpXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cnVuY2F0ZVwiPntsYXllci5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj57bGF5ZXIuaW5kZXggKyAxfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7Lyog5L2/55So5o+Q56S6ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHB0LTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIG1iLTFcIj7kvb/nlKjmj5DnpLrvvJo8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj7igKIg5Y+z6ZSu54K55Ye75a+56LGh5Y+v5b+r6YCf5pON5L2c5bGC57qnPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+4oCiIOS9v+eUqOW/q+aNt+mUriBDdHJsK1sgXSDosIPmlbTlsYLnuqc8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj7igKIg54K55Ye75bGC57qn5YiX6KGo5Y+v6YCJ5Lit5a+56LGhPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7Lyog5paH5a2X5bel5YW36Z2i5p2/ICovfVxuICAgICAgPFRleHRUb29sUGFuZWxcbiAgICAgICAgY2FudmFzPXtjYW52YXN9XG4gICAgICAgIGlzVmlzaWJsZT17c2hvd1RleHRUb29sUGFuZWx9XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dUZXh0VG9vbFBhbmVsKGZhbHNlKX1cbiAgICAgICAgcG9zaXRpb249e3RleHRUb29sUG9zaXRpb259XG4gICAgICAvPlxuXG4gICAgICB7Lyog5L+d5a2Y6aG555uu5by556qXICovfVxuICAgICAgPFNhdmVQcm9qZWN0TW9kYWxcbiAgICAgICAgaXNPcGVuPXtzaG93U2F2ZU1vZGFsfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93U2F2ZU1vZGFsKGZhbHNlKX1cbiAgICAgICAgb25TYXZlPXtoYW5kbGVTYXZlUHJvamVjdH1cbiAgICAgICAgcHJvamVjdERhdGE9e3Byb2plY3REYXRhfVxuICAgICAgLz5cblxuICAgICAgey8qIOW3puS+p+W3peWFt+e7hCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbGc6anVzdGlmeS1zdGFydCBmbGV4LXdyYXAgZ2FwLTEgbGc6Z2FwLTJcIj5cbiAgICAgICAgey8qIOi/lOWbnuaMiemSriAqL31cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJhY2tUb1VzZXJ9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicC0xIGxnOnAtMiByb3VuZGVkLWxnIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgIHRpdGxlPVwi6L+U5Zue55So5oi36aG16Z2iXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwiaC00IHctNCBsZzpoLTUgbGc6dy01XCIgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIFxuICAgICAgICB7dG9vbHMubWFwKCh0b29sKSA9PiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAga2V5PXt0b29sLmlkfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVG9vbFNlbGVjdCh0b29sLmlkKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMSBsZzpwLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBhY3RpdmVUb29sID09PSB0b29sLmlkIFxuICAgICAgICAgICAgICAgID8gJ2JnLXByaW1hcnktMTAwIGRhcms6YmctcHJpbWFyeS05MDAgdGV4dC1wcmltYXJ5LTYwMCBkYXJrOnRleHQtcHJpbWFyeS00MDAnIFxuICAgICAgICAgICAgICAgIDogJ3RleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIHRpdGxlPXt0b29sLmxhYmVsfVxuICAgICAgICAgICAgZGF0YS10b29sPXt0b29sLmlkfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDx0b29sLmljb24gY2xhc3NOYW1lPVwiaC00IHctNCBsZzpoLTUgbGc6dy01XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIOS4remXtOaOp+WItue7hCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC13cmFwIGdhcC0yIGxnOmdhcC00IG10LTIgbGc6bXQtMFwiPlxuICAgICAgICB7Lyog55S756yU5aSn5bCPICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBsZzpzcGFjZS14LTJcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICBtaW49XCIxXCJcbiAgICAgICAgICAgIG1heD1cIjIwXCJcbiAgICAgICAgICAgIHZhbHVlPXticnVzaFNpemV9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUJydXNoU2l6ZUNoYW5nZShOdW1iZXIoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTYgbGc6dy0yMCBkYXJrOmJnLWdyYXktNzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgbGc6dGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPnticnVzaFNpemV9cHg8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiDpopzoibLpgInmi6kgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xIGxnOnNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cImNvbG9yXCJcbiAgICAgICAgICAgIHZhbHVlPXticnVzaENvbG9yfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDb2xvckNoYW5nZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTYgaC02IGxnOnctOCBsZzpoLTggcm91bmRlZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Lyog55S75p2/57yp5pS+5o6n5Yi2ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBsZzpzcGFjZS14LTJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVab29tQ2hhbmdlKC0xMCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTgwMCByb3VuZGVkXCJcbiAgICAgICAgICAgIHRpdGxlPVwi57yp5bCPXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImgtMyB3LTMgbGc6aC00IGxnOnctNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTkgOWwtNyA3LTctN1wiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVab29tUmVzZXQoKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgbGc6dGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktODAwIHB4LTEgbGc6cHgtMiBweS0xIHJvdW5kZWRcIlxuICAgICAgICAgICAgdGl0bGU9XCLph43nva7nvKnmlL5cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt6b29tTGV2ZWx9JVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVpvb21DaGFuZ2UoMTApfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgcm91bmRlZFwiXG4gICAgICAgICAgICB0aXRsZT1cIuaUvuWkp1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJoLTMgdy0zIGxnOmgtNCBsZzp3LTRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTUgMTVsNy03IDcgN1wiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cblxuXG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIOWPs+S+p+aTjeS9nOe7hCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbGc6anVzdGlmeS1lbmQgZmxleC13cmFwIGdhcC0xIGxnOmdhcC0yIG10LTIgbGc6bXQtMFwiPlxuICAgICAgICB7Lyog5pON5L2c5Y6G5Y+yICovfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlVW5kb31cbiAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgbGc6cC0yIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgdGl0bGU9XCLmkqTplIBcIlxuICAgICAgICA+XG4gICAgICAgICAgPFJvdGF0ZUNjdyBjbGFzc05hbWU9XCJoLTQgdy00IGxnOmgtNSBsZzp3LTVcIiAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyQ2FudmFzfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBsZzpwLTIgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTgwMCByb3VuZGVkLWxnXCJcbiAgICAgICAgICB0aXRsZT1cIua4hemZpOeUu+adv1wiXG4gICAgICAgID5cbiAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImgtNCB3LTQgbGc6aC01IGxnOnctNVwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE5IDdsLS44NjcgMTIuMTQyQTIgMiAwIDAxMTYuMTM4IDIxSDcuODYyYTIgMiAwIDAxLTEuOTk1LTEuODU4TDUgN201IDR2Nm00LTZ2Nm0xLTEwVjRhMSAxIDAgMDAtMS0xaC00YTEgMSAwIDAwLTEgMXYzTTQgN2gxNlwiIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIHsvKiDkv53lrZggKi99XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBsZzpwLTIgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTgwMCByb3VuZGVkLWxnXCJcbiAgICAgICAgICB0aXRsZT1cIuS/neWtmOeUu+adv1wiXG4gICAgICAgID5cbiAgICAgICAgICA8U2F2ZSBjbGFzc05hbWU9XCJoLTQgdy00IGxnOmgtNSBsZzp3LTVcIiAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUltcG9ydENhbnZhc31cbiAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgbGc6cC0yIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgdGl0bGU9XCLlr7zlhaXnlLvmnb8oSlNPTilcIlxuICAgICAgICA+XG4gICAgICAgICAgPFVwbG9hZCBjbGFzc05hbWU9XCJoLTQgdy00IGxnOmgtNSBsZzp3LTVcIiAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURvd25sb2FkQ2FudmFzfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBsZzpwLTIgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTgwMCByb3VuZGVkLWxnXCJcbiAgICAgICAgICB0aXRsZT1cIuS4i+i9veeUu+advyhKU09OKVwiXG4gICAgICAgID5cbiAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwiaC00IHctNCBsZzpoLTUgbGc6dy01XCIgLz5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgey8qIOS4u+mimOWIh+aNouaMiemSriAqL31cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZVRoZW1lfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBsZzpwLTIgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTgwMCByb3VuZGVkLWxnXCJcbiAgICAgICAgICB0aXRsZT17YOWIh+aNouWIsCR7dGhlbWUgPT09ICdsaWdodCcgPyAn5rex6ImyJyA6ICfmtYXoibInfeS4u+mimGB9XG4gICAgICAgID5cbiAgICAgICAgICB7dGhlbWUgPT09ICdsaWdodCcgPyA8TW9vbiBjbGFzc05hbWU9XCJoLTQgdy00IGxnOmgtNSBsZzp3LTVcIiAvPiA6IDxTdW4gY2xhc3NOYW1lPVwiaC00IHctNCBsZzpoLTUgbGc6dy01XCIgLz59XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIHsvKiDlm73pmYXljJbmjInpkq4gKi99XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUb2dnbGVMYW5ndWFnZX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgbGc6cC0yIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS04MDAgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgdGl0bGU9e2DliIfmjaLliLAke2xhbmd1YWdlID09PSAnemgnID8gJ0VuZ2xpc2gnIDogJ+S4reaWhyd9YH1cbiAgICAgICAgPlxuICAgICAgICAgIDxMYW5ndWFnZXMgY2xhc3NOYW1lPVwiaC00IHctNCBsZzpoLTUgbGc6dy01XCIgLz5cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgey8qIOeUqOaIt+S/oeaBr+iDtuWbiiAqL31cbiAgICAgICAge3VzZXJJbmZvICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBsZzpzcGFjZS14LTIgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWZ1bGwgcHgtMiBsZzpweC0zIHB5LTFcIj5cbiAgICAgICAgICAgIHsvKiDmtojogJfngrnmlbAgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGxnOnRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj57dXNlckluZm8ucG9pbnRzfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPueCuTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7Lyog5YiG6ZqU57q/ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTMgbGc6aC00IHctcHggYmctZ3JheS0zMDAgZGFyazpiZy1ncmF5LTYwMFwiPjwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7Lyog55So5oi35aS05YOPICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgICAgIHNyYz17dXNlckluZm8uYXZhdGFyfSBcbiAgICAgICAgICAgICAgICBhbHQ9e3VzZXJJbmZvLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgbGc6dy02IGxnOmgtNiByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIlBlbmNpbCIsIlNoYXBlcyIsIlNxdWFyZSIsIkNpcmNsZSIsIlRyaWFuZ2xlIiwiU3RhciIsIkhlYXJ0IiwiRGlhbW9uZCIsIk9jdGFnb24iLCJBcnJvd1JpZ2h0IiwiTWludXMiLCJCcmFjZXMiLCJUeXBlIiwiRXJhc2VyIiwiSW1hZ2UiLCJJbWFnZUljb24iLCJEb3dubG9hZCIsIlVwbG9hZCIsIlNhdmUiLCJSb3RhdGVDY3ciLCJIYW5kIiwiQXJyb3dVcFJpZ2h0IiwiQXJyb3dMZWZ0IiwiU3VuIiwiTW9vbiIsIkxhbmd1YWdlcyIsIkxheWVycyIsIkFycm93VXAiLCJBcnJvd0Rvd24iLCJNb3ZlVXAiLCJNb3ZlRG93biIsIlRleHRUb29sUGFuZWwiLCJ1c2VVc2VyU3RvcmUiLCJ1c2VSb3V0ZXIiLCJTYXZlUHJvamVjdE1vZGFsIiwiQ2FudmFzVG9vbGJhciIsImNhbnZhcyIsIm9uQ2FwdHVyZUFyZWEiLCJzZWxlY3RlZEFyZWEiLCJhY3RpdmVUb29sIiwic2V0QWN0aXZlVG9vbCIsImJydXNoU2l6ZSIsInNldEJydXNoU2l6ZSIsImJydXNoQ29sb3IiLCJzZXRCcnVzaENvbG9yIiwic2hvd1NoYXBlUGlja2VyIiwic2V0U2hvd1NoYXBlUGlja2VyIiwiaXNEcmF3aW5nTW9kZSIsInNldElzRHJhd2luZ01vZGUiLCJzaGFwZVBpY2tlclJlZiIsImhpc3RvcnkiLCJzZXRIaXN0b3J5IiwiaGlzdG9yeUluZGV4Iiwic2V0SGlzdG9yeUluZGV4Iiwiem9vbUxldmVsIiwic2V0Wm9vbUxldmVsIiwic2hvd1RleHRUb29sUGFuZWwiLCJzZXRTaG93VGV4dFRvb2xQYW5lbCIsInRleHRUb29sUG9zaXRpb24iLCJzZXRUZXh0VG9vbFBvc2l0aW9uIiwibGVmdCIsInRvcCIsInRleHRUb29sUmVmIiwidGhlbWUiLCJsYW5ndWFnZSIsInNldFRoZW1lIiwic2V0TGFuZ3VhZ2UiLCJ1c2VySW5mbyIsInJvdXRlciIsInNob3dTYXZlTW9kYWwiLCJzZXRTaG93U2F2ZU1vZGFsIiwic2hvd0xheWVyUGFuZWwiLCJzZXRTaG93TGF5ZXJQYW5lbCIsImxheWVyUGFuZWxSZWYiLCJoYW5kbGVDbGlja091dHNpZGUiLCJldmVudCIsImN1cnJlbnQiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVEZWxldGVTZWxlY3RlZCIsImFjdGl2ZU9iamVjdHMiLCJnZXRBY3RpdmVPYmplY3RzIiwibGVuZ3RoIiwic2F2ZUNhbnZhc1N0YXRlIiwicmVtb3ZlIiwiZGlzY2FyZEFjdGl2ZU9iamVjdCIsInJlcXVlc3RSZW5kZXJBbGwiLCJoYW5kbGVLZXlEb3duIiwiYWN0aXZlT2JqZWN0IiwiZ2V0QWN0aXZlT2JqZWN0IiwiaXNFZGl0aW5nIiwia2V5IiwicHJldmVudERlZmF1bHQiLCJjdHJsS2V5IiwiaGFuZGxlQnJpbmdGb3J3YXJkIiwiaGFuZGxlU2VuZEJhY2t3YXJkIiwic2hpZnRLZXkiLCJoYW5kbGVCcmluZ1RvRnJvbnQiLCJoYW5kbGVTZW5kVG9CYWNrIiwid2luZG93IiwiZmFicmljIiwiY3VycmVudFN0YXRlIiwiX29iamVjdHMiLCJtYXAiLCJvYmoiLCJ1dGlsIiwib2JqZWN0IiwiY2xvbmUiLCJmaWx0ZXIiLCJuZXdIaXN0b3J5Iiwic2xpY2UiLCJwdXNoIiwiaXNQYW5uaW5nIiwibGFzdFBvc1giLCJsYXN0UG9zWSIsImhhbmRsZU1vdXNlRG93biIsIm9wdCIsImV2dCIsImUiLCJkZWZhdWx0Q3Vyc29yIiwiaG92ZXJDdXJzb3IiLCJjbGllbnRYIiwiY2xpZW50WSIsImhhbmRsZU1vdXNlTW92ZSIsImRlbHRhWCIsImRlbHRhWSIsInZwdCIsInZpZXdwb3J0VHJhbnNmb3JtIiwic2V0Vmlld3BvcnRUcmFuc2Zvcm0iLCJoYW5kbGVNb3VzZVVwIiwib24iLCJvZmYiLCJ1cGRhdGVab29tTGV2ZWwiLCJzY2FsZSIsIk1hdGgiLCJyb3VuZCIsImhhbmRsZU9iamVjdEFkZGVkIiwiaGFuZGxlT2JqZWN0UmVtb3ZlZCIsIm9wdGlvbnMiLCJ0eXBlIiwiZGV0YWlsIiwiZW50ZXJFZGl0aW5nIiwidG9vbHMiLCJpZCIsImljb24iLCJsYWJlbCIsInNoYXBlcyIsImhhbmRsZVRvb2xTZWxlY3QiLCJ0b29sIiwiY29uc29sZSIsIndhcm4iLCJsb2ciLCJmcmVlRHJhd2luZ0JydXNoIiwid2lkdGgiLCJjb2xvciIsInRleHRUb29sQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3R0b20iLCJoYW5kbGVJbWFnZVVwbG9hZCIsInNlbGVjdGlvbiIsInJlbmRlckFsbCIsImhhbmRsZUFkZFNoYXBlIiwic2hhcGUiLCJjZW50ZXJYIiwiY2VudGVyWSIsImhlaWdodCIsInNoYXBlQ29uZmlnIiwiZmlsbCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwic2hhcGVPYmoiLCJSZWN0IiwicmFkaXVzIiwic3RhclBvaW50cyIsIm51bVBvaW50cyIsImlubmVyUmFkaXVzIiwib3V0ZXJSYWRpdXMiLCJpIiwiYW5nbGUiLCJQSSIsIngiLCJzaW4iLCJ5IiwiY29zIiwiUG9seWdvbiIsImhlYXJ0UGF0aCIsIlBhdGgiLCJzY2FsZVgiLCJzY2FsZVkiLCJQb2x5bGluZSIsIkxpbmUiLCJzdHJva2VEYXNoQXJyYXkiLCJhZGQiLCJzZXRBY3RpdmVPYmplY3QiLCJoYW5kbGVCcnVzaFNpemVDaGFuZ2UiLCJzaXplIiwiaGFuZGxlQ29sb3JDaGFuZ2UiLCJoYW5kbGVBZGRUZXh0IiwidGV4dCIsIlRleHRib3giLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJlZGl0YWJsZSIsInRleHRBbGlnbiIsImFsZXJ0IiwiZmlsZUlucHV0IiwiY3JlYXRlRWxlbWVudCIsImFjY2VwdCIsInN0eWxlIiwiZGlzcGxheSIsIm9uY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwidmFsdWUiLCJzdGFydHNXaXRoIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImltYWdlVXJsIiwicmVzdWx0IiwiaW1nIiwiZmFicmljSW1nIiwiY2FudmFzV2lkdGgiLCJnZXRXaWR0aCIsImNhbnZhc0hlaWdodCIsImdldEhlaWdodCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwibWluIiwic2NhbGVkV2lkdGgiLCJzY2FsZWRIZWlnaHQiLCJzZXQiLCJzZWxlY3RhYmxlIiwiaGFzQ29udHJvbHMiLCJvbmVycm9yIiwic3JjIiwicmVhZEFzRGF0YVVSTCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwic2V0VGltZW91dCIsInJlbW92ZUNoaWxkIiwicHJvamVjdERhdGEiLCJzZXRQcm9qZWN0RGF0YSIsImhhbmRsZVNhdmUiLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJsb2NhdGlvbiIsInNlYXJjaCIsImVkaXRNb2RlIiwiZ2V0IiwicHJvamVjdElkIiwiZGF0YSIsImV4aXN0aW5nUHJvamVjdHMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY3VycmVudFByb2plY3QiLCJmaW5kIiwicCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInRhZ3MiLCJoYW5kbGVTYXZlUHJvamVjdCIsInByb2plY3ROYW1lIiwicHJvamVjdEljb24iLCJwcm9qZWN0RGVzY3JpcHRpb24iLCJwcm9qZWN0VGFncyIsInByZXZpZXdEYXRhVVJMIiwidG9EYXRhVVJMIiwiZm9ybWF0IiwicXVhbGl0eSIsImNhbnZhc0RhdGEiLCJzdHJpbmdpZnkiLCJ0b0pTT04iLCJhaUNvbnZlcnNhdGlvbiIsImNoYXRIaXN0b3J5IiwiZXJyb3IiLCJnZW5lcmF0ZWRJbWFnZXMiLCJhaUdlbmVyYXRlZEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtZW50IiwiaW5kZXgiLCJhbHQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJhaVNldHRpbmdzIiwidXBkYXRlZFByb2plY3RzIiwicHJvamVjdFJlY29yZCIsIm5vdyIsInByb2plY3RJbmRleCIsImZpbmRJbmRleCIsIm9yaWdpbmFsUHJvamVjdCIsInByZXZpZXciLCJnZW5lcmF0ZWRDb250ZW50IiwidXBkYXRlZEF0IiwibWV0YWRhdGEiLCJjYW52YXNPYmplY3RzQ291bnQiLCJnZXRPYmplY3RzIiwiaGFzQUlJbnRlcmFjdGlvbiIsImhhc0dlbmVyYXRlZENvbnRlbnQiLCJ0b29sVXNlZCIsImJydXNoU2V0dGluZ3MiLCJjcmVhdGVkQXQiLCJ0b1N0cmluZyIsInNldEl0ZW0iLCJwcm9qZWN0TmFtZVN0ciIsInNhdmVNZXNzYWdlIiwibm90aWZpY2F0aW9uIiwiaW5uZXJIVE1MIiwicmVtb3ZlSXRlbSIsImNoYXRQYW5lbCIsInJlc2V0Q2hhdCIsImhhbmRsZVVuZG8iLCJuZXdJbmRleCIsInByZXZpb3VzU3RhdGUiLCJjbGVhciIsImJhY2tncm91bmRDb2xvciIsImhhbmRsZVJlZG8iLCJuZXh0U3RhdGUiLCJtYW51YWxMYXllck1hbmFnZW1lbnQiLCJvcGVyYXRpb24iLCJvYmplY3RzIiwiY3VycmVudEluZGV4IiwiaW5kZXhPZiIsImFsbE9iamVjdHMiLCJuZXh0T2JqZWN0IiwicHJldk9iamVjdCIsImJyaW5nVG9Gcm9udCIsInNlbmRUb0JhY2siLCJicmluZ0ZvcndhcmQiLCJzZW5kQmFja3dhcmRzIiwiZ2V0TGF5ZXJJbmZvIiwidmlzaWJsZSIsImxvY2tlZCIsImhhbmRsZUNsZWFyQ2FudmFzIiwiaGFuZGxlWm9vbUNoYW5nZSIsImRlbHRhIiwibmV3Wm9vbUxldmVsIiwibWF4IiwiaGFuZGxlWm9vbVJlc2V0IiwiaGFuZGxlRG93bmxvYWRDYW52YXMiLCJleHBvcnREYXRhIiwidmVyc2lvbiIsImV4cG9ydERhdGUiLCJjYW52YXNJbmZvIiwib2JqZWN0Q291bnQiLCJqc29uU3RyaW5nIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiaHJlZiIsInJlcGxhY2UiLCJkb3dubG9hZCIsInJldm9rZU9iamVjdFVSTCIsImhhbmRsZUltcG9ydENhbnZhcyIsImVuZHNXaXRoIiwianNvbkNvbnRlbnQiLCJpbXBvcnREYXRhIiwibG9hZEZyb21KU09OIiwiaW1wb3J0VGhlbWUiLCJpbXBvcnRMYW5ndWFnZSIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInJlYWRBc1RleHQiLCJoYW5kbGVDYXB0dXJlQXJlYSIsImltYWdlRGF0YSIsImhhbmRsZUJhY2tUb1VzZXIiLCJoYW5kbGVUb2dnbGVUaGVtZSIsIm5ld1RoZW1lIiwiaGFuZGxlVG9nZ2xlTGFuZ3VhZ2UiLCJnZXRMYW5ndWFnZVRleHQiLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJoNCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSIsInNwYW4iLCJoNSIsImxheWVyIiwibyIsImlzVmlzaWJsZSIsIm9uQ2xvc2UiLCJwb3NpdGlvbiIsImlzT3BlbiIsIm9uU2F2ZSIsImRhdGEtdG9vbCIsImlucHV0Iiwib25DaGFuZ2UiLCJOdW1iZXIiLCJzdmciLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsImQiLCJwb2ludHMiLCJhdmF0YXIiLCJ1c2VybmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/CanvasToolbar.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ChatPanel.tsx":
/*!**********************************!*\
  !*** ./components/ChatPanel.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,Download,MessageSquare,Monitor,Send,Settings,Type!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,Download,MessageSquare,Monitor,Send,Settings,Type!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,Download,MessageSquare,Monitor,Send,Settings,Type!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,Download,MessageSquare,Monitor,Send,Settings,Type!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,Download,MessageSquare,Monitor,Send,Settings,Type!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/monitor.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,Download,MessageSquare,Monitor,Send,Settings,Type!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/type.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronLeft,Download,MessageSquare,Monitor,Send,Settings,Type!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst ChatPanel = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ onCaptureArea, onReceiveScreenshot }, ref)=>{\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isCollapsed, setIsCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [inputText, setInputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [screenshotPreview, setScreenshotPreview] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [uploadedImagePreviews, setUploadedImagePreviews] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showModelSettings, setShowModelSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showAspectRatio, setShowAspectRatio] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showImageCount, setShowImageCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedModel, setSelectedModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Nanobanbana\");\n    const [selectedAspectRatio, setSelectedAspectRatio] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"16:9\");\n    const [imageCount, setImageCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [activeModelTab, setActiveModelTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"图像\");\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const modelSettingsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const aspectRatioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const imageCountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const toggleCollapse = ()=>{\n        setIsCollapsed(!isCollapsed);\n    };\n    const scrollToBottom = ()=>{\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    // 在客户端加载聊天记录 - 确保聊天内容正确初始化\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"ChatPanel: 开始初始化聊天内容 - 组件已挂载\");\n        if (true) {\n            console.log(\"ChatPanel: 不在客户端环境，跳过初始化\");\n            return;\n        }\n        try {\n            console.log(\"ChatPanel: 检查localStorage中的聊天记录\");\n            const savedChat = window.localStorage.getItem(\"chatHistory\");\n            console.log(\"ChatPanel: localStorage中chatHistory的值:\", savedChat);\n            if (savedChat) {\n                console.log(\"ChatPanel: 找到已保存的聊天记录，开始解析\");\n                const parsedMessages = JSON.parse(savedChat);\n                console.log(\"ChatPanel: 解析后的消息数组:\", parsedMessages);\n                console.log(\"ChatPanel: 消息数量:\", parsedMessages.length);\n                // 确保消息格式正确\n                const formattedMessages = parsedMessages.map((msg)=>({\n                        id: msg.id || `msg-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n                        type: msg.type || \"ai\",\n                        content: msg.content || \"欢迎使用AI创作助手\",\n                        timestamp: msg.timestamp ? new Date(msg.timestamp) : new Date(),\n                        imageData: msg.imageData || undefined\n                    }));\n                console.log(\"ChatPanel: 格式化后的消息:\", formattedMessages);\n                setMessages(formattedMessages);\n                console.log(\"ChatPanel: 聊天记录初始化完成，消息数量:\", formattedMessages.length);\n            } else {\n                console.log(\"ChatPanel: 没有找到聊天记录，设置默认欢迎消息\");\n                // 设置默认欢迎消息\n                const welcomeMessage = {\n                    id: \"welcome-message-\" + Date.now(),\n                    type: \"ai\",\n                    content: \"欢迎使用AI创作助手！我是您的AI助手，可以帮助您进行创意设计和内容生成。\",\n                    timestamp: new Date()\n                };\n                console.log(\"ChatPanel: 创建的欢迎消息:\", welcomeMessage);\n                setMessages([\n                    welcomeMessage\n                ]);\n                // 保存默认消息到localStorage\n                const chatHistory = [\n                    {\n                        id: welcomeMessage.id,\n                        type: welcomeMessage.type,\n                        content: welcomeMessage.content,\n                        timestamp: welcomeMessage.timestamp.toISOString(),\n                        imageData: welcomeMessage.imageData\n                    }\n                ];\n                console.log(\"ChatPanel: 准备保存到localStorage的数据:\", chatHistory);\n                window.localStorage.setItem(\"chatHistory\", JSON.stringify(chatHistory));\n                console.log(\"ChatPanel: 默认欢迎消息已保存到localStorage\");\n            }\n        } catch (error) {\n            console.error(\"ChatPanel: 初始化聊天内容时出错:\", error);\n            // 出错时设置默认消息\n            const errorMessage = {\n                id: \"error-message-\" + Date.now(),\n                type: \"ai\",\n                content: \"欢迎使用AI创作助手！\",\n                timestamp: new Date()\n            };\n            console.log(\"ChatPanel: 出错时设置的默认消息:\", errorMessage);\n            setMessages([\n                errorMessage\n            ]);\n        }\n    }, []);\n    // 双重保障：检查消息是否为空，如果是空则设置欢迎消息\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (messages.length === 0 && \"undefined\" !== \"undefined\") {}\n    }, [\n        messages.length\n    ]);\n    // 强制初始化：在组件挂载后立即设置欢迎消息\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"ChatPanel: 强制初始化 - 组件已挂载\");\n        if (true) {\n            console.log(\"ChatPanel: 强制初始化 - 不在客户端环境，跳过\");\n            return;\n        }\n        // 延迟执行以确保组件完全渲染\n        const timer = setTimeout(()=>{\n            console.log(\"ChatPanel: 强制初始化 - 开始设置欢迎消息\");\n            // 检查localStorage中是否有聊天记录\n            const savedChat = window.localStorage.getItem(\"chatHistory\");\n            console.log(\"ChatPanel: 强制初始化 - localStorage中chatHistory:\", savedChat ? \"有记录\" : \"无记录\");\n            if (!savedChat) {\n                console.log(\"ChatPanel: 强制初始化 - 设置默认欢迎消息\");\n                const welcomeMessage = {\n                    id: \"welcome-message-\" + Date.now(),\n                    type: \"ai\",\n                    content: \"欢迎使用AI创作助手！我是您的AI助手，可以帮助您进行创意设计和内容生成。\",\n                    timestamp: new Date()\n                };\n                // 直接设置消息状态\n                setMessages([\n                    welcomeMessage\n                ]);\n                // 保存到localStorage\n                const chatHistory = [\n                    {\n                        id: welcomeMessage.id,\n                        type: welcomeMessage.type,\n                        content: welcomeMessage.content,\n                        timestamp: welcomeMessage.timestamp.toISOString(),\n                        imageData: welcomeMessage.imageData\n                    }\n                ];\n                window.localStorage.setItem(\"chatHistory\", JSON.stringify(chatHistory));\n                console.log(\"ChatPanel: 强制初始化 - 欢迎消息已设置\");\n            } else {\n                console.log(\"ChatPanel: 强制初始化 - 已有聊天记录，无需设置\");\n            }\n        }, 100);\n        return ()=>clearTimeout(timer);\n    }, []);\n    // 监听localStorage变化和自定义事件，重新加载聊天记录\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) return;\n        const reloadChatHistory = ()=>{\n            try {\n                const savedChat = window.localStorage.getItem(\"chatHistory\");\n                if (savedChat) {\n                    const parsedMessages = JSON.parse(savedChat);\n                    setMessages(parsedMessages.map((msg)=>({\n                            ...msg,\n                            timestamp: new Date(msg.timestamp || Date.now())\n                        })));\n                    console.log(\"检测到聊天记录变化，重新加载聊天记录\");\n                } else {\n                    setMessages([]);\n                }\n            } catch (error) {\n                console.warn(\"重新加载聊天记录失败:\", error);\n            }\n        };\n        const handleStorageChange = (event)=>{\n            if (event.key === \"chatHistory\") {\n                reloadChatHistory();\n            }\n        };\n        const handleCustomEvent = ()=>{\n            reloadChatHistory();\n        };\n        window.addEventListener(\"storage\", handleStorageChange);\n        window.addEventListener(\"chatHistoryUpdated\", handleCustomEvent);\n        return ()=>{\n            window.removeEventListener(\"storage\", handleStorageChange);\n            window.removeEventListener(\"chatHistoryUpdated\", handleCustomEvent);\n        };\n    }, []);\n    // 点击外部关闭弹出卡片\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (modelSettingsRef.current && !modelSettingsRef.current.contains(event.target)) {\n                setShowModelSettings(false);\n            }\n            if (aspectRatioRef.current && !aspectRatioRef.current.contains(event.target)) {\n                setShowAspectRatio(false);\n            }\n            if (imageCountRef.current && !imageCountRef.current.contains(event.target)) {\n                setShowImageCount(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    const handleSendMessage = async ()=>{\n        if (!inputText.trim() && !screenshotPreview && uploadedImagePreviews.length === 0) return;\n        let imageData;\n        // 优先使用截图预览，其次使用上传图片预览\n        if (screenshotPreview) {\n            imageData = screenshotPreview;\n            setScreenshotPreview(null);\n        } else if (uploadedImagePreviews.length > 0) {\n            // 如果有多张图片，只发送第一张（或可以根据需求调整）\n            imageData = uploadedImagePreviews[0];\n            setUploadedImagePreviews([]);\n        }\n        // 构建包含设置信息的消息内容\n        const settingsInfo = `[模型: ${selectedModel}, 比例: ${selectedAspectRatio}, 张数: ${imageCount}]`;\n        const imageCountText = uploadedImagePreviews.length > 1 ? `${uploadedImagePreviews.length}张图片` : \"一张图片\";\n        const messageContent = inputText ? `${inputText} ${settingsInfo}` : `我上传了${imageCountText} ${settingsInfo}`;\n        const userMessage = {\n            id: `user-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n            type: \"user\",\n            content: messageContent,\n            timestamp: new Date(),\n            imageData\n        };\n        // 更新消息状态\n        setMessages((prev)=>{\n            const newMessages = [\n                ...prev,\n                userMessage\n            ];\n            // 同时保存到localStorage\n            const chatHistory = newMessages.map((msg)=>({\n                    id: msg.id,\n                    type: msg.type,\n                    content: msg.content,\n                    timestamp: msg.timestamp instanceof Date && !isNaN(msg.timestamp.getTime()) ? msg.timestamp.toISOString() : new Date().toISOString(),\n                    imageData: msg.imageData\n                }));\n            if (false) {}\n            return newMessages;\n        });\n        setInputText(\"\");\n        setIsGenerating(true);\n        // 模拟AI响应\n        setTimeout(()=>{\n            const aiMessage = {\n                id: `ai-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n                type: \"ai\",\n                content: imageData ? `已收到您${screenshotPreview ? \"截图\" : \"上传\"}的图片。使用${selectedModel}模型，${selectedAspectRatio}比例，生成${imageCount}张图片。` : `根据您的描述，使用${selectedModel}模型，${selectedAspectRatio}比例，生成${imageCount}张图片。`,\n                timestamp: new Date()\n            };\n            // 更新消息状态（包含AI响应）\n            setMessages((prev)=>{\n                const newMessages = [\n                    ...prev,\n                    aiMessage\n                ];\n                // 同时保存到localStorage\n                const chatHistory = newMessages.map((msg)=>({\n                        id: msg.id,\n                        type: msg.type,\n                        content: msg.content,\n                        timestamp: msg.timestamp instanceof Date && !isNaN(msg.timestamp.getTime()) ? msg.timestamp.toISOString() : new Date().toISOString(),\n                        imageData: msg.imageData\n                    }));\n                console.log(\"保存AI响应后的聊天记录:\", chatHistory);\n                if (false) {}\n                return newMessages;\n            });\n            setIsGenerating(false);\n        }, 2000);\n    };\n    const handleImageUpload = (event)=>{\n        const files = event.target.files;\n        if (!files || files.length === 0) return;\n        const validFiles = Array.from(files).filter((file)=>{\n            // 检查文件类型\n            if (!file.type.startsWith(\"image/\")) {\n                alert(`文件 ${file.name} 不是图片文件，已跳过`);\n                return false;\n            }\n            // 检查文件大小（限制为5MB）\n            if (file.size > 5 * 1024 * 1024) {\n                alert(`图片 ${file.name} 大小超过5MB，已跳过`);\n                return false;\n            }\n            return true;\n        });\n        if (validFiles.length === 0) return;\n        // 读取所有有效文件\n        validFiles.forEach((file)=>{\n            const reader = new FileReader();\n            reader.onload = (e)=>{\n                const imageData = e.target?.result;\n                // 将上传的图片添加到预览列表\n                setUploadedImagePreviews((prev)=>[\n                        ...prev,\n                        imageData\n                    ]);\n            };\n            reader.readAsDataURL(file);\n        });\n        // 重置文件输入，允许重复上传同一文件\n        event.target.value = \"\";\n    };\n    // 接收截图并显示在输入区域左侧\n    const handleReceiveScreenshot = (imageData, prompt)=>{\n        console.log(\"接收到截图，显示在输入区域左侧:\", {\n            imageData: imageData.substring(0, 50) + \"...\",\n            prompt\n        });\n        // 将截图添加到上传图片预览列表\n        setUploadedImagePreviews((prev)=>[\n                ...prev,\n                imageData\n            ]);\n        // 自动填充提示词到输入框\n        setInputText(prompt);\n    };\n    // 重置聊天记录\n    const resetChat = ()=>{\n        setMessages([]);\n        setInputText(\"\");\n        setScreenshotPreview(null);\n        setUploadedImagePreviews([]);\n        if (false) {}\n        console.log(\"AI创作助手内容已重置\");\n    };\n    // 使用useImperativeHandle暴露方法给父组件\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, ()=>({\n            handleReceiveScreenshot,\n            resetChat\n        }), [\n        handleReceiveScreenshot,\n        resetChat\n    ]);\n    // 使用useEffect监听onReceiveScreenshot的变化\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (onReceiveScreenshot) {\n        // 这里可以设置外部调用的接口\n        // 例如，可以将handleReceiveScreenshot暴露给父组件\n        }\n    }, [\n        onReceiveScreenshot\n    ]);\n    const handleGenerateImage = async (prompt)=>{\n        setIsGenerating(true);\n        // 模拟图片生成\n        setTimeout(()=>{\n            const aiMessage = {\n                id: `ai-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n                type: \"ai\",\n                content: `已根据提示词\"${prompt}\"生成图片`,\n                timestamp: new Date(),\n                imageData: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2YzZjNmMyIvPgogIDx0ZXh0IHg9IjEwMCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM2NjYiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkFJIEltYWdlIEdlbmVyYXRlZDwvdGV4dD4KPC9zdmc+\"\n            };\n            // 添加新消息而不是覆盖\n            setMessages((prev)=>[\n                    ...prev,\n                    aiMessage\n                ]);\n            setIsGenerating(false);\n        }, 3000);\n    };\n    const handleGenerateVideo = async (prompt)=>{\n        setIsGenerating(true);\n        // 模拟视频生成\n        setTimeout(()=>{\n            const aiMessage = {\n                id: `ai-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n                type: \"ai\",\n                content: `已根据提示词\"${prompt}\"生成视频`,\n                timestamp: new Date()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    aiMessage\n                ]);\n            setIsGenerating(false);\n        }, 5000);\n    };\n    const handleDownload = (imageData, filename)=>{\n        const link = document.createElement(\"a\");\n        link.download = filename;\n        link.href = imageData;\n        link.click();\n    };\n    // 如果面板被关闭，显示展开按钮\n    if (!isOpen) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: ()=>setIsOpen(true),\n            className: \"absolute right-4 top-16 bg-primary-600 text-white p-3 rounded-lg shadow-lg hover:bg-primary-700 transition-colors z-30\",\n            title: \"展开AI创作助手\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                className: \"h-5 w-5\"\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                lineNumber: 472,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n            lineNumber: 467,\n            columnNumber: 7\n        }, undefined);\n    }\n    // 如果面板被收缩，显示收缩状态\n    if (isCollapsed) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute right-4 top-16 bg-white rounded-lg shadow-lg z-30\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between p-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                className: \"h-5 w-5 text-primary-600\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 483,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm font-medium text-gray-900\",\n                                children: \"AI助手\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 484,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 482,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: toggleCollapse,\n                        className: \"p-1 hover:bg-gray-100 rounded ml-2\",\n                        title: \"展开面板\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            className: \"h-4 w-4 text-gray-500 transform rotate-180\"\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                            lineNumber: 491,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 486,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                lineNumber: 481,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n            lineNumber: 480,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"absolute right-4 top-16 bottom-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg flex flex-col z-30\",\n        \"data-chat-panel\": \"true\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                className: \"h-5 w-5 text-primary-600 dark:text-primary-400\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 503,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                children: \"AI创作助手\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 504,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 502,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-1\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: toggleCollapse,\n                            className: \"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded\",\n                            title: \"收缩面板\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"h-4 w-4 text-gray-500 dark:text-gray-400\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 512,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                            lineNumber: 507,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 506,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                lineNumber: 501,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n                children: [\n                    messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `flex ${message.type === \"user\" ? \"justify-end\" : \"justify-start\"}`,\n                            \"data-message\": \"true\",\n                            \"data-message-type\": message.type,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `max-w-xs rounded-lg p-3 ${message.type === \"user\" ? \"bg-primary-600 text-white\" : \"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100\"}`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm\",\n                                        \"data-message-content\": \"true\",\n                                        children: message.content\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    message.imageData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: message.imageData,\n                                            alt: \"截图\",\n                                            className: \"rounded border border-gray-200 max-w-full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                            lineNumber: 535,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 534,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    message.type === \"ai\" && message.imageData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-2\",\n                                        \"data-ai-generated\": \"true\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: message.imageData,\n                                                alt: \"AI生成图片\",\n                                                className: \"rounded border border-gray-200 max-w-full\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                lineNumber: 546,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>handleDownload(message.imageData, \"ai-generated.png\"),\n                                                className: \"flex items-center space-x-1 text-xs mt-2 text-blue-600\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                        className: \"h-3 w-3\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 555,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"下载图片\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 556,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                lineNumber: 551,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 545,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `text-xs mt-1 ${message.type === \"user\" ? \"text-primary-200\" : \"text-gray-500\"}`,\n                                        \"data-message-time\": \"true\",\n                                        children: message.timestamp instanceof Date && !isNaN(message.timestamp.getTime()) ? message.timestamp.toLocaleTimeString(\"zh-CN\", {\n                                            hour: \"2-digit\",\n                                            minute: \"2-digit\"\n                                        }) : new Date().toLocaleTimeString(\"zh-CN\", {\n                                            hour: \"2-digit\",\n                                            minute: \"2-digit\"\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 561,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 526,\n                                columnNumber: 13\n                            }, undefined)\n                        }, message.id, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                            lineNumber: 520,\n                            columnNumber: 11\n                        }, undefined)),\n                    isGenerating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-start\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-gray-100 dark:bg-gray-700 rounded-lg p-3\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex space-x-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-gray-400 dark:bg-gray-300 rounded-full animate-bounce\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 583,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-gray-400 dark:bg-gray-300 rounded-full animate-bounce\",\n                                        style: {\n                                            animationDelay: \"0.1s\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 584,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-gray-400 dark:bg-gray-300 rounded-full animate-bounce\",\n                                        style: {\n                                            animationDelay: \"0.2s\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 585,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 582,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                            lineNumber: 581,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 580,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 591,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                lineNumber: 518,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2\",\n                children: [\n                    (screenshotPreview || uploadedImagePreviews.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 mb-2\",\n                        children: [\n                            screenshotPreview && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: screenshotPreview,\n                                        alt: \"截图预览\",\n                                        className: \"w-12 h-12 rounded border border-gray-200 dark:border-gray-600 object-cover\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 603,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setScreenshotPreview(null),\n                                        className: \"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs\",\n                                        title: \"删除截图\",\n                                        children: \"\\xd7\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 608,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 602,\n                                columnNumber: 15\n                            }, undefined),\n                            uploadedImagePreviews.map((preview, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: preview,\n                                            alt: `上传图片预览 ${index + 1}`,\n                                            className: \"w-12 h-12 rounded border border-gray-200 dark:border-gray-600 object-cover\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                            lineNumber: 620,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setUploadedImagePreviews((prev)=>prev.filter((_, i)=>i !== index)),\n                                            className: \"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs\",\n                                            title: \"删除上传图片\",\n                                            children: \"\\xd7\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                            lineNumber: 625,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                    lineNumber: 619,\n                                    columnNumber: 15\n                                }, undefined))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 599,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>fileInputRef.current?.click(),\n                                className: \"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg flex items-center space-x-1\",\n                                title: \"上传图片\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"h-4 w-4\",\n                                    fill: \"none\",\n                                    viewBox: \"0 0 24 24\",\n                                    stroke: \"currentColor\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 645,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                    lineNumber: 644,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 639,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative\",\n                                        ref: modelSettingsRef,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowModelSettings(!showModelSettings),\n                                                className: \"flex items-center space-x-1 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",\n                                                title: \"选择模型\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                        className: \"h-3 w-3\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 657,\n                                                        columnNumber: 17\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"模型\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 658,\n                                                        columnNumber: 17\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                lineNumber: 652,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            showModelSettings && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full left-0 mb-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex border-b border-gray-200 dark:border-gray-700 mb-2\",\n                                                            children: [\n                                                                \"图像\",\n                                                                \"视频\",\n                                                                \"文本\"\n                                                            ].map((tab)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: ()=>setActiveModelTab(tab),\n                                                                    className: `flex-1 text-xs py-1 px-2 ${activeModelTab === tab ? \"text-primary-600 dark:text-primary-400 border-b-2 border-primary-600 dark:border-primary-400\" : \"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200\"}`,\n                                                                    children: tab\n                                                                }, tab, false, {\n                                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                    lineNumber: 668,\n                                                                    columnNumber: 25\n                                                                }, undefined))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                            lineNumber: 666,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"max-h-32 overflow-y-auto\",\n                                                            children: [\n                                                                activeModelTab === \"图像\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>setSelectedModel(\"Nanobanbana\"),\n                                                                            className: `w-full text-left px-2 py-1 text-xs rounded ${selectedModel === \"Nanobanbana\" ? \"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300\" : \"hover:bg-gray-100 dark:hover:bg-gray-700\"}`,\n                                                                            children: \"Nanobanbana\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                            lineNumber: 686,\n                                                                            columnNumber: 27\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>setSelectedModel(\"gpt image\"),\n                                                                            className: `w-full text-left px-2 py-1 text-xs rounded ${selectedModel === \"gpt image\" ? \"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300\" : \"hover:bg-gray-100 dark:hover:bg-gray-700\"}`,\n                                                                            children: \"gpt image\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                            lineNumber: 696,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                    lineNumber: 685,\n                                                                    columnNumber: 25\n                                                                }, undefined),\n                                                                activeModelTab === \"视频\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>setSelectedModel(\"veo3\"),\n                                                                            className: `w-full text-left px-2 py-1 text-xs rounded ${selectedModel === \"veo3\" ? \"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300\" : \"hover:bg-gray-100 dark:hover:bg-gray-700\"}`,\n                                                                            children: \"veo3\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                            lineNumber: 711,\n                                                                            columnNumber: 27\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>setSelectedModel(\"sora2\"),\n                                                                            className: `w-full text-left px-2 py-1 text-xs rounded ${selectedModel === \"sora2\" ? \"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300\" : \"hover:bg-gray-100 dark:hover:bg-gray-700\"}`,\n                                                                            children: \"sora2\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                            lineNumber: 721,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                    lineNumber: 710,\n                                                                    columnNumber: 25\n                                                                }, undefined),\n                                                                activeModelTab === \"文本\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>setSelectedModel(\"gpt5\"),\n                                                                            className: `w-full text-left px-2 py-1 text-xs rounded ${selectedModel === \"gpt5\" ? \"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300\" : \"hover:bg-gray-100 dark:hover:bg-gray-700\"}`,\n                                                                            children: \"gpt5\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                            lineNumber: 736,\n                                                                            columnNumber: 27\n                                                                        }, undefined),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>setSelectedModel(\"deepseek\"),\n                                                                            className: `w-full text-left px-2 py-1 text-xs rounded ${selectedModel === \"deepseek\" ? \"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300\" : \"hover:bg-gray-100 dark:hover:bg-gray-700\"}`,\n                                                                            children: \"deepseek\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                            lineNumber: 746,\n                                                                            columnNumber: 27\n                                                                        }, undefined)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                    lineNumber: 735,\n                                                                    columnNumber: 25\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                            lineNumber: 683,\n                                                            columnNumber: 21\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                    lineNumber: 664,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                lineNumber: 663,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 651,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative\",\n                                        ref: aspectRatioRef,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowAspectRatio(!showAspectRatio),\n                                                className: \"flex items-center space-x-1 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",\n                                                title: \"选择图片比例\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                        className: \"h-3 w-3\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 770,\n                                                        columnNumber: 17\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"比例\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 771,\n                                                        columnNumber: 17\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                lineNumber: 765,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            showAspectRatio && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full left-0 mb-2 w-32 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-2\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-1\",\n                                                        children: [\n                                                            \"16:9\",\n                                                            \"9:16\",\n                                                            \"4:3\",\n                                                            \"3:4\",\n                                                            \"2:1\",\n                                                            \"1:2\",\n                                                            \"1:1\"\n                                                        ].map((ratio)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>setSelectedAspectRatio(ratio),\n                                                                className: `w-full text-left px-2 py-1 text-xs rounded ${selectedAspectRatio === ratio ? \"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300\" : \"hover:bg-gray-100 dark:hover:bg-gray-700\"}`,\n                                                                children: ratio\n                                                            }, ratio, false, {\n                                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                lineNumber: 780,\n                                                                columnNumber: 25\n                                                            }, undefined))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 778,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                    lineNumber: 777,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                lineNumber: 776,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 764,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative\",\n                                        ref: imageCountRef,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowImageCount(!showImageCount),\n                                                className: \"flex items-center space-x-1 px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",\n                                                title: \"设置生成张数\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                        className: \"h-3 w-3\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 804,\n                                                        columnNumber: 17\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"张数\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                        lineNumber: 805,\n                                                        columnNumber: 17\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                lineNumber: 799,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            showImageCount && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full left-0 mb-2 w-24 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2\",\n                                                            children: [\n                                                                \"张数: \",\n                                                                imageCount\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                            lineNumber: 812,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"range\",\n                                                            min: \"1\",\n                                                            max: \"10\",\n                                                            value: imageCount,\n                                                            onChange: (e)=>setImageCount(parseInt(e.target.value)),\n                                                            className: \"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                            lineNumber: 815,\n                                                            columnNumber: 21\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: \"1\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                    lineNumber: 824,\n                                                                    columnNumber: 23\n                                                                }, undefined),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: \"10\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                                    lineNumber: 825,\n                                                                    columnNumber: 23\n                                                                }, undefined)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                            lineNumber: 823,\n                                                            columnNumber: 21\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                    lineNumber: 811,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                                lineNumber: 810,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                        lineNumber: 798,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 650,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 637,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        ref: fileInputRef,\n                        type: \"file\",\n                        accept: \"image/*\",\n                        multiple: true,\n                        onChange: handleImageUpload,\n                        className: \"hidden\"\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 835,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: inputText,\n                                onChange: (e)=>setInputText(e.target.value),\n                                onKeyPress: (e)=>e.key === \"Enter\" && handleSendMessage(),\n                                placeholder: \"输入提示词或描述...\",\n                                className: \"flex-1 input-field text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 845,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleSendMessage,\n                                disabled: !inputText.trim() || isGenerating,\n                                className: \"btn-primary p-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronLeft_Download_MessageSquare_Monitor_Send_Settings_Type_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    className: \"h-4 w-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                    lineNumber: 858,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                                lineNumber: 853,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                        lineNumber: 844,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n                lineNumber: 595,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ChatPanel.tsx\",\n        lineNumber: 499,\n        columnNumber: 5\n    }, undefined);\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatPanel);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3REaUIsV0FBVTs7Ozs7O3NFQUVaLDhEQUFDRTs0REFBSUYsV0FBVTs7OEVBQ2IsOERBQUNHOzhFQUFLOzs7Ozs7OEVBQ04sOERBQUNBOzhFQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQ0FVcEIsOERBQUNpQzt3QkFDQ3hLLEtBQUs4Qjt3QkFDTDZCLE1BQUs7d0JBQ0xrSCxRQUFPO3dCQUNQQyxRQUFRO3dCQUNSSCxVQUFVMUU7d0JBQ1ZtQyxXQUFVOzs7Ozs7a0NBR1osOERBQUNFO3dCQUFJRixXQUFVOzswQ0FDYiw4REFBQ29DO2dDQUNDN0csTUFBSztnQ0FDTHdELE9BQU81RztnQ0FDUG9LLFVBQVUsQ0FBQzNELElBQU14RyxhQUFhd0csRUFBRTVCLE1BQU0sQ0FBQytCLEtBQUs7Z0NBQzVDNEQsWUFBWSxDQUFDL0QsSUFBTUEsRUFBRWxDLEdBQUcsS0FBSyxXQUFXUTtnQ0FDeEMwRixhQUFZO2dDQUNaNUMsV0FBVTs7Ozs7OzBDQUVaLDhEQUFDRjtnQ0FDQ0MsU0FBUzdDO2dDQUNUMkYsVUFBVSxDQUFDMUssVUFBVWdGLElBQUksTUFBTTlFO2dDQUMvQjJILFdBQVU7MENBRVYsNEVBQUM5SSx5SUFBSUE7b0NBQUM4SSxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU01QjtBQUVBLGlFQUFldkksU0FBU0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlaXl1YW4tYWkvLi9jb21wb25lbnRzL0NoYXRQYW5lbC50c3g/ZDNlZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCBmb3J3YXJkUmVmLCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBTZW5kLCBJbWFnZSwgVmlkZW8sIERvd25sb2FkLCBYLCBNZXNzYWdlU3F1YXJlLCBDaGV2cm9uTGVmdCwgU2V0dGluZ3MsIE1vbml0b3IsIEZpbG0sIFR5cGUgfSBmcm9tICdsdWNpZGUtcmVhY3QnXG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgaWQ6IHN0cmluZ1xuICB0eXBlOiAndXNlcicgfCAnYWknXG4gIGNvbnRlbnQ6IHN0cmluZ1xuICB0aW1lc3RhbXA6IERhdGVcbiAgaW1hZ2VEYXRhPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBDaGF0UGFuZWxQcm9wcyB7XG4gIG9uQ2FwdHVyZUFyZWE6ICgpID0+IFByb21pc2U8c3RyaW5nIHwgbnVsbD5cbiAgb25SZWNlaXZlU2NyZWVuc2hvdD86IChpbWFnZURhdGE6IHN0cmluZywgcHJvbXB0OiBzdHJpbmcpID0+IHZvaWRcbn1cblxuY29uc3QgQ2hhdFBhbmVsID0gZm9yd2FyZFJlZjx7IGhhbmRsZVJlY2VpdmVTY3JlZW5zaG90OiAoaW1hZ2VEYXRhOiBzdHJpbmcsIHByb21wdDogc3RyaW5nKSA9PiB2b2lkIH0sIENoYXRQYW5lbFByb3BzPihcbiAgKHsgb25DYXB0dXJlQXJlYSwgb25SZWNlaXZlU2NyZWVuc2hvdCB9LCByZWYpID0+IHtcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtpc0NvbGxhcHNlZCwgc2V0SXNDb2xsYXBzZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihbXSlcbiAgY29uc3QgW2lucHV0VGV4dCwgc2V0SW5wdXRUZXh0XSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbaXNHZW5lcmF0aW5nLCBzZXRJc0dlbmVyYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzY3JlZW5zaG90UHJldmlldywgc2V0U2NyZWVuc2hvdFByZXZpZXddID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3VwbG9hZGVkSW1hZ2VQcmV2aWV3cywgc2V0VXBsb2FkZWRJbWFnZVByZXZpZXdzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSlcbiAgY29uc3QgW3Nob3dNb2RlbFNldHRpbmdzLCBzZXRTaG93TW9kZWxTZXR0aW5nc10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3Nob3dBc3BlY3RSYXRpbywgc2V0U2hvd0FzcGVjdFJhdGlvXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbc2hvd0ltYWdlQ291bnQsIHNldFNob3dJbWFnZUNvdW50XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbc2VsZWN0ZWRNb2RlbCwgc2V0U2VsZWN0ZWRNb2RlbF0gPSB1c2VTdGF0ZSgnTmFub2JhbmJhbmEnKVxuICBjb25zdCBbc2VsZWN0ZWRBc3BlY3RSYXRpbywgc2V0U2VsZWN0ZWRBc3BlY3RSYXRpb10gPSB1c2VTdGF0ZSgnMTY6OScpXG4gIGNvbnN0IFtpbWFnZUNvdW50LCBzZXRJbWFnZUNvdW50XSA9IHVzZVN0YXRlKDEpXG4gIGNvbnN0IFthY3RpdmVNb2RlbFRhYiwgc2V0QWN0aXZlTW9kZWxUYWJdID0gdXNlU3RhdGUoJ+WbvuWDjycpXG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbClcbiAgY29uc3QgbW9kZWxTZXR0aW5nc1JlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgYXNwZWN0UmF0aW9SZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IGltYWdlQ291bnRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3QgdG9nZ2xlQ29sbGFwc2UgPSAoKSA9PiB7XG4gICAgc2V0SXNDb2xsYXBzZWQoIWlzQ29sbGFwc2VkKVxuICB9XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSlcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxuICB9LCBbbWVzc2FnZXNdKVxuXG4gIC8vIOWcqOWuouaIt+err+WKoOi9veiBiuWkqeiusOW9lSAtIOehruS/neiBiuWkqeWGheWuueato+ehruWIneWni+WMllxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdDaGF0UGFuZWw6IOW8gOWni+WIneWni+WMluiBiuWkqeWGheWuuSAtIOe7hOS7tuW3suaMgui9vScpXG4gICAgXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZygnQ2hhdFBhbmVsOiDkuI3lnKjlrqLmiLfnq6/njq/looPvvIzot7Pov4fliJ3lp4vljJYnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnQ2hhdFBhbmVsOiDmo4Dmn6Vsb2NhbFN0b3JhZ2XkuK3nmoTogYrlpKnorrDlvZUnKVxuICAgICAgY29uc3Qgc2F2ZWRDaGF0ID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaGF0SGlzdG9yeScpXG4gICAgICBjb25zb2xlLmxvZygnQ2hhdFBhbmVsOiBsb2NhbFN0b3JhZ2XkuK1jaGF0SGlzdG9yeeeahOWAvDonLCBzYXZlZENoYXQpXG4gICAgICBcbiAgICAgIGlmIChzYXZlZENoYXQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0NoYXRQYW5lbDog5om+5Yiw5bey5L+d5a2Y55qE6IGK5aSp6K6w5b2V77yM5byA5aeL6Kej5p6QJylcbiAgICAgICAgY29uc3QgcGFyc2VkTWVzc2FnZXMgPSBKU09OLnBhcnNlKHNhdmVkQ2hhdClcbiAgICAgICAgY29uc29sZS5sb2coJ0NoYXRQYW5lbDog6Kej5p6Q5ZCO55qE5raI5oGv5pWw57uEOicsIHBhcnNlZE1lc3NhZ2VzKVxuICAgICAgICBjb25zb2xlLmxvZygnQ2hhdFBhbmVsOiDmtojmga/mlbDph486JywgcGFyc2VkTWVzc2FnZXMubGVuZ3RoKVxuICAgICAgICBcbiAgICAgICAgLy8g56Gu5L+d5raI5oGv5qC85byP5q2j56GuXG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2VzID0gcGFyc2VkTWVzc2FnZXMubWFwKChtc2c6IGFueSkgPT4gKHtcbiAgICAgICAgICBpZDogbXNnLmlkIHx8IGBtc2ctJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxuICAgICAgICAgIHR5cGU6IG1zZy50eXBlIHx8ICdhaScsXG4gICAgICAgICAgY29udGVudDogbXNnLmNvbnRlbnQgfHwgJ+asoui/juS9v+eUqEFJ5Yib5L2c5Yqp5omLJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG1zZy50aW1lc3RhbXAgPyBuZXcgRGF0ZShtc2cudGltZXN0YW1wKSA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgaW1hZ2VEYXRhOiBtc2cuaW1hZ2VEYXRhIHx8IHVuZGVmaW5lZFxuICAgICAgICB9KSlcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdDaGF0UGFuZWw6IOagvOW8j+WMluWQjueahOa2iOaBrzonLCBmb3JtYXR0ZWRNZXNzYWdlcylcbiAgICAgICAgc2V0TWVzc2FnZXMoZm9ybWF0dGVkTWVzc2FnZXMpXG4gICAgICAgIGNvbnNvbGUubG9nKCdDaGF0UGFuZWw6IOiBiuWkqeiusOW9leWIneWni+WMluWujOaIkO+8jOa2iOaBr+aVsOmHjzonLCBmb3JtYXR0ZWRNZXNzYWdlcy5sZW5ndGgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnQ2hhdFBhbmVsOiDmsqHmnInmib7liLDogYrlpKnorrDlvZXvvIzorr7nva7pu5jorqTmrKLov47mtojmga8nKVxuICAgICAgICAvLyDorr7nva7pu5jorqTmrKLov47mtojmga9cbiAgICAgICAgY29uc3Qgd2VsY29tZU1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6ICd3ZWxjb21lLW1lc3NhZ2UtJyArIERhdGUubm93KCksXG4gICAgICAgICAgdHlwZTogJ2FpJyxcbiAgICAgICAgICBjb250ZW50OiAn5qyi6L+O5L2/55SoQUnliJvkvZzliqnmiYvvvIHmiJHmmK/mgqjnmoRBSeWKqeaJi++8jOWPr+S7peW4ruWKqeaCqOi/m+ihjOWIm+aEj+iuvuiuoeWSjOWGheWuueeUn+aIkOOAgicsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coJ0NoYXRQYW5lbDog5Yib5bu655qE5qyi6L+O5raI5oGvOicsIHdlbGNvbWVNZXNzYWdlKVxuICAgICAgICBzZXRNZXNzYWdlcyhbd2VsY29tZU1lc3NhZ2VdKVxuICAgICAgICBcbiAgICAgICAgLy8g5L+d5a2Y6buY6K6k5raI5oGv5YiwbG9jYWxTdG9yYWdlXG4gICAgICAgIGNvbnN0IGNoYXRIaXN0b3J5ID0gW3tcbiAgICAgICAgICBpZDogd2VsY29tZU1lc3NhZ2UuaWQsXG4gICAgICAgICAgdHlwZTogd2VsY29tZU1lc3NhZ2UudHlwZSxcbiAgICAgICAgICBjb250ZW50OiB3ZWxjb21lTWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgIHRpbWVzdGFtcDogd2VsY29tZU1lc3NhZ2UudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgaW1hZ2VEYXRhOiB3ZWxjb21lTWVzc2FnZS5pbWFnZURhdGFcbiAgICAgICAgfV1cbiAgICAgICAgY29uc29sZS5sb2coJ0NoYXRQYW5lbDog5YeG5aSH5L+d5a2Y5YiwbG9jYWxTdG9yYWdl55qE5pWw5o2uOicsIGNoYXRIaXN0b3J5KVxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NoYXRIaXN0b3J5JywgSlNPTi5zdHJpbmdpZnkoY2hhdEhpc3RvcnkpKVxuICAgICAgICBjb25zb2xlLmxvZygnQ2hhdFBhbmVsOiDpu5jorqTmrKLov47mtojmga/lt7Lkv53lrZjliLBsb2NhbFN0b3JhZ2UnKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDaGF0UGFuZWw6IOWIneWni+WMluiBiuWkqeWGheWuueaXtuWHuumUmTonLCBlcnJvcilcbiAgICAgIC8vIOWHuumUmeaXtuiuvue9rum7mOiupOa2iOaBr1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICBpZDogJ2Vycm9yLW1lc3NhZ2UtJyArIERhdGUubm93KCksXG4gICAgICAgIHR5cGU6ICdhaScsXG4gICAgICAgIGNvbnRlbnQ6ICfmrKLov47kvb/nlKhBSeWIm+S9nOWKqeaJi++8gScsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coJ0NoYXRQYW5lbDog5Ye66ZSZ5pe26K6+572u55qE6buY6K6k5raI5oGvOicsIGVycm9yTWVzc2FnZSlcbiAgICAgIHNldE1lc3NhZ2VzKFtlcnJvck1lc3NhZ2VdKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g5Y+M6YeN5L+d6Zqc77ya5qOA5p+l5raI5oGv5piv5ZCm5Li656m677yM5aaC5p6c5piv56m65YiZ6K6+572u5qyi6L+O5raI5oGvXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coJ0NoYXRQYW5lbDog5Y+M6YeN5L+d6ZqcIC0g5qOA5rWL5Yiw5raI5oGv5Li656m677yM6K6+572u5qyi6L+O5raI5oGvJylcbiAgICAgIGNvbnN0IHdlbGNvbWVNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICBpZDogJ3dlbGNvbWUtbWVzc2FnZS0nICsgRGF0ZS5ub3coKSxcbiAgICAgICAgdHlwZTogJ2FpJyxcbiAgICAgICAgY29udGVudDogJ+asoui/juS9v+eUqEFJ5Yib5L2c5Yqp5omL77yB5oiR5piv5oKo55qEQUnliqnmiYvvvIzlj6/ku6XluK7liqnmgqjov5vooYzliJvmhI/orr7orqHlkozlhoXlrrnnlJ/miJDjgIInLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH1cbiAgICAgIHNldE1lc3NhZ2VzKFt3ZWxjb21lTWVzc2FnZV0pXG4gICAgICBcbiAgICAgIC8vIOS/neWtmOWIsGxvY2FsU3RvcmFnZVxuICAgICAgY29uc3QgY2hhdEhpc3RvcnkgPSBbe1xuICAgICAgICBpZDogd2VsY29tZU1lc3NhZ2UuaWQsXG4gICAgICAgIHR5cGU6IHdlbGNvbWVNZXNzYWdlLnR5cGUsXG4gICAgICAgIGNvbnRlbnQ6IHdlbGNvbWVNZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgIHRpbWVzdGFtcDogd2VsY29tZU1lc3NhZ2UudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGltYWdlRGF0YTogd2VsY29tZU1lc3NhZ2UuaW1hZ2VEYXRhXG4gICAgICB9XVxuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjaGF0SGlzdG9yeScsIEpTT04uc3RyaW5naWZ5KGNoYXRIaXN0b3J5KSlcbiAgICAgIGNvbnNvbGUubG9nKCdDaGF0UGFuZWw6IOWPjOmHjeS/nemanCAtIOasoui/jua2iOaBr+W3suiuvue9ruW5tuS/neWtmCcpXG4gICAgfVxuICB9LCBbbWVzc2FnZXMubGVuZ3RoXSlcblxuICAvLyDlvLrliLbliJ3lp4vljJbvvJrlnKjnu4Tku7bmjILovb3lkI7nq4vljbPorr7nva7mrKLov47mtojmga9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnQ2hhdFBhbmVsOiDlvLrliLbliJ3lp4vljJYgLSDnu4Tku7blt7LmjILovb0nKVxuICAgIFxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coJ0NoYXRQYW5lbDog5by65Yi25Yid5aeL5YyWIC0g5LiN5Zyo5a6i5oi356uv546v5aKD77yM6Lez6L+HJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBcbiAgICAvLyDlu7bov5/miafooYzku6Xnoa7kv53nu4Tku7blrozlhajmuLLmn5NcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NoYXRQYW5lbDog5by65Yi25Yid5aeL5YyWIC0g5byA5aeL6K6+572u5qyi6L+O5raI5oGvJylcbiAgICAgIFxuICAgICAgLy8g5qOA5p+lbG9jYWxTdG9yYWdl5Lit5piv5ZCm5pyJ6IGK5aSp6K6w5b2VXG4gICAgICBjb25zdCBzYXZlZENoYXQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NoYXRIaXN0b3J5JylcbiAgICAgIGNvbnNvbGUubG9nKCdDaGF0UGFuZWw6IOW8uuWItuWIneWni+WMliAtIGxvY2FsU3RvcmFnZeS4rWNoYXRIaXN0b3J5OicsIHNhdmVkQ2hhdCA/ICfmnInorrDlvZUnIDogJ+aXoOiusOW9lScpXG4gICAgICBcbiAgICAgIGlmICghc2F2ZWRDaGF0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDaGF0UGFuZWw6IOW8uuWItuWIneWni+WMliAtIOiuvue9rum7mOiupOasoui/jua2iOaBrycpXG4gICAgICAgIGNvbnN0IHdlbGNvbWVNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiAnd2VsY29tZS1tZXNzYWdlLScgKyBEYXRlLm5vdygpLFxuICAgICAgICAgIHR5cGU6ICdhaScsXG4gICAgICAgICAgY29udGVudDogJ+asoui/juS9v+eUqEFJ5Yib5L2c5Yqp5omL77yB5oiR5piv5oKo55qEQUnliqnmiYvvvIzlj6/ku6XluK7liqnmgqjov5vooYzliJvmhI/orr7orqHlkozlhoXlrrnnlJ/miJDjgIInLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyDnm7TmjqXorr7nva7mtojmga/nirbmgIFcbiAgICAgICAgc2V0TWVzc2FnZXMoW3dlbGNvbWVNZXNzYWdlXSlcbiAgICAgICAgXG4gICAgICAgIC8vIOS/neWtmOWIsGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBjaGF0SGlzdG9yeSA9IFt7XG4gICAgICAgICAgaWQ6IHdlbGNvbWVNZXNzYWdlLmlkLFxuICAgICAgICAgIHR5cGU6IHdlbGNvbWVNZXNzYWdlLnR5cGUsXG4gICAgICAgICAgY29udGVudDogd2VsY29tZU1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICB0aW1lc3RhbXA6IHdlbGNvbWVNZXNzYWdlLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGltYWdlRGF0YTogd2VsY29tZU1lc3NhZ2UuaW1hZ2VEYXRhXG4gICAgICAgIH1dXG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2hhdEhpc3RvcnknLCBKU09OLnN0cmluZ2lmeShjaGF0SGlzdG9yeSkpXG4gICAgICAgIGNvbnNvbGUubG9nKCdDaGF0UGFuZWw6IOW8uuWItuWIneWni+WMliAtIOasoui/jua2iOaBr+W3suiuvue9ricpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnQ2hhdFBhbmVsOiDlvLrliLbliJ3lp4vljJYgLSDlt7LmnInogYrlpKnorrDlvZXvvIzml6DpnIDorr7nva4nKVxuICAgICAgfVxuICAgIH0sIDEwMClcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKVxuICB9LCBbXSlcblxuICAvLyDnm5HlkKxsb2NhbFN0b3JhZ2Xlj5jljJblkozoh6rlrprkuYnkuovku7bvvIzph43mlrDliqDovb3ogYrlpKnorrDlvZVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuXG4gICAgY29uc3QgcmVsb2FkQ2hhdEhpc3RvcnkgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzYXZlZENoYXQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NoYXRIaXN0b3J5JylcbiAgICAgICAgaWYgKHNhdmVkQ2hhdCkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZE1lc3NhZ2VzID0gSlNPTi5wYXJzZShzYXZlZENoYXQpXG4gICAgICAgICAgc2V0TWVzc2FnZXMocGFyc2VkTWVzc2FnZXMubWFwKChtc2c6IGFueSkgPT4gKHtcbiAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUobXNnLnRpbWVzdGFtcCB8fCBEYXRlLm5vdygpKVxuICAgICAgICAgIH0pKSlcbiAgICAgICAgICBjb25zb2xlLmxvZygn5qOA5rWL5Yiw6IGK5aSp6K6w5b2V5Y+Y5YyW77yM6YeN5paw5Yqg6L296IGK5aSp6K6w5b2VJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRNZXNzYWdlcyhbXSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfph43mlrDliqDovb3ogYrlpKnorrDlvZXlpLHotKU6JywgZXJyb3IpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlU3RvcmFnZUNoYW5nZSA9IChldmVudDogU3RvcmFnZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnY2hhdEhpc3RvcnknKSB7XG4gICAgICAgIHJlbG9hZENoYXRIaXN0b3J5KClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVDdXN0b21FdmVudCA9ICgpID0+IHtcbiAgICAgIHJlbG9hZENoYXRIaXN0b3J5KClcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIGhhbmRsZVN0b3JhZ2VDaGFuZ2UpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYXRIaXN0b3J5VXBkYXRlZCcsIGhhbmRsZUN1c3RvbUV2ZW50KVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIGhhbmRsZVN0b3JhZ2VDaGFuZ2UpXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhdEhpc3RvcnlVcGRhdGVkJywgaGFuZGxlQ3VzdG9tRXZlbnQpXG4gICAgfVxuICB9LCBbXSlcblxuICAvLyDngrnlh7vlpJbpg6jlhbPpl63lvLnlh7rljaHniYdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChtb2RlbFNldHRpbmdzUmVmLmN1cnJlbnQgJiYgIW1vZGVsU2V0dGluZ3NSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2hvd01vZGVsU2V0dGluZ3MoZmFsc2UpXG4gICAgICB9XG4gICAgICBpZiAoYXNwZWN0UmF0aW9SZWYuY3VycmVudCAmJiAhYXNwZWN0UmF0aW9SZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2hvd0FzcGVjdFJhdGlvKGZhbHNlKVxuICAgICAgfVxuICAgICAgaWYgKGltYWdlQ291bnRSZWYuY3VycmVudCAmJiAhaW1hZ2VDb3VudFJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRTaG93SW1hZ2VDb3VudChmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSlcbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaW5wdXRUZXh0LnRyaW0oKSAmJiAhc2NyZWVuc2hvdFByZXZpZXcgJiYgdXBsb2FkZWRJbWFnZVByZXZpZXdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgICBsZXQgaW1hZ2VEYXRhOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgICBcbiAgICAvLyDkvJjlhYjkvb/nlKjmiKrlm77pooTop4jvvIzlhbbmrKHkvb/nlKjkuIrkvKDlm77niYfpooTop4hcbiAgICBpZiAoc2NyZWVuc2hvdFByZXZpZXcpIHtcbiAgICAgIGltYWdlRGF0YSA9IHNjcmVlbnNob3RQcmV2aWV3XG4gICAgICBzZXRTY3JlZW5zaG90UHJldmlldyhudWxsKVxuICAgIH0gZWxzZSBpZiAodXBsb2FkZWRJbWFnZVByZXZpZXdzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIOWmguaenOacieWkmuW8oOWbvueJh++8jOWPquWPkemAgeesrOS4gOW8oO+8iOaIluWPr+S7peagueaNrumcgOaxguiwg+aVtO+8iVxuICAgICAgaW1hZ2VEYXRhID0gdXBsb2FkZWRJbWFnZVByZXZpZXdzWzBdXG4gICAgICBzZXRVcGxvYWRlZEltYWdlUHJldmlld3MoW10pXG4gICAgfVxuXG4gICAgLy8g5p6E5bu65YyF5ZCr6K6+572u5L+h5oGv55qE5raI5oGv5YaF5a65XG4gICAgY29uc3Qgc2V0dGluZ3NJbmZvID0gYFvmqKHlnos6ICR7c2VsZWN0ZWRNb2RlbH0sIOavlOS+izogJHtzZWxlY3RlZEFzcGVjdFJhdGlvfSwg5byg5pWwOiAke2ltYWdlQ291bnR9XWBcbiAgICBjb25zdCBpbWFnZUNvdW50VGV4dCA9IHVwbG9hZGVkSW1hZ2VQcmV2aWV3cy5sZW5ndGggPiAxID8gYCR7dXBsb2FkZWRJbWFnZVByZXZpZXdzLmxlbmd0aH3lvKDlm77niYdgIDogJ+S4gOW8oOWbvueJhydcbiAgICBjb25zdCBtZXNzYWdlQ29udGVudCA9IGlucHV0VGV4dCA/IGAke2lucHV0VGV4dH0gJHtzZXR0aW5nc0luZm99YCA6IGDmiJHkuIrkvKDkuoYke2ltYWdlQ291bnRUZXh0fSAke3NldHRpbmdzSW5mb31gXG5cbiAgICBjb25zdCB1c2VyTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgIGlkOiBgdXNlci0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICB0eXBlOiAndXNlcicsXG4gICAgICBjb250ZW50OiBtZXNzYWdlQ29udGVudCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIGltYWdlRGF0YSxcbiAgICB9XG5cbiAgICAvLyDmm7TmlrDmtojmga/nirbmgIFcbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gWy4uLnByZXYsIHVzZXJNZXNzYWdlXVxuICAgICAgXG4gICAgICAvLyDlkIzml7bkv53lrZjliLBsb2NhbFN0b3JhZ2VcbiAgICAgIGNvbnN0IGNoYXRIaXN0b3J5ID0gbmV3TWVzc2FnZXMubWFwKG1zZyA9PiAoe1xuICAgICAgICBpZDogbXNnLmlkLFxuICAgICAgICB0eXBlOiBtc2cudHlwZSxcbiAgICAgICAgY29udGVudDogbXNnLmNvbnRlbnQsXG4gICAgICAgIHRpbWVzdGFtcDogbXNnLnRpbWVzdGFtcCBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKG1zZy50aW1lc3RhbXAuZ2V0VGltZSgpKSBcbiAgICAgICAgICA/IG1zZy50aW1lc3RhbXAudG9JU09TdHJpbmcoKSBcbiAgICAgICAgICA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgaW1hZ2VEYXRhOiBtc2cuaW1hZ2VEYXRhXG4gICAgICB9KSlcbiAgICAgIFxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2hhdEhpc3RvcnknLCBKU09OLnN0cmluZ2lmeShjaGF0SGlzdG9yeSkpXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdNZXNzYWdlc1xuICAgIH0pXG4gICAgXG4gICAgc2V0SW5wdXRUZXh0KCcnKVxuICAgIHNldElzR2VuZXJhdGluZyh0cnVlKVxuXG4gICAgLy8g5qih5oufQUnlk43lupRcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGFpTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGBhaS0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICAgIHR5cGU6ICdhaScsXG4gICAgICAgIGNvbnRlbnQ6IGltYWdlRGF0YSBcbiAgICAgICAgICA/IGDlt7LmlLbliLDmgqgke3NjcmVlbnNob3RQcmV2aWV3ID8gJ+aIquWbvicgOiAn5LiK5LygJ33nmoTlm77niYfjgILkvb/nlKgke3NlbGVjdGVkTW9kZWx95qih5Z6L77yMJHtzZWxlY3RlZEFzcGVjdFJhdGlvfeavlOS+i++8jOeUn+aIkCR7aW1hZ2VDb3VudH3lvKDlm77niYfjgIJgIFxuICAgICAgICAgIDogYOagueaNruaCqOeahOaPj+i/sO+8jOS9v+eUqCR7c2VsZWN0ZWRNb2RlbH3mqKHlnovvvIwke3NlbGVjdGVkQXNwZWN0UmF0aW995q+U5L6L77yM55Sf5oiQJHtpbWFnZUNvdW50feW8oOWbvueJh+OAgmAsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH1cblxuICAgICAgLy8g5pu05paw5raI5oGv54q25oCB77yI5YyF5ZCrQUnlk43lupTvvIlcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4ge1xuICAgICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IFsuLi5wcmV2LCBhaU1lc3NhZ2VdXG4gICAgICAgIFxuICAgICAgICAvLyDlkIzml7bkv53lrZjliLBsb2NhbFN0b3JhZ2VcbiAgICAgICAgY29uc3QgY2hhdEhpc3RvcnkgPSBuZXdNZXNzYWdlcy5tYXAobXNnID0+ICh7XG4gICAgICAgICAgaWQ6IG1zZy5pZCxcbiAgICAgICAgICB0eXBlOiBtc2cudHlwZSxcbiAgICAgICAgICBjb250ZW50OiBtc2cuY29udGVudCxcbiAgICAgICAgICB0aW1lc3RhbXA6IG1zZy50aW1lc3RhbXAgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTihtc2cudGltZXN0YW1wLmdldFRpbWUoKSkgXG4gICAgICAgICAgICA/IG1zZy50aW1lc3RhbXAudG9JU09TdHJpbmcoKSBcbiAgICAgICAgICAgIDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGltYWdlRGF0YTogbXNnLmltYWdlRGF0YVxuICAgICAgICB9KSlcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCfkv53lrZhBSeWTjeW6lOWQjueahOiBiuWkqeiusOW9lTonLCBjaGF0SGlzdG9yeSlcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjaGF0SGlzdG9yeScsIEpTT04uc3RyaW5naWZ5KGNoYXRIaXN0b3J5KSlcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ld01lc3NhZ2VzXG4gICAgICB9KVxuICAgICAgXG4gICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpXG4gICAgfSwgMjAwMClcbiAgfVxuXG5cblxuICBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlc1xuICAgIGlmICghZmlsZXMgfHwgZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm5cblxuICAgIGNvbnN0IHZhbGlkRmlsZXMgPSBBcnJheS5mcm9tKGZpbGVzKS5maWx0ZXIoZmlsZSA9PiB7XG4gICAgICAvLyDmo4Dmn6Xmlofku7bnsbvlnotcbiAgICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICAgIGFsZXJ0KGDmlofku7YgJHtmaWxlLm5hbWV9IOS4jeaYr+WbvueJh+aWh+S7tu+8jOW3sui3s+i/h2ApXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICAvLyDmo4Dmn6Xmlofku7blpKflsI/vvIjpmZDliLbkuLo1TULvvIlcbiAgICAgIGlmIChmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgYWxlcnQoYOWbvueJhyAke2ZpbGUubmFtZX0g5aSn5bCP6LaF6L+HNU1C77yM5bey6Lez6L+HYClcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcblxuICAgIGlmICh2YWxpZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgICAvLyDor7vlj5bmiYDmnInmnInmlYjmlofku7ZcbiAgICB2YWxpZEZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gZS50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmdcbiAgICAgICAgLy8g5bCG5LiK5Lyg55qE5Zu+54mH5re75Yqg5Yiw6aKE6KeI5YiX6KGoXG4gICAgICAgIHNldFVwbG9hZGVkSW1hZ2VQcmV2aWV3cyhwcmV2ID0+IFsuLi5wcmV2LCBpbWFnZURhdGFdKVxuICAgICAgfVxuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSlcbiAgICB9KVxuICAgIFxuICAgIC8vIOmHjee9ruaWh+S7tui+k+WFpe+8jOWFgeiuuOmHjeWkjeS4iuS8oOWQjOS4gOaWh+S7tlxuICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9ICcnXG4gIH1cblxuICAvLyDmjqXmlLbmiKrlm77lubbmmL7npLrlnKjovpPlhaXljLrln5/lt6bkvqdcbiAgY29uc3QgaGFuZGxlUmVjZWl2ZVNjcmVlbnNob3QgPSAoaW1hZ2VEYXRhOiBzdHJpbmcsIHByb21wdDogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ+aOpeaUtuWIsOaIquWbvu+8jOaYvuekuuWcqOi+k+WFpeWMuuWfn+W3puS+pzonLCB7IGltYWdlRGF0YTogaW1hZ2VEYXRhLnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJywgcHJvbXB0IH0pXG4gICAgLy8g5bCG5oiq5Zu+5re75Yqg5Yiw5LiK5Lyg5Zu+54mH6aKE6KeI5YiX6KGoXG4gICAgc2V0VXBsb2FkZWRJbWFnZVByZXZpZXdzKHByZXYgPT4gWy4uLnByZXYsIGltYWdlRGF0YV0pXG4gICAgLy8g6Ieq5Yqo5aGr5YWF5o+Q56S66K+N5Yiw6L6T5YWl5qGGXG4gICAgc2V0SW5wdXRUZXh0KHByb21wdClcbiAgfVxuXG4gIC8vIOmHjee9ruiBiuWkqeiusOW9lVxuICBjb25zdCByZXNldENoYXQgPSAoKSA9PiB7XG4gICAgc2V0TWVzc2FnZXMoW10pXG4gICAgc2V0SW5wdXRUZXh0KCcnKVxuICAgIHNldFNjcmVlbnNob3RQcmV2aWV3KG51bGwpXG4gICAgc2V0VXBsb2FkZWRJbWFnZVByZXZpZXdzKFtdKVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjaGF0SGlzdG9yeScpXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdBSeWIm+S9nOWKqeaJi+WGheWuueW3sumHjee9ricpXG4gIH1cblxuICAvLyDkvb/nlKh1c2VJbXBlcmF0aXZlSGFuZGxl5pq06Zyy5pa55rOV57uZ54i257uE5Lu2XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgIGhhbmRsZVJlY2VpdmVTY3JlZW5zaG90LFxuICAgIHJlc2V0Q2hhdFxuICB9KSwgW2hhbmRsZVJlY2VpdmVTY3JlZW5zaG90LCByZXNldENoYXRdKVxuXG4gIC8vIOS9v+eUqHVzZUVmZmVjdOebkeWQrG9uUmVjZWl2ZVNjcmVlbnNob3TnmoTlj5jljJZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAob25SZWNlaXZlU2NyZWVuc2hvdCkge1xuICAgICAgLy8g6L+Z6YeM5Y+v5Lul6K6+572u5aSW6YOo6LCD55So55qE5o6l5Y+jXG4gICAgICAvLyDkvovlpoLvvIzlj6/ku6XlsIZoYW5kbGVSZWNlaXZlU2NyZWVuc2hvdOaatOmcsue7meeItue7hOS7tlxuICAgIH1cbiAgfSwgW29uUmVjZWl2ZVNjcmVlbnNob3RdKVxuXG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlSW1hZ2UgPSBhc3luYyAocHJvbXB0OiBzdHJpbmcpID0+IHtcbiAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSlcbiAgICBcbiAgICAvLyDmqKHmi5/lm77niYfnlJ/miJBcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGFpTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGBhaS0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICAgIHR5cGU6ICdhaScsXG4gICAgICAgIGNvbnRlbnQ6IGDlt7LmoLnmja7mj5DnpLror41cIiR7cHJvbXB0fVwi55Sf5oiQ5Zu+54mHYCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBpbWFnZURhdGE6ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNakF3SWlCb1pXbG5hSFE5SWpJd01DSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklqNEtJQ0E4Y21WamRDQjNhV1IwYUQwaU1qQXdJaUJvWldsbmFIUTlJakl3TUNJZ1ptbHNiRDBpSTJZelpqTm1NeUl2UGdvZ0lEeDBaWGgwSUhnOUlqRXdNQ0lnZVQwaU1UQXdJaUJtYjI1MExXWmhiV2xzZVQwaVFYSnBZV3dpSUdadmJuUXRjMmw2WlQwaU1UUWlJR1pwYkd3OUlpTTJOallpSUhSbGVIUXRZVzVqYUc5eVBTSnRhV1JrYkdVaVBrRkpJRWx0WVdkbElFZGxibVZ5WVhSbFpEd3ZkR1Y0ZEQ0S1BDOXpkbWMrJyxcbiAgICAgIH1cblxuICAgICAgLy8g5re75Yqg5paw5raI5oGv6ICM5LiN5piv6KaG55uWXG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBhaU1lc3NhZ2VdKVxuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKVxuICAgIH0sIDMwMDApXG4gIH1cblxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZVZpZGVvID0gYXN5bmMgKHByb21wdDogc3RyaW5nKSA9PiB7XG4gICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpXG4gICAgXG4gICAgLy8g5qih5ouf6KeG6aKR55Sf5oiQXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBhaU1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBgYWktJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxuICAgICAgICB0eXBlOiAnYWknLFxuICAgICAgICBjb250ZW50OiBg5bey5qC55o2u5o+Q56S66K+NXCIke3Byb21wdH1cIueUn+aIkOinhumikWAsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH1cblxuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgYWlNZXNzYWdlXSlcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSlcbiAgICB9LCA1MDAwKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRG93bmxvYWQgPSAoaW1hZ2VEYXRhOiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgbGluay5kb3dubG9hZCA9IGZpbGVuYW1lXG4gICAgbGluay5ocmVmID0gaW1hZ2VEYXRhXG4gICAgbGluay5jbGljaygpXG4gIH1cblxuICAvLyDlpoLmnpzpnaLmnb/ooqvlhbPpl63vvIzmmL7npLrlsZXlvIDmjInpkq5cbiAgaWYgKCFpc09wZW4pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4odHJ1ZSl9XG4gICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTQgdG9wLTE2IGJnLXByaW1hcnktNjAwIHRleHQtd2hpdGUgcC0zIHJvdW5kZWQtbGcgc2hhZG93LWxnIGhvdmVyOmJnLXByaW1hcnktNzAwIHRyYW5zaXRpb24tY29sb3JzIHotMzBcIlxuICAgICAgICB0aXRsZT1cIuWxleW8gEFJ5Yib5L2c5Yqp5omLXCJcbiAgICAgID5cbiAgICAgICAgPE1lc3NhZ2VTcXVhcmUgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cblxuICAvLyDlpoLmnpzpnaLmnb/ooqvmlLbnvKnvvIzmmL7npLrmlLbnvKnnirbmgIFcbiAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtNCB0b3AtMTYgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgei0zMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgPE1lc3NhZ2VTcXVhcmUgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LXByaW1hcnktNjAwXCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPkFJ5Yqp5omLPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUNvbGxhcHNlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWQgbWwtMlwiXG4gICAgICAgICAgICB0aXRsZT1cIuWxleW8gOmdouadv1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cImgtNCB3LTQgdGV4dC1ncmF5LTUwMCB0cmFuc2Zvcm0gcm90YXRlLTE4MFwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTQgdG9wLTE2IGJvdHRvbS00IHctODAgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyBmbGV4IGZsZXgtY29sIHotMzBcIiBkYXRhLWNoYXQtcGFuZWw9XCJ0cnVlXCI+XG4gICAgICB7Lyog5aS06YOoICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxNZXNzYWdlU3F1YXJlIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1wcmltYXJ5LTYwMCBkYXJrOnRleHQtcHJpbWFyeS00MDBcIiAvPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+QUnliJvkvZzliqnmiYs8L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVDb2xsYXBzZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgdGl0bGU9XCLmlLbnvKnpnaLmnb9cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIOa2iOaBr+WMuuWfnyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00XCI+XG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBrZXk9e21lc3NhZ2UuaWR9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7bWVzc2FnZS50eXBlID09PSAndXNlcicgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfWB9XG4gICAgICAgICAgICBkYXRhLW1lc3NhZ2U9XCJ0cnVlXCJcbiAgICAgICAgICAgIGRhdGEtbWVzc2FnZS10eXBlPXttZXNzYWdlLnR5cGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BtYXgtdy14cyByb3VuZGVkLWxnIHAtMyAke1xuICAgICAgICAgICAgICBtZXNzYWdlLnR5cGUgPT09ICd1c2VyJyBcbiAgICAgICAgICAgICAgICA/ICdiZy1wcmltYXJ5LTYwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwJ1xuICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCIgZGF0YS1tZXNzYWdlLWNvbnRlbnQ9XCJ0cnVlXCI+e21lc3NhZ2UuY29udGVudH08L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7bWVzc2FnZS5pbWFnZURhdGEgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgc3JjPXttZXNzYWdlLmltYWdlRGF0YX0gXG4gICAgICAgICAgICAgICAgICAgIGFsdD1cIuaIquWbvlwiIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkIGJvcmRlciBib3JkZXItZ3JheS0yMDAgbWF4LXctZnVsbFwiXG4gICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAge21lc3NhZ2UudHlwZSA9PT0gJ2FpJyAmJiBtZXNzYWdlLmltYWdlRGF0YSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yXCIgZGF0YS1haS1nZW5lcmF0ZWQ9XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgICAgICAgICBzcmM9e21lc3NhZ2UuaW1hZ2VEYXRhfSBcbiAgICAgICAgICAgICAgICAgICAgYWx0PVwiQUnnlJ/miJDlm77niYdcIiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIG1heC13LWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRG93bmxvYWQobWVzc2FnZS5pbWFnZURhdGEhLCAnYWktZ2VuZXJhdGVkLnBuZycpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgdGV4dC14cyBtdC0yIHRleHQtYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwiaC0zIHctM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPuS4i+i9veWbvueJhzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC14cyBtdC0xICR7XG4gICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID09PSAndXNlcicgPyAndGV4dC1wcmltYXJ5LTIwMCcgOiAndGV4dC1ncmF5LTUwMCdcbiAgICAgICAgICAgICAgfWB9IGRhdGEtbWVzc2FnZS10aW1lPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgIHttZXNzYWdlLnRpbWVzdGFtcCBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKG1lc3NhZ2UudGltZXN0YW1wLmdldFRpbWUoKSkgXG4gICAgICAgICAgICAgICAgICA/IG1lc3NhZ2UudGltZXN0YW1wLnRvTG9jYWxlVGltZVN0cmluZygnemgtQ04nLCB7IFxuICAgICAgICAgICAgICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcgXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICA6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCd6aC1DTicsIHsgXG4gICAgICAgICAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLCBcbiAgICAgICAgICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyBcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuXG4gICAgICAgIHtpc0dlbmVyYXRpbmcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LXN0YXJ0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktMTAwIGRhcms6YmctZ3JheS03MDAgcm91bmRlZC1sZyBwLTNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktMzAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktMzAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7YW5pbWF0aW9uRGVsYXk6ICcwLjFzJ319PjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmF5LTQwMCBkYXJrOmJnLWdyYXktMzAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7YW5pbWF0aW9uRGVsYXk6ICcwLjJzJ319PjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7Lyog6L6T5YWl5Yy65Z+fICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHNwYWNlLXktMlwiPlxuXG4gICAgICAgIHsvKiDlm77niYfpooTop4jljLrln58gLSDnp7vliLDkuIrkvKDmjInpkq7kuIrmlrkgKi99XG4gICAgICAgIHsoc2NyZWVuc2hvdFByZXZpZXcgfHwgdXBsb2FkZWRJbWFnZVByZXZpZXdzLmxlbmd0aCA+IDApICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBtYi0yXCI+XG4gICAgICAgICAgICB7Lyog5oiq5Zu+6aKE6KeIICovfVxuICAgICAgICAgICAge3NjcmVlbnNob3RQcmV2aWV3ICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICBzcmM9e3NjcmVlbnNob3RQcmV2aWV3fSBcbiAgICAgICAgICAgICAgICAgIGFsdD1cIuaIquWbvumihOiniFwiIFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2NyZWVuc2hvdFByZXZpZXcobnVsbCl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTEgLXJpZ2h0LTEgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCB3LTQgaC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCLliKDpmaTmiKrlm75cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIMOXXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHsvKiDkuIrkvKDlm77niYfpooTop4ggLSDmlK/mjIHlpJrlvKDlm77niYcgKi99XG4gICAgICAgICAgICB7dXBsb2FkZWRJbWFnZVByZXZpZXdzLm1hcCgocHJldmlldywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICBzcmM9e3ByZXZpZXd9IFxuICAgICAgICAgICAgICAgICAgYWx0PXtg5LiK5Lyg5Zu+54mH6aKE6KeIICR7aW5kZXggKyAxfWB9IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VXBsb2FkZWRJbWFnZVByZXZpZXdzKHByZXYgPT4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTEgLXJpZ2h0LTEgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCB3LTQgaC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCLliKDpmaTkuIrkvKDlm77niYdcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIMOXXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICB7Lyog5LiK5Lyg5Zu+54mH5oyJ6ZKuICovfVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZpbGVJbnB1dFJlZi5jdXJyZW50Py5jbGljaygpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIlxuICAgICAgICAgICAgdGl0bGU9XCLkuIrkvKDlm77niYdcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwiaC00IHctNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCAxNnYxYTMgMyAwIDAwMyAzaDEwYTMgMyAwIDAwMy0zdi0xbS00LThsLTQtNG0wIDBMOCA4bTQtNHYxMlwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIHsvKiDmqKHlnovjgIHmr5TkvovjgIHlvKDmlbDmjInpkq4gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIiByZWY9e21vZGVsU2V0dGluZ3NSZWZ9PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd01vZGVsU2V0dGluZ3MoIXNob3dNb2RlbFNldHRpbmdzKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgcHgtMiBweS0xIHRleHQteHMgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCByb3VuZGVkIGhvdmVyOmJnLWdyYXktMjAwIGRhcms6aG92ZXI6YmctZ3JheS02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwi6YCJ5oup5qih5Z6LXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzc05hbWU9XCJoLTMgdy0zXCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj7mqKHlnos8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIOaooeWei+mAieaLqeWNoeeJhyAtIFRhYuWIh+aNouaWueW8jyAqL31cbiAgICAgICAgICAgICAge3Nob3dNb2RlbFNldHRpbmdzICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMCBtYi0yIHctNTYgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBUYWLliIfmjaLmoI8gKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtbJ+WbvuWDjycsICfop4bpopEnLCAn5paH5pysJ10ubWFwKCh0YWIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0YWJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZU1vZGVsVGFiKHRhYil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSB0ZXh0LXhzIHB5LTEgcHgtMiAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZU1vZGVsVGFiID09PSB0YWJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQtcHJpbWFyeS02MDAgZGFyazp0ZXh0LXByaW1hcnktNDAwIGJvcmRlci1iLTIgYm9yZGVyLXByaW1hcnktNjAwIGRhcms6Ym9yZGVyLXByaW1hcnktNDAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTkwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0yMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dGFifVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIFRhYuWGheWuuSAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC0zMiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlTW9kZWxUYWIgPT09ICflm77lg48nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZE1vZGVsKCdOYW5vYmFuYmFuYScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCB0ZXh0LWxlZnQgcHgtMiBweS0xIHRleHQteHMgcm91bmRlZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRNb2RlbCA9PT0gJ05hbm9iYW5iYW5hJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcHJpbWFyeS0xMDAgZGFyazpiZy1wcmltYXJ5LTkwMCB0ZXh0LXByaW1hcnktNzAwIGRhcms6dGV4dC1wcmltYXJ5LTMwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2hvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW5vYmFuYmFuYVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkTW9kZWwoJ2dwdCBpbWFnZScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCB0ZXh0LWxlZnQgcHgtMiBweS0xIHRleHQteHMgcm91bmRlZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRNb2RlbCA9PT0gJ2dwdCBpbWFnZScgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXByaW1hcnktMTAwIGRhcms6YmctcHJpbWFyeS05MDAgdGV4dC1wcmltYXJ5LTcwMCBkYXJrOnRleHQtcHJpbWFyeS0zMDAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3B0IGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlTW9kZWxUYWIgPT09ICfop4bpopEnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZE1vZGVsKCd2ZW8zJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBweC0yIHB5LTEgdGV4dC14cyByb3VuZGVkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1vZGVsID09PSAndmVvMycgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXByaW1hcnktMTAwIGRhcms6YmctcHJpbWFyeS05MDAgdGV4dC1wcmltYXJ5LTcwMCBkYXJrOnRleHQtcHJpbWFyeS0zMDAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVvM1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkTW9kZWwoJ3NvcmEyJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBweC0yIHB5LTEgdGV4dC14cyByb3VuZGVkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1vZGVsID09PSAnc29yYTInIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1wcmltYXJ5LTEwMCBkYXJrOmJnLXByaW1hcnktOTAwIHRleHQtcHJpbWFyeS03MDAgZGFyazp0ZXh0LXByaW1hcnktMzAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcmEyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7YWN0aXZlTW9kZWxUYWIgPT09ICfmlofmnKwnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZE1vZGVsKCdncHQ1Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBweC0yIHB5LTEgdGV4dC14cyByb3VuZGVkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1vZGVsID09PSAnZ3B0NScgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXByaW1hcnktMTAwIGRhcms6YmctcHJpbWFyeS05MDAgdGV4dC1wcmltYXJ5LTcwMCBkYXJrOnRleHQtcHJpbWFyeS0zMDAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3B0NVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkTW9kZWwoJ2RlZXBzZWVrJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBweC0yIHB5LTEgdGV4dC14cyByb3VuZGVkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1vZGVsID09PSAnZGVlcHNlZWsnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1wcmltYXJ5LTEwMCBkYXJrOmJnLXByaW1hcnktOTAwIHRleHQtcHJpbWFyeS03MDAgZGFyazp0ZXh0LXByaW1hcnktMzAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZXBzZWVrXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCIgcmVmPXthc3BlY3RSYXRpb1JlZn0+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QXNwZWN0UmF0aW8oIXNob3dBc3BlY3RSYXRpbyl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xIHB4LTIgcHktMSB0ZXh0LXhzIGJnLWdyYXktMTAwIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTIwMCBkYXJrOmhvdmVyOmJnLWdyYXktNjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIumAieaLqeWbvueJh+avlOS+i1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TW9uaXRvciBjbGFzc05hbWU9XCJoLTMgdy0zXCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj7mr5Tkvos8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIOWbvueJh+avlOS+i+mAieaLqeWNoeeJhyAqL31cbiAgICAgICAgICAgICAge3Nob3dBc3BlY3RSYXRpbyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTAgbWItMiB3LTMyIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3ctbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtbJzE2OjknLCAnOToxNicsICc0OjMnLCAnMzo0JywgJzI6MScsICcxOjInLCAnMToxJ10ubWFwKChyYXRpbykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3JhdGlvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEFzcGVjdFJhdGlvKHJhdGlvKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHRleHQtbGVmdCBweC0yIHB5LTEgdGV4dC14cyByb3VuZGVkICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRBc3BlY3RSYXRpbyA9PT0gcmF0aW8gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1wcmltYXJ5LTEwMCBkYXJrOmJnLXByaW1hcnktOTAwIHRleHQtcHJpbWFyeS03MDAgZGFyazp0ZXh0LXByaW1hcnktMzAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2hvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cmF0aW99XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCIgcmVmPXtpbWFnZUNvdW50UmVmfT5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dJbWFnZUNvdW50KCFzaG93SW1hZ2VDb3VudCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xIHB4LTIgcHktMSB0ZXh0LXhzIGJnLWdyYXktMTAwIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTIwMCBkYXJrOmhvdmVyOmJnLWdyYXktNjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIuiuvue9rueUn+aIkOW8oOaVsFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8VHlwZSBjbGFzc05hbWU9XCJoLTMgdy0zXCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj7lvKDmlbA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIOeUn+aIkOW8oOaVsOiuvue9ruWNoeeJhyAqL31cbiAgICAgICAgICAgICAge3Nob3dJbWFnZUNvdW50ICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMCBtYi0yIHctMjQgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAg5byg5pWwOiB7aW1hZ2VDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgbWluPVwiMVwiXG4gICAgICAgICAgICAgICAgICAgICAgbWF4PVwiMTBcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbWFnZUNvdW50fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW1hZ2VDb3VudChwYXJzZUludChlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTIgYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWxnIGFwcGVhcmFuY2Utbm9uZSBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+MTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4xMDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiDpmpDol4/nmoTmlofku7bovpPlhaUgKi99XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICBtdWx0aXBsZVxuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbWFnZVVwbG9hZH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAvPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHZhbHVlPXtpbnB1dFRleHR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0VGV4dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBvbktleVByZXNzPXsoZSkgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgaGFuZGxlU2VuZE1lc3NhZ2UoKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6L6T5YWl5o+Q56S66K+N5oiW5o+P6L+wLi4uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBpbnB1dC1maWVsZCB0ZXh0LXNtIGRhcms6YmctZ3JheS03MDAgZGFyazpib3JkZXItZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMTAwIGRhcms6cGxhY2Vob2xkZXItZ3JheS00MDBcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICBkaXNhYmxlZD17IWlucHV0VGV4dC50cmltKCkgfHwgaXNHZW5lcmF0aW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgcC0yIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8U2VuZCBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSlcblxuZXhwb3J0IGRlZmF1bHQgQ2hhdFBhbmVsIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiZm9yd2FyZFJlZiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJTZW5kIiwiRG93bmxvYWQiLCJNZXNzYWdlU3F1YXJlIiwiQ2hldnJvbkxlZnQiLCJTZXR0aW5ncyIsIk1vbml0b3IiLCJUeXBlIiwiQ2hhdFBhbmVsIiwib25DYXB0dXJlQXJlYSIsIm9uUmVjZWl2ZVNjcmVlbnNob3QiLCJyZWYiLCJpc09wZW4iLCJzZXRJc09wZW4iLCJpc0NvbGxhcHNlZCIsInNldElzQ29sbGFwc2VkIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlucHV0VGV4dCIsInNldElucHV0VGV4dCIsImlzR2VuZXJhdGluZyIsInNldElzR2VuZXJhdGluZyIsInNjcmVlbnNob3RQcmV2aWV3Iiwic2V0U2NyZWVuc2hvdFByZXZpZXciLCJ1cGxvYWRlZEltYWdlUHJldmlld3MiLCJzZXRVcGxvYWRlZEltYWdlUHJldmlld3MiLCJzaG93TW9kZWxTZXR0aW5ncyIsInNldFNob3dNb2RlbFNldHRpbmdzIiwic2hvd0FzcGVjdFJhdGlvIiwic2V0U2hvd0FzcGVjdFJhdGlvIiwic2hvd0ltYWdlQ291bnQiLCJzZXRTaG93SW1hZ2VDb3VudCIsInNlbGVjdGVkTW9kZWwiLCJzZXRTZWxlY3RlZE1vZGVsIiwic2VsZWN0ZWRBc3BlY3RSYXRpbyIsInNldFNlbGVjdGVkQXNwZWN0UmF0aW8iLCJpbWFnZUNvdW50Iiwic2V0SW1hZ2VDb3VudCIsImFjdGl2ZU1vZGVsVGFiIiwic2V0QWN0aXZlTW9kZWxUYWIiLCJtZXNzYWdlc0VuZFJlZiIsImZpbGVJbnB1dFJlZiIsIm1vZGVsU2V0dGluZ3NSZWYiLCJhc3BlY3RSYXRpb1JlZiIsImltYWdlQ291bnRSZWYiLCJ0b2dnbGVDb2xsYXBzZSIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJjb25zb2xlIiwibG9nIiwic2F2ZWRDaGF0Iiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlZE1lc3NhZ2VzIiwiSlNPTiIsInBhcnNlIiwibGVuZ3RoIiwiZm9ybWF0dGVkTWVzc2FnZXMiLCJtYXAiLCJtc2ciLCJpZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ0eXBlIiwiY29udGVudCIsInRpbWVzdGFtcCIsImltYWdlRGF0YSIsInVuZGVmaW5lZCIsIndlbGNvbWVNZXNzYWdlIiwiY2hhdEhpc3RvcnkiLCJ0b0lTT1N0cmluZyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJlcnJvciIsImVycm9yTWVzc2FnZSIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInJlbG9hZENoYXRIaXN0b3J5Iiwid2FybiIsImhhbmRsZVN0b3JhZ2VDaGFuZ2UiLCJldmVudCIsImtleSIsImhhbmRsZUN1c3RvbUV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDbGlja091dHNpZGUiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJ0cmltIiwic2V0dGluZ3NJbmZvIiwiaW1hZ2VDb3VudFRleHQiLCJtZXNzYWdlQ29udGVudCIsInVzZXJNZXNzYWdlIiwicHJldiIsIm5ld01lc3NhZ2VzIiwiaXNOYU4iLCJnZXRUaW1lIiwiYWlNZXNzYWdlIiwiaGFuZGxlSW1hZ2VVcGxvYWQiLCJmaWxlcyIsInZhbGlkRmlsZXMiLCJBcnJheSIsImZyb20iLCJmaWx0ZXIiLCJmaWxlIiwic3RhcnRzV2l0aCIsImFsZXJ0IiwibmFtZSIsInNpemUiLCJmb3JFYWNoIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwidmFsdWUiLCJoYW5kbGVSZWNlaXZlU2NyZWVuc2hvdCIsInByb21wdCIsInN1YnN0cmluZyIsInJlc2V0Q2hhdCIsInJlbW92ZUl0ZW0iLCJoYW5kbGVHZW5lcmF0ZUltYWdlIiwiaGFuZGxlR2VuZXJhdGVWaWRlbyIsImhhbmRsZURvd25sb2FkIiwiZmlsZW5hbWUiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImRvd25sb2FkIiwiaHJlZiIsImNsaWNrIiwiYnV0dG9uIiwib25DbGljayIsImNsYXNzTmFtZSIsInRpdGxlIiwiZGl2Iiwic3BhbiIsImRhdGEtY2hhdC1wYW5lbCIsImgzIiwibWVzc2FnZSIsImRhdGEtbWVzc2FnZSIsImRhdGEtbWVzc2FnZS10eXBlIiwicCIsImRhdGEtbWVzc2FnZS1jb250ZW50IiwiaW1nIiwic3JjIiwiYWx0IiwiZGF0YS1haS1nZW5lcmF0ZWQiLCJkYXRhLW1lc3NhZ2UtdGltZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwicHJldmlldyIsImluZGV4IiwiXyIsImkiLCJzdmciLCJmaWxsIiwidmlld0JveCIsInN0cm9rZSIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJ0YWIiLCJyYXRpbyIsImlucHV0IiwibWluIiwibWF4Iiwib25DaGFuZ2UiLCJwYXJzZUludCIsImFjY2VwdCIsIm11bHRpcGxlIiwib25LZXlQcmVzcyIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ChatPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ClientThemeProvider.tsx":
/*!********************************************!*\
  !*** ./components/ClientThemeProvider.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ClientThemeProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _stores_userStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/stores/userStore */ \"(ssr)/./stores/userStore.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction ClientThemeProvider({ children }) {\n    const { theme } = (0,_stores_userStore__WEBPACK_IMPORTED_MODULE_1__.useUserStore)();\n    // 在组件挂载时应用存储的主题\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (typeof document !== \"undefined\") {\n            // 确保初始主题正确应用\n            if (theme === \"dark\") {\n                document.documentElement.classList.add(\"dark\");\n            } else {\n                document.documentElement.classList.remove(\"dark\");\n            }\n        }\n    }, [\n        theme\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: children\n    }, void 0, false);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0NsaWVudFRoZW1lUHJvdmlkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFaUQ7QUFDaEI7QUFFbEIsU0FBU0Usb0JBQW9CLEVBQUVDLFFBQVEsRUFBaUM7SUFDckYsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR0osK0RBQVlBO0lBRTlCLGdCQUFnQjtJQUNoQkMsZ0RBQVNBLENBQUM7UUFDUixJQUFJLE9BQU9JLGFBQWEsYUFBYTtZQUNuQyxhQUFhO1lBQ2IsSUFBSUQsVUFBVSxRQUFRO2dCQUNwQkMsU0FBU0MsZUFBZSxDQUFDQyxTQUFTLENBQUNDLEdBQUcsQ0FBQztZQUN6QyxPQUFPO2dCQUNMSCxTQUFTQyxlQUFlLENBQUNDLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDO1lBQzVDO1FBQ0Y7SUFDRixHQUFHO1FBQUNMO0tBQU07SUFFVixxQkFBTztrQkFBR0Q7O0FBQ1oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWl5dWFuLWFpLy4vY29tcG9uZW50cy9DbGllbnRUaGVtZVByb3ZpZGVyLnRzeD9kNGNjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VVc2VyU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy91c2VyU3RvcmUnXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2xpZW50VGhlbWVQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IHsgdGhlbWUgfSA9IHVzZVVzZXJTdG9yZSgpXG5cbiAgLy8g5Zyo57uE5Lu25oyC6L295pe25bqU55So5a2Y5YKo55qE5Li76aKYXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIOehruS/neWIneWni+S4u+mimOato+ehruW6lOeUqFxuICAgICAgaWYgKHRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2RhcmsnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3RoZW1lXSlcblxuICByZXR1cm4gPD57Y2hpbGRyZW59PC8+XG59Il0sIm5hbWVzIjpbInVzZVVzZXJTdG9yZSIsInVzZUVmZmVjdCIsIkNsaWVudFRoZW1lUHJvdmlkZXIiLCJjaGlsZHJlbiIsInRoZW1lIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ClientThemeProvider.tsx\n");

/***/ }),

/***/ "(ssr)/./components/SaveProjectModal.tsx":
/*!*****************************************!*\
  !*** ./components/SaveProjectModal.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SaveProjectModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Save_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Save,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_Save_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Save,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_Save_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Save,Upload,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui/Button */ \"(ssr)/./components/ui/Button.tsx\");\n/* harmony import */ var _ui_Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui/Input */ \"(ssr)/./components/ui/Input.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nconst defaultIcons = [\n    \"\\uD83C\\uDFA8\",\n    \"\\uD83D\\uDDBC️\",\n    \"\\uD83D\\uDCD0\",\n    \"✏️\",\n    \"\\uD83C\\uDFAF\",\n    \"\\uD83C\\uDF1F\",\n    \"\\uD83D\\uDCA1\",\n    \"\\uD83D\\uDCCA\",\n    \"\\uD83D\\uDD04\",\n    \"\\uD83C\\uDFAA\",\n    \"\\uD83D\\uDCDD\",\n    \"\\uD83D\\uDD0D\",\n    \"\\uD83D\\uDCCC\",\n    \"\\uD83D\\uDCCD\",\n    \"\\uD83D\\uDD8B️\",\n    \"\\uD83D\\uDCCE\"\n];\nfunction SaveProjectModal({ isOpen, onClose, onSave, defaultName = \"\", projectData }) {\n    const [projectName, setProjectName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(projectData?.name || defaultName);\n    const [selectedIcon, setSelectedIcon] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(projectData?.icon || \"\\uD83C\\uDFA8\");\n    const [description, setDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(projectData?.description || \"\");\n    const [tags, setTags] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(projectData?.tags || []);\n    const [customIcon, setCustomIcon] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showCustomIconInput, setShowCustomIconInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // 当projectData变化时更新表单\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (projectData) {\n            setProjectName(projectData.name);\n            setSelectedIcon(projectData.icon);\n            setDescription(projectData.description || \"\");\n            setTags(projectData.tags || []);\n        }\n    }, [\n        projectData\n    ]);\n    const handleSave = ()=>{\n        if (!projectName.trim()) {\n            alert(\"请输入项目名称\");\n            return;\n        }\n        const iconToUse = showCustomIconInput && customIcon ? customIcon : selectedIcon;\n        onSave({\n            name: projectName.trim(),\n            icon: iconToUse,\n            description: description.trim() || undefined,\n            tags: tags.length > 0 ? tags : undefined\n        });\n        // 重置表单\n        setProjectName(\"\");\n        setSelectedIcon(\"\\uD83C\\uDFA8\");\n        setDescription(\"\");\n        setTags([]);\n        setCustomIcon(\"\");\n        setShowCustomIconInput(false);\n    };\n    const handleFileUpload = (event)=>{\n        const file = event.target.files?.[0];\n        if (!file) return;\n        const reader = new FileReader();\n        reader.onload = (e)=>{\n            const imageData = e.target?.result;\n            setCustomIcon(imageData);\n            setShowCustomIconInput(true);\n        };\n        reader.readAsDataURL(file);\n    };\n    const handleCustomIconClick = ()=>{\n        if (fileInputRef.current) {\n            fileInputRef.current.click();\n        }\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md max-h-[85vh] overflow-hidden flex flex-col\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Save_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"h-6 w-6 text-blue-600\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                    lineNumber: 91,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-semibold text-gray-900 dark:text-white\",\n                                    children: \"保存画板为项目\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                    lineNumber: 92,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Save_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"h-5 w-5 text-gray-500 dark:text-gray-400\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                lineNumber: 100,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                            lineNumber: 96,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                    lineNumber: 89,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6 overflow-y-auto flex-1 max-h-[calc(85vh-160px)]\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n                                        children: \"项目名称 *\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                        lineNumber: 109,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Input__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        value: projectName,\n                                        onChange: (e)=>setProjectName(e.target.value),\n                                        placeholder: \"请输入项目名称\",\n                                        className: \"w-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                lineNumber: 108,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n                                        children: \"项目描述（可选）\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                        lineNumber: 122,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        value: description,\n                                        onChange: (e)=>setDescription(e.target.value),\n                                        placeholder: \"请输入项目描述...\",\n                                        rows: 3,\n                                        className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                        lineNumber: 125,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n                                        children: \"项目标签（可选）\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                        lineNumber: 136,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                placeholder: \"输入标签，用#分隔（例如：#创意 #画板作品 #设计）\",\n                                                defaultValue: tags.map((tag)=>`#${tag}`).join(\" \"),\n                                                className: \"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white\",\n                                                onBlur: (e)=>{\n                                                    const inputValue = e.target.value;\n                                                    // 使用正则表达式匹配所有#开头的标签\n                                                    const tagMatches = inputValue.match(/#[^#\\s]+/g) || [];\n                                                    const tags = tagMatches.map((tag)=>tag.substring(1).trim()).filter((tag)=>tag);\n                                                    setTags(tags);\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                lineNumber: 140,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                children: [\n                                                    \"标签将显示在项目卡片中，帮助分类和组织项目\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                        lineNumber: 155,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium text-blue-600 dark:text-blue-400\",\n                                                        children: \"格式提示：使用 # 符号开头，多个标签用空格分隔\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                        lineNumber: 156,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                        lineNumber: 159,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-gray-400 dark:text-gray-500\",\n                                                        children: \"例如：#创意 #画板作品 #设计\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                        lineNumber: 160,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                lineNumber: 153,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                        lineNumber: 139,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                lineNumber: 135,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3\",\n                                        children: \"项目图标\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                        lineNumber: 169,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mb-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-3 mb-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleCustomIconClick,\n                                                        className: `flex items-center space-x-2 px-3 py-2 rounded-lg border-2 transition-colors ${showCustomIconInput ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500\"}`,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Save_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                className: \"h-4 w-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                                lineNumber: 184,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm\",\n                                                                children: \"上传图标\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                                lineNumber: 185,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                        lineNumber: 176,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        ref: fileInputRef,\n                                                        type: \"file\",\n                                                        accept: \"image/*\",\n                                                        onChange: handleFileUpload,\n                                                        className: \"hidden\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                        lineNumber: 188,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    showCustomIconInput && customIcon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center space-x-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-8 h-8 rounded border border-gray-300 dark:border-gray-600 overflow-hidden\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                    src: customIcon,\n                                                                    alt: \"自定义图标\",\n                                                                    className: \"w-full h-full object-cover\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                                    lineNumber: 199,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                                lineNumber: 198,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                                children: \"已上传\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                                lineNumber: 205,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                        lineNumber: 197,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                lineNumber: 175,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"grid grid-cols-8 gap-2\",\n                                                    children: defaultIcons.map((icon)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>{\n                                                                setSelectedIcon(icon);\n                                                                setShowCustomIconInput(false);\n                                                                setCustomIcon(\"\");\n                                                            },\n                                                            className: `p-2 rounded-lg text-2xl transition-colors ${selectedIcon === icon && !showCustomIconInput ? \"bg-blue-100 dark:bg-blue-900 border-2 border-blue-500\" : \"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600\"}`,\n                                                            children: icon\n                                                        }, icon, false, {\n                                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                            lineNumber: 214,\n                                                            columnNumber: 23\n                                                        }, this))\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                    lineNumber: 212,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                                lineNumber: 211,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                        lineNumber: 173,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                lineNumber: 168,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                        lineNumber: 106,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                    lineNumber: 105,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-50 dark:bg-gray-700 px-6 py-4 border-t border-gray-200 dark:border-gray-600 flex-shrink-0\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-end space-x-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                variant: \"outline\",\n                                onClick: onClose,\n                                className: \"px-6\",\n                                children: \"取消\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                lineNumber: 242,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                onClick: handleSave,\n                                disabled: !projectName.trim(),\n                                className: \"px-6\",\n                                children: \"保存项目\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                                lineNumber: 249,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                        lineNumber: 241,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n                    lineNumber: 240,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n            lineNumber: 87,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SaveProjectModal.tsx\",\n        lineNumber: 86,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL1NhdmVQcm9qZWN0TW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRW1EO0FBQ2U7QUFDbEM7QUFDRjtBQVU5QixNQUFNUSxlQUFlO0lBQ25CO0lBQU07SUFBTztJQUFNO0lBQU07SUFBTTtJQUFNO0lBQU07SUFDM0M7SUFBTTtJQUFNO0lBQU07SUFBTTtJQUFNO0lBQU07SUFBTztDQUM1QztBQUVjLFNBQVNDLGlCQUFpQixFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxjQUFjLEVBQUUsRUFBRUMsV0FBVyxFQUF5QjtJQUN4SCxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR2hCLCtDQUFRQSxDQUFDYyxhQUFhRyxRQUFRSjtJQUNwRSxNQUFNLENBQUNLLGNBQWNDLGdCQUFnQixHQUFHbkIsK0NBQVFBLENBQUNjLGFBQWFNLFFBQVE7SUFDdEUsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUd0QiwrQ0FBUUEsQ0FBQ2MsYUFBYU8sZUFBZTtJQUMzRSxNQUFNLENBQUNFLE1BQU1DLFFBQVEsR0FBR3hCLCtDQUFRQSxDQUFXYyxhQUFhUyxRQUFRLEVBQUU7SUFDbEUsTUFBTSxDQUFDRSxZQUFZQyxjQUFjLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUMyQixxQkFBcUJDLHVCQUF1QixHQUFHNUIsK0NBQVFBLENBQUM7SUFDL0QsTUFBTTZCLGVBQWU1Qiw2Q0FBTUEsQ0FBbUI7SUFFOUMsc0JBQXNCO0lBQ3RCQyxnREFBU0EsQ0FBQztRQUNSLElBQUlZLGFBQWE7WUFDZkUsZUFBZUYsWUFBWUcsSUFBSTtZQUMvQkUsZ0JBQWdCTCxZQUFZTSxJQUFJO1lBQ2hDRSxlQUFlUixZQUFZTyxXQUFXLElBQUk7WUFDMUNHLFFBQVFWLFlBQVlTLElBQUksSUFBSSxFQUFFO1FBQ2hDO0lBQ0YsR0FBRztRQUFDVDtLQUFZO0lBRWhCLE1BQU1nQixhQUFhO1FBQ2pCLElBQUksQ0FBQ2YsWUFB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MENBQTBDLEVBQ3BEbEMsaUJBQWlCRSxRQUFRLENBQUNPLHNCQUN0QiwwREFDQSx3RUFDTCxDQUFDO3NFQUVEUDsyREFaSUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQXlCckIsOERBQUMrQjtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDOUMsa0RBQU1BO2dDQUNMMkUsU0FBUTtnQ0FDUjFCLFNBQVM1QztnQ0FDVHlDLFdBQVU7MENBQ1g7Ozs7OzswQ0FHRCw4REFBQzlDLGtEQUFNQTtnQ0FDTGlELFNBQVN6QjtnQ0FDVG9ELFVBQVUsQ0FBQ25FLFlBQVlnQixJQUFJO2dDQUMzQnFCLFdBQVU7MENBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRYiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlaXl1YW4tYWkvLi9jb21wb25lbnRzL1NhdmVQcm9qZWN0TW9kYWwudHN4PzM4YjkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgWCwgVXBsb2FkLCBJbWFnZSBhcyBJbWFnZUljb24sIFNhdmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vdWkvQnV0dG9uJ1xuaW1wb3J0IElucHV0IGZyb20gJy4vdWkvSW5wdXQnXG5cbmludGVyZmFjZSBTYXZlUHJvamVjdE1vZGFsUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW5cbiAgb25DbG9zZTogKCkgPT4gdm9pZFxuICBvblNhdmU6IChwcm9qZWN0RGF0YTogeyBuYW1lOiBzdHJpbmc7IGljb246IHN0cmluZzsgZGVzY3JpcHRpb24/OiBzdHJpbmc7IHRhZ3M/OiBzdHJpbmdbXSB9KSA9PiB2b2lkXG4gIGRlZmF1bHROYW1lPzogc3RyaW5nXG4gIHByb2plY3REYXRhPzogeyBuYW1lOiBzdHJpbmc7IGljb246IHN0cmluZzsgZGVzY3JpcHRpb24/OiBzdHJpbmc7IHRhZ3M/OiBzdHJpbmdbXSB9XG59XG5cbmNvbnN0IGRlZmF1bHRJY29ucyA9IFtcbiAgJ/CfjqgnLCAn8J+WvO+4jycsICfwn5OQJywgJ+Kcj++4jycsICfwn46vJywgJ/CfjJ8nLCAn8J+SoScsICfwn5OKJyxcbiAgJ/CflIQnLCAn8J+OqicsICfwn5OdJywgJ/CflI0nLCAn8J+TjCcsICfwn5ONJywgJ/CflovvuI8nLCAn8J+Tjidcbl1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2F2ZVByb2plY3RNb2RhbCh7IGlzT3Blbiwgb25DbG9zZSwgb25TYXZlLCBkZWZhdWx0TmFtZSA9ICcnLCBwcm9qZWN0RGF0YSB9OiBTYXZlUHJvamVjdE1vZGFsUHJvcHMpIHtcbiAgY29uc3QgW3Byb2plY3ROYW1lLCBzZXRQcm9qZWN0TmFtZV0gPSB1c2VTdGF0ZShwcm9qZWN0RGF0YT8ubmFtZSB8fCBkZWZhdWx0TmFtZSlcbiAgY29uc3QgW3NlbGVjdGVkSWNvbiwgc2V0U2VsZWN0ZWRJY29uXSA9IHVzZVN0YXRlKHByb2plY3REYXRhPy5pY29uIHx8ICfwn46oJylcbiAgY29uc3QgW2Rlc2NyaXB0aW9uLCBzZXREZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZShwcm9qZWN0RGF0YT8uZGVzY3JpcHRpb24gfHwgJycpXG4gIGNvbnN0IFt0YWdzLCBzZXRUYWdzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihwcm9qZWN0RGF0YT8udGFncyB8fCBbXSlcbiAgY29uc3QgW2N1c3RvbUljb24sIHNldEN1c3RvbUljb25dID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtzaG93Q3VzdG9tSWNvbklucHV0LCBzZXRTaG93Q3VzdG9tSWNvbklucHV0XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbClcblxuICAvLyDlvZNwcm9qZWN0RGF0YeWPmOWMluaXtuabtOaWsOihqOWNlVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm9qZWN0RGF0YSkge1xuICAgICAgc2V0UHJvamVjdE5hbWUocHJvamVjdERhdGEubmFtZSlcbiAgICAgIHNldFNlbGVjdGVkSWNvbihwcm9qZWN0RGF0YS5pY29uKVxuICAgICAgc2V0RGVzY3JpcHRpb24ocHJvamVjdERhdGEuZGVzY3JpcHRpb24gfHwgJycpXG4gICAgICBzZXRUYWdzKHByb2plY3REYXRhLnRhZ3MgfHwgW10pXG4gICAgfVxuICB9LCBbcHJvamVjdERhdGFdKVxuXG4gIGNvbnN0IGhhbmRsZVNhdmUgPSAoKSA9PiB7XG4gICAgaWYgKCFwcm9qZWN0TmFtZS50cmltKCkpIHtcbiAgICAgIGFsZXJ0KCfor7fovpPlhaXpobnnm67lkI3np7AnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgaWNvblRvVXNlID0gc2hvd0N1c3RvbUljb25JbnB1dCAmJiBjdXN0b21JY29uID8gY3VzdG9tSWNvbiA6IHNlbGVjdGVkSWNvblxuICAgIFxuICAgIG9uU2F2ZSh7XG4gICAgICBuYW1lOiBwcm9qZWN0TmFtZS50cmltKCksXG4gICAgICBpY29uOiBpY29uVG9Vc2UsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24udHJpbSgpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHRhZ3M6IHRhZ3MubGVuZ3RoID4gMCA/IHRhZ3MgOiB1bmRlZmluZWRcbiAgICB9KVxuICAgIFxuICAgIC8vIOmHjee9ruihqOWNlVxuICAgIHNldFByb2plY3ROYW1lKCcnKVxuICAgIHNldFNlbGVjdGVkSWNvbign8J+OqCcpXG4gICAgc2V0RGVzY3JpcHRpb24oJycpXG4gICAgc2V0VGFncyhbXSlcbiAgICBzZXRDdXN0b21JY29uKCcnKVxuICAgIHNldFNob3dDdXN0b21JY29uSW5wdXQoZmFsc2UpXG4gIH1cblxuICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXM/LlswXVxuICAgIGlmICghZmlsZSkgcmV0dXJuXG5cbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICBjb25zdCBpbWFnZURhdGEgPSBlLnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZ1xuICAgICAgc2V0Q3VzdG9tSWNvbihpbWFnZURhdGEpXG4gICAgICBzZXRTaG93Q3VzdG9tSWNvbklucHV0KHRydWUpXG4gICAgfVxuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpXG4gIH1cblxuICBjb25zdCBoYW5kbGVDdXN0b21JY29uQ2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKGZpbGVJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC5jbGljaygpXG4gICAgfVxuICB9XG5cbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MCBwLTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLTJ4bCBzaGFkb3cteGwgdy1mdWxsIG1heC13LW1kIG1heC1oLVs4NXZoXSBvdmVyZmxvdy1oaWRkZW4gZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICB7Lyog5aS06YOoICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBwLTYgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgPFNhdmUgY2xhc3NOYW1lPVwiaC02IHctNiB0ZXh0LWJsdWUtNjAwXCIgLz5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAg5L+d5a2Y55S75p2/5Li66aG555uuXG4gICAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIOWGheWuueWMuuWfnyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgb3ZlcmZsb3cteS1hdXRvIGZsZXgtMSBtYXgtaC1bY2FsYyg4NXZoLTE2MHB4KV1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgey8qIOmhueebruWQjeensCAqL31cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICDpobnnm67lkI3np7AgKlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvamVjdE5hbWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9qZWN0TmFtZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLor7fovpPlhaXpobnnm67lkI3np7BcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIOmhueebruaPj+i/sCAqL31cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICDpobnnm67mj4/ov7DvvIjlj6/pgInvvIlcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Rlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVzY3JpcHRpb24oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl6aG555uu5o+P6L+wLi4uXCJcbiAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQgYmctd2hpdGUgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSByZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIOmhueebruagh+etviAqL31cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICDpobnnm67moIfnrb7vvIjlj6/pgInvvIlcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi6L6T5YWl5qCH562+77yM55SoI+WIhumalO+8iOS+i+Wmgu+8miPliJvmhI8gI+eUu+adv+S9nOWTgSAj6K6+6K6h77yJXCJcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17dGFncy5tYXAodGFnID0+IGAjJHt0YWd9YCkuam9pbignICcpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vIOS9v+eUqOato+WImeihqOi+vuW8j+WMuemFjeaJgOaciSPlvIDlpLTnmoTmoIfnrb5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnTWF0Y2hlcyA9IGlucHV0VmFsdWUubWF0Y2goLyNbXiNcXHNdKy9nKSB8fCBbXVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWdzID0gdGFnTWF0Y2hlcy5tYXAodGFnID0+IHRhZy5zdWJzdHJpbmcoMSkudHJpbSgpKS5maWx0ZXIodGFnID0+IHRhZylcbiAgICAgICAgICAgICAgICAgICAgc2V0VGFncyh0YWdzKVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAg5qCH562+5bCG5pi+56S65Zyo6aG555uu5Y2h54mH5Lit77yM5biu5Yqp5YiG57G75ZKM57uE57uH6aG555uuXG4gICAgICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIOagvOW8j+aPkOekuu+8muS9v+eUqCAjIOespuWPt+W8gOWktO+8jOWkmuS4quagh+etvueUqOepuuagvOWIhumalFxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGRhcms6dGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICDkvovlpoLvvJoj5Yib5oSPICPnlLvmnb/kvZzlk4EgI+iuvuiuoVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7Lyog6aG555uu5Zu+5qCHICovfVxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItM1wiPlxuICAgICAgICAgICAgICAgIOmhueebruWbvuagh1xuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgey8qIOiHquWumuS5ieWbvuagh+S4iuS8oCAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUN1c3RvbUljb25DbGlja31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlci0yIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgICAgc2hvd0N1c3RvbUljb25JbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCBob3Zlcjpib3JkZXItZ3JheS00MDAgZGFyazpob3Zlcjpib3JkZXItZ3JheS01MDAnXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+5LiK5Lyg5Zu+5qCHPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7c2hvd0N1c3RvbUljb25JbnB1dCAmJiBjdXN0b21JY29uICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggcm91bmRlZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtjdXN0b21JY29ufSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwi6Ieq5a6a5LmJ5Zu+5qCHXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPuW3suS4iuS8oDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiDpu5jorqTlm77moIfpgInmi6kgKi99XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtOCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICB7ZGVmYXVsdEljb25zLm1hcCgoaWNvbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRJY29uKGljb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dDdXN0b21JY29uSW5wdXQoZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbUljb24oJycpXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHJvdW5kZWQtbGcgdGV4dC0yeGwgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJY29uID09PSBpY29uICYmICFzaG93Q3VzdG9tSWNvbklucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS0xMDAgZGFyazpiZy1ibHVlLTkwMCBib3JkZXItMiBib3JkZXItYmx1ZS01MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTIwMCBkYXJrOmhvdmVyOmJnLWdyYXktNjAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2ljb259XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Lyog5bqV6YOo5pON5L2c5oyJ6ZKuICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTcwMCBweC02IHB5LTQgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmQgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIOWPlua2iFxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhdmV9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshcHJvamVjdE5hbWUudHJpbSgpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg5L+d5a2Y6aG555uuXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIlgiLCJVcGxvYWQiLCJTYXZlIiwiQnV0dG9uIiwiSW5wdXQiLCJkZWZhdWx0SWNvbnMiLCJTYXZlUHJvamVjdE1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU2F2ZSIsImRlZmF1bHROYW1lIiwicHJvamVjdERhdGEiLCJwcm9qZWN0TmFtZSIsInNldFByb2plY3ROYW1lIiwibmFtZSIsInNlbGVjdGVkSWNvbiIsInNldFNlbGVjdGVkSWNvbiIsImljb24iLCJkZXNjcmlwdGlvbiIsInNldERlc2NyaXB0aW9uIiwidGFncyIsInNldFRhZ3MiLCJjdXN0b21JY29uIiwic2V0Q3VzdG9tSWNvbiIsInNob3dDdXN0b21JY29uSW5wdXQiLCJzZXRTaG93Q3VzdG9tSWNvbklucHV0IiwiZmlsZUlucHV0UmVmIiwiaGFuZGxlU2F2ZSIsInRyaW0iLCJhbGVydCIsImljb25Ub1VzZSIsInVuZGVmaW5lZCIsImxlbmd0aCIsImhhbmRsZUZpbGVVcGxvYWQiLCJldmVudCIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJlIiwiaW1hZ2VEYXRhIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImhhbmRsZUN1c3RvbUljb25DbGljayIsImN1cnJlbnQiLCJjbGljayIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImxhYmVsIiwidmFsdWUiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwidGV4dGFyZWEiLCJyb3dzIiwiaW5wdXQiLCJ0eXBlIiwiZGVmYXVsdFZhbHVlIiwibWFwIiwidGFnIiwiam9pbiIsIm9uQmx1ciIsImlucHV0VmFsdWUiLCJ0YWdNYXRjaGVzIiwibWF0Y2giLCJzdWJzdHJpbmciLCJmaWx0ZXIiLCJiciIsInNwYW4iLCJyZWYiLCJhY2NlcHQiLCJpbWciLCJzcmMiLCJhbHQiLCJ2YXJpYW50IiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/SaveProjectModal.tsx\n");

/***/ }),

/***/ "(ssr)/./components/SelectionPanel.tsx":
/*!***************************************!*\
  !*** ./components/SelectionPanel.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SelectionPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction SelectionPanel({ selectedArea, onGenerateImage, onCaptureArea, onReceiveScreenshot, onClearSelection }) {\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [panelPosition, setPanelPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        left: 0,\n        top: 0\n    });\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    console.log(\"SelectionPanel 渲染，selectedArea:\", selectedArea);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) return;\n        if (!selectedArea) {\n            setIsVisible(false);\n            return;\n        }\n        const { screenPosition } = selectedArea;\n        console.log(\"SelectionPanel: 鼠标屏幕位置:\", screenPosition);\n        // 直接使用鼠标的屏幕位置计算面板位置\n        const calculatePanelPosition = ()=>{\n            const panelWidth = 60;\n            const panelHeight = 30;\n            // 使用鼠标的屏幕位置\n            const screenX = screenPosition.x;\n            const screenY = screenPosition.y;\n            // 面板位置在鼠标最后位置附近\n            let panelLeft = screenX + 10;\n            let panelTop = screenY + 10;\n            // 边界检查 - 如果超出屏幕右侧，调整到鼠标位置左侧\n            if (panelLeft + panelWidth > window.innerWidth) {\n                panelLeft = Math.max(10, screenX - panelWidth - 10);\n            }\n            // 边界检查 - 如果超出屏幕底部，调整到鼠标位置上方\n            if (panelTop + panelHeight > window.innerHeight) {\n                panelTop = Math.max(10, screenY - panelHeight - 10);\n            }\n            // 确保位置不会超出屏幕边界\n            panelLeft = Math.max(10, Math.min(panelLeft, window.innerWidth - panelWidth - 10));\n            panelTop = Math.max(10, Math.min(panelTop, window.innerHeight - panelHeight - 10));\n            console.log(\"SelectionPanel: 鼠标屏幕位置:\", {\n                screenX,\n                screenY\n            });\n            console.log(\"SelectionPanel: 面板最终位置:\", {\n                panelLeft,\n                panelTop\n            });\n            return {\n                left: panelLeft,\n                top: panelTop\n            };\n        };\n        const position = calculatePanelPosition();\n        setPanelPosition(position);\n        setIsVisible(true);\n    }, [\n        selectedArea\n    ]);\n    // 如果不显示面板，直接返回null\n    if (!isVisible) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50\",\n        style: {\n            left: `${panelPosition.left}px`,\n            top: `${panelPosition.top}px`,\n            width: \"60px\",\n            padding: \"6px\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: async ()=>{\n                if (!selectedArea) return;\n                setIsGenerating(true);\n                // 先截图\n                const imageData = await onCaptureArea();\n                if (imageData) {\n                    // 发送截图到AI创作助手的输入区域左侧\n                    if (onReceiveScreenshot) {\n                        const { left, top } = selectedArea.rect;\n                        onReceiveScreenshot(imageData, `基于选择区域生成图片，位置: (${left.toFixed(0)}, ${top.toFixed(0)})`);\n                    }\n                    // 然后生成图片\n                    const { left, top } = selectedArea.rect;\n                    onGenerateImage(`基于选择区域生成图片，位置: (${left.toFixed(0)}, ${top.toFixed(0)})`, \"stable-diffusion\");\n                }\n                setIsGenerating(false);\n                // 操作完成后隐藏面板和清除框选\n                setIsVisible(false);\n                onClearSelection?.();\n            },\n            disabled: isGenerating,\n            className: \"w-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 py-1 px-2 rounded text-xs font-medium hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: isGenerating ? \"...\" : \"生图\"\n        }, void 0, false, {\n            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SelectionPanel.tsx\",\n            lineNumber: 91,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/SelectionPanel.tsx\",\n        lineNumber: 82,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL1NlbGVjdGlvblBhbmVsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFMkM7QUFpQjVCLFNBQVNFLGVBQWUsRUFBRUMsWUFBWSxFQUFFQyxlQUFlLEVBQUVDLGFBQWEsRUFBRUMsbUJBQW1CLEVBQUVDLGdCQUFnQixFQUF1QjtJQUNqSixNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHVCwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNVLGVBQWVDLGlCQUFpQixHQUFHWCwrQ0FBUUEsQ0FBQztRQUFFWSxNQUFNO1FBQUdDLEtBQUs7SUFBRTtJQUNyRSxNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBR2YsK0NBQVFBLENBQUM7SUFFM0NnQixRQUFRQyxHQUFHLENBQUMsbUNBQW1DZDtJQUUvQ0YsZ0RBQVNBLENBQUM7UUFDUixJQUFJLElBQWtCLEVBQWE7UUFFbkMsSUFBSSxDQUFDRSxjQUFjO1lBQ2pCWSxhQUFhO1lBQ2I7UUFDRjtRQUVBLE1BQU0sRUFBRUcsY0FBYyxFQUFFLEdBQUdmO1FBRTNCYSxRQUFRQyxHQUFHLENBQUMsMkJBQTJCQztRQUV2QyxvQkFBb0I7UUFDcEIsTUFBTUMseUJBQXlCO1lBQzdCLE1BQU1DLGFBQWE7WUFDbkIsTUFBTUMsY0FBYztZQUVwQixZQUFZO1lBQ1osTUFBTUMsVUFBVUosZUFBZUssQ0FBQztZQUNoQyxNQUFNQyxVQUFVTixlQUFlTyxDQUFDO1lBRWhDLGdCQUFnQjtZQUNoQixJQUFJQyxZQUFZSixVQUFVO1lBQzFCLElBQUlLLFdBQVdILFVBQVU7WUFFekIsNEJBQTRCO1lBQzVCLElBQUlFLFlBQVlOLGFBQWFRLE9BQU9DLFVBQVUsRUFBRTtnQkFDOUNILFlBQVlJLEtBQUtDLEdBQUcsQ0FBQyxJQUFJVCxVQUFVRixhQUFhO1lBQ2xEO1lBRUEsNEJBQTRCO1lBQzVCLElBQUlPLFdBQVdOLGNBQWNPLE9BQU9JLFdBQVcsRUFBRTtnQkFDL0NMLFdBQVdHLEtBQUtDLEdBQUcsQ0FBQyxJQUFJUCxVQUFVSCxjQUFjO1lBQ2xEO1lBRUEsZUFBZTtZQUNmSyxZQUFZSSxLQUFLQyxHQUFHLENBQUMsSUFBSUQsS0FBS0csR0FBRyxDQUFDUCxXQUFXRSxPQUFPQyxVQUFVLEdBQUdULGFBQWE7WUFDOUVPLFdBQVdHLEtBQUtDLEdBQUcsQ0FBQyxJQUFJRCxLQUFLRyxHQUFHLENBQUNOLFVBQVVDLE9BQU9JLFdBQVcsR0FBR1gsY0FBYztZQUU5RUwsUUFBUUMsR0FBRyxDQUFDLDJCQUEyQjtnQkFBRUs7Z0JBQVNFO1lBQVE7WUFDMURSLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkI7Z0JBQUVTO2dCQUFXQztZQUFTO1lBQzdELE9BQU87Z0JBQUVmLE1BQU1jO2dCQUFXYixLQUFLYztZQUFTO1FBQzFDO1FBRUEsTUFBTU8sV0FBV2Y7UUFDakJSLGlCQUFpQnVCO1FBQ2pCbkIsYUFBYTtJQUNmLEdBQUc7UUFBQ1o7S0FBYTtJQUVqQixtQkFBbUI7SUFDbkIsSUFBSSxDQUFDVyxXQUFXO1FBQ2QsT0FBTztJQUNUO0lBRUEscUJBQ0UsOERBQUNxQjtRQUNDQyxXQUFVO1FBQ1ZDLE9BQU87WUFDTHpCLE1BQU0sQ0FBQyxFQUFFRixjQUFjRSxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQy9CQyxLQUFLLENBQUMsRUFBRUgsY0FBY0csR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUM3QnlCLE9BQU87WUFDUEMsU0FBUztRQUNYO2tCQUVBLDRFQUFDQztZQUNDQyxTQUFTO2dCQUNQLElBQUksQ0FBQ3RDLGNBQWM7Z0JBRW5CTSxnQkFBZ0I7Z0JBQ2hCLE1BQU07Z0JBQ04sTUFBTWlDLFlBQVksTUFBTXJDO2dCQUN4QixJQUFJcUMsV0FBVztvQkFDYixxQkFBcUI7b0JBQ3JCLElBQUlwQyxxQkFBcUI7d0JBQ3ZCLE1BQU0sRUFBRU0sSUFBSSxFQUFFQyxHQUFHLEVBQUUsR0FBR1YsYUFBYXdDLElBQUk7d0JBQ3ZDckMsb0JBQW9Cb0MsV0FBVyxDQUFDLGdCQUFnQixFQUFFOUIsS0FBS2dDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRS9CLElBQUkrQixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ3pGO29CQUNBLFNBQVM7b0JBQ1QsTUFBTSxFQUFFaEMsSUFBSSxFQUFFQyxHQUFHLEVBQUUsR0FBR1YsYUFBYXdDLElBQUk7b0JBQ3ZDdkMsZ0JBQWdCLENBQUMsZ0JBQWdCLEVBQUVRLEtBQUtnQyxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUUvQixJQUFJK0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7Z0JBQzVFO2dCQUNBbkMsZ0JBQWdCO2dCQUNoQixpQkFBaUI7Z0JBQ2pCTSxhQUFhO2dCQUNiUjtZQUNGO1lBQ0FzQyxVQUFVckM7WUFDVjRCLFdBQVU7c0JBRVQ1QixlQUFlLFFBQVE7Ozs7Ozs7Ozs7O0FBSWhDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VpeXVhbi1haS8uL2NvbXBvbmVudHMvU2VsZWN0aW9uUGFuZWwudHN4PzQ4MjYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuaW50ZXJmYWNlIFNlbGVjdGlvbkRhdGEge1xuICByZWN0OiBhbnlcbiAgbW91c2VQb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9XG4gIHNjcmVlblBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1cbn1cblxuaW50ZXJmYWNlIFNlbGVjdGlvblBhbmVsUHJvcHMge1xuICBzZWxlY3RlZEFyZWE6IFNlbGVjdGlvbkRhdGEgfCBudWxsXG4gIG9uR2VuZXJhdGVJbWFnZTogKHByb21wdDogc3RyaW5nLCBtb2RlbDogc3RyaW5nKSA9PiB2b2lkXG4gIG9uR2VuZXJhdGVWaWRlbzogKHByb21wdDogc3RyaW5nLCBtb2RlbDogc3RyaW5nKSA9PiB2b2lkXG4gIG9uQ2FwdHVyZUFyZWE6ICgpID0+IFByb21pc2U8c3RyaW5nIHwgbnVsbD5cbiAgb25SZWNlaXZlU2NyZWVuc2hvdD86IChpbWFnZURhdGE6IHN0cmluZywgcHJvbXB0OiBzdHJpbmcpID0+IHZvaWRcbiAgb25DbGVhclNlbGVjdGlvbj86ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VsZWN0aW9uUGFuZWwoeyBzZWxlY3RlZEFyZWEsIG9uR2VuZXJhdGVJbWFnZSwgb25DYXB0dXJlQXJlYSwgb25SZWNlaXZlU2NyZWVuc2hvdCwgb25DbGVhclNlbGVjdGlvbiB9OiBTZWxlY3Rpb25QYW5lbFByb3BzKSB7XG4gIGNvbnN0IFtpc0dlbmVyYXRpbmcsIHNldElzR2VuZXJhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3BhbmVsUG9zaXRpb24sIHNldFBhbmVsUG9zaXRpb25dID0gdXNlU3RhdGUoeyBsZWZ0OiAwLCB0b3A6IDAgfSlcbiAgY29uc3QgW2lzVmlzaWJsZSwgc2V0SXNWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnNvbGUubG9nKCdTZWxlY3Rpb25QYW5lbCDmuLLmn5PvvIxzZWxlY3RlZEFyZWE6Jywgc2VsZWN0ZWRBcmVhKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cbiAgICBcbiAgICBpZiAoIXNlbGVjdGVkQXJlYSkge1xuICAgICAgc2V0SXNWaXNpYmxlKGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgeyBzY3JlZW5Qb3NpdGlvbiB9ID0gc2VsZWN0ZWRBcmVhXG4gICAgXG4gICAgY29uc29sZS5sb2coJ1NlbGVjdGlvblBhbmVsOiDpvKDmoIflsY/luZXkvY3nva46Jywgc2NyZWVuUG9zaXRpb24pXG4gICAgXG4gICAgLy8g55u05o6l5L2/55So6byg5qCH55qE5bGP5bmV5L2N572u6K6h566X6Z2i5p2/5L2N572uXG4gICAgY29uc3QgY2FsY3VsYXRlUGFuZWxQb3NpdGlvbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSA2MFxuICAgICAgY29uc3QgcGFuZWxIZWlnaHQgPSAzMFxuICAgICAgXG4gICAgICAvLyDkvb/nlKjpvKDmoIfnmoTlsY/luZXkvY3nva5cbiAgICAgIGNvbnN0IHNjcmVlblggPSBzY3JlZW5Qb3NpdGlvbi54XG4gICAgICBjb25zdCBzY3JlZW5ZID0gc2NyZWVuUG9zaXRpb24ueVxuICAgICAgXG4gICAgICAvLyDpnaLmnb/kvY3nva7lnKjpvKDmoIfmnIDlkI7kvY3nva7pmYTov5FcbiAgICAgIGxldCBwYW5lbExlZnQgPSBzY3JlZW5YICsgMTBcbiAgICAgIGxldCBwYW5lbFRvcCA9IHNjcmVlblkgKyAxMFxuICAgICAgXG4gICAgICAvLyDovrnnlYzmo4Dmn6UgLSDlpoLmnpzotoXlh7rlsY/luZXlj7PkvqfvvIzosIPmlbTliLDpvKDmoIfkvY3nva7lt6bkvqdcbiAgICAgIGlmIChwYW5lbExlZnQgKyBwYW5lbFdpZHRoID4gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgICAgcGFuZWxMZWZ0ID0gTWF0aC5tYXgoMTAsIHNjcmVlblggLSBwYW5lbFdpZHRoIC0gMTApXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOi+ueeVjOajgOafpSAtIOWmguaenOi2heWHuuWxj+W5leW6lemDqO+8jOiwg+aVtOWIsOm8oOagh+S9jee9ruS4iuaWuVxuICAgICAgaWYgKHBhbmVsVG9wICsgcGFuZWxIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgcGFuZWxUb3AgPSBNYXRoLm1heCgxMCwgc2NyZWVuWSAtIHBhbmVsSGVpZ2h0IC0gMTApXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOehruS/neS9jee9ruS4jeS8mui2heWHuuWxj+W5lei+ueeVjFxuICAgICAgcGFuZWxMZWZ0ID0gTWF0aC5tYXgoMTAsIE1hdGgubWluKHBhbmVsTGVmdCwgd2luZG93LmlubmVyV2lkdGggLSBwYW5lbFdpZHRoIC0gMTApKVxuICAgICAgcGFuZWxUb3AgPSBNYXRoLm1heCgxMCwgTWF0aC5taW4ocGFuZWxUb3AsIHdpbmRvdy5pbm5lckhlaWdodCAtIHBhbmVsSGVpZ2h0IC0gMTApKVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnU2VsZWN0aW9uUGFuZWw6IOm8oOagh+Wxj+W5leS9jee9rjonLCB7IHNjcmVlblgsIHNjcmVlblkgfSlcbiAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3Rpb25QYW5lbDog6Z2i5p2/5pyA57uI5L2N572uOicsIHsgcGFuZWxMZWZ0LCBwYW5lbFRvcCB9KVxuICAgICAgcmV0dXJuIHsgbGVmdDogcGFuZWxMZWZ0LCB0b3A6IHBhbmVsVG9wIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgcG9zaXRpb24gPSBjYWxjdWxhdGVQYW5lbFBvc2l0aW9uKClcbiAgICBzZXRQYW5lbFBvc2l0aW9uKHBvc2l0aW9uKVxuICAgIHNldElzVmlzaWJsZSh0cnVlKVxuICB9LCBbc2VsZWN0ZWRBcmVhXSlcblxuICAvLyDlpoLmnpzkuI3mmL7npLrpnaLmnb/vvIznm7TmjqXov5Tlm55udWxsXG4gIGlmICghaXNWaXNpYmxlKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCByb3VuZGVkLWxnIHNoYWRvdy1sZyB6LTUwXCJcbiAgICAgIHN0eWxlPXt7IFxuICAgICAgICBsZWZ0OiBgJHtwYW5lbFBvc2l0aW9uLmxlZnR9cHhgLCBcbiAgICAgICAgdG9wOiBgJHtwYW5lbFBvc2l0aW9uLnRvcH1weGAsXG4gICAgICAgIHdpZHRoOiAnNjBweCcsXG4gICAgICAgIHBhZGRpbmc6ICc2cHgnXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGlmICghc2VsZWN0ZWRBcmVhKSByZXR1cm5cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSlcbiAgICAgICAgICAvLyDlhYjmiKrlm75cbiAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBhd2FpdCBvbkNhcHR1cmVBcmVhKClcbiAgICAgICAgICBpZiAoaW1hZ2VEYXRhKSB7XG4gICAgICAgICAgICAvLyDlj5HpgIHmiKrlm77liLBBSeWIm+S9nOWKqeaJi+eahOi+k+WFpeWMuuWfn+W3puS+p1xuICAgICAgICAgICAgaWYgKG9uUmVjZWl2ZVNjcmVlbnNob3QpIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBsZWZ0LCB0b3AgfSA9IHNlbGVjdGVkQXJlYS5yZWN0XG4gICAgICAgICAgICAgIG9uUmVjZWl2ZVNjcmVlbnNob3QoaW1hZ2VEYXRhLCBg5Z+65LqO6YCJ5oup5Yy65Z+f55Sf5oiQ5Zu+54mH77yM5L2N572uOiAoJHtsZWZ0LnRvRml4ZWQoMCl9LCAke3RvcC50b0ZpeGVkKDApfSlgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g54S25ZCO55Sf5oiQ5Zu+54mHXG4gICAgICAgICAgICBjb25zdCB7IGxlZnQsIHRvcCB9ID0gc2VsZWN0ZWRBcmVhLnJlY3RcbiAgICAgICAgICAgIG9uR2VuZXJhdGVJbWFnZShg5Z+65LqO6YCJ5oup5Yy65Z+f55Sf5oiQ5Zu+54mH77yM5L2N572uOiAoJHtsZWZ0LnRvRml4ZWQoMCl9LCAke3RvcC50b0ZpeGVkKDApfSlgLCAnc3RhYmxlLWRpZmZ1c2lvbicpXG4gICAgICAgICAgfVxuICAgICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSlcbiAgICAgICAgICAvLyDmk43kvZzlrozmiJDlkI7pmpDol4/pnaLmnb/lkozmuIXpmaTmoYbpgIlcbiAgICAgICAgICBzZXRJc1Zpc2libGUoZmFsc2UpXG4gICAgICAgICAgb25DbGVhclNlbGVjdGlvbj8uKClcbiAgICAgICAgfX1cbiAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZ31cbiAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsdWUtMTAwIGRhcms6YmctYmx1ZS05MDAgdGV4dC1ibHVlLTcwMCBkYXJrOnRleHQtYmx1ZS0zMDAgcHktMSBweC0yIHJvdW5kZWQgdGV4dC14cyBmb250LW1lZGl1bSBob3ZlcjpiZy1ibHVlLTIwMCBkYXJrOmhvdmVyOmJnLWJsdWUtODAwIHRyYW5zaXRpb24tY29sb3JzIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgID5cbiAgICAgICAge2lzR2VuZXJhdGluZyA/ICcuLi4nIDogJ+eUn+Wbvid9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlNlbGVjdGlvblBhbmVsIiwic2VsZWN0ZWRBcmVhIiwib25HZW5lcmF0ZUltYWdlIiwib25DYXB0dXJlQXJlYSIsIm9uUmVjZWl2ZVNjcmVlbnNob3QiLCJvbkNsZWFyU2VsZWN0aW9uIiwiaXNHZW5lcmF0aW5nIiwic2V0SXNHZW5lcmF0aW5nIiwicGFuZWxQb3NpdGlvbiIsInNldFBhbmVsUG9zaXRpb24iLCJsZWZ0IiwidG9wIiwiaXNWaXNpYmxlIiwic2V0SXNWaXNpYmxlIiwiY29uc29sZSIsImxvZyIsInNjcmVlblBvc2l0aW9uIiwiY2FsY3VsYXRlUGFuZWxQb3NpdGlvbiIsInBhbmVsV2lkdGgiLCJwYW5lbEhlaWdodCIsInNjcmVlblgiLCJ4Iiwic2NyZWVuWSIsInkiLCJwYW5lbExlZnQiLCJwYW5lbFRvcCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJNYXRoIiwibWF4IiwiaW5uZXJIZWlnaHQiLCJtaW4iLCJwb3NpdGlvbiIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwid2lkdGgiLCJwYWRkaW5nIiwiYnV0dG9uIiwib25DbGljayIsImltYWdlRGF0YSIsInJlY3QiLCJ0b0ZpeGVkIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/SelectionPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/TextToolPanel.tsx":
/*!**************************************!*\
  !*** ./components/TextToolPanel.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TextToolPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignLeft_AlignRight_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignLeft,AlignRight!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/align-left.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignLeft_AlignRight_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignLeft,AlignRight!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/align-center.js\");\n/* harmony import */ var _barrel_optimize_names_AlignCenter_AlignLeft_AlignRight_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=AlignCenter,AlignLeft,AlignRight!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/align-right.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n// 动态获取 fabric 对象，确保在客户端运行时才使用\nconst getFabric = ()=>{\n    if (false) {}\n    return undefined;\n};\nfunction TextToolPanel({ canvas, isVisible, onClose, position }) {\n    const [fontSize, setFontSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(20);\n    const [fontColor, setFontColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"#000000\");\n    const [fontFamily, setFontFamily] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Arial\");\n    const [textAlign, setTextAlign] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"left\");\n    const panelRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // 点击外部关闭面板\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (panelRef.current && !panelRef.current.contains(event.target)) {\n                onClose();\n            }\n        };\n        if (isVisible) {\n            document.addEventListener(\"mousedown\", handleClickOutside);\n        }\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        isVisible,\n        onClose\n    ]);\n    // 应用文字样式到当前选中的文字对象\n    const applyTextStyle = ()=>{\n        const fabric = getFabric();\n        console.log(\"applyTextStyle called - fabric:\", fabric, \"canvas:\", canvas);\n        if (!canvas || !fabric) {\n            console.log(\"applyTextStyle: canvas or fabric not available\");\n            return;\n        }\n        const activeObject = canvas.getActiveObject();\n        console.log(\"Active object:\", activeObject);\n        if (activeObject && activeObject.type === \"textbox\") {\n            const textObject = activeObject;\n            textObject.set({\n                fontSize,\n                fill: fontColor,\n                fontFamily,\n                textAlign\n            });\n            canvas.renderAll();\n            console.log(\"Text style applied successfully\");\n        } else {\n            console.log(\"No textbox object selected\");\n        }\n        onClose();\n    };\n    // 添加新文字到画布\n    const addTextToCanvas = ()=>{\n        const fabric = getFabric();\n        console.log(\"addTextToCanvas called - fabric:\", fabric, \"canvas:\", canvas);\n        if (!canvas || !fabric) {\n            console.log(\"addTextToCanvas: canvas or fabric not available\");\n            return;\n        }\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        try {\n            // 使用fabric.Textbox替代fabric.IText（Fabric.js 6.x版本）\n            const text = new fabric.Textbox(\"双击编辑文字\", {\n                left: centerX - 100,\n                top: centerY - 10,\n                fontFamily,\n                fontSize,\n                fill: fontColor,\n                textAlign,\n                editable: true\n            });\n            canvas.add(text);\n            canvas.setActiveObject(text);\n            canvas.renderAll();\n            console.log(\"Text added successfully\");\n        } catch (error) {\n            console.error(\"Error adding text to canvas:\", error);\n        }\n        onClose();\n    };\n    const fontFamilies = [\n        \"Arial\",\n        \"Helvetica\",\n        \"Times New Roman\",\n        \"Georgia\",\n        \"Verdana\",\n        \"Courier New\",\n        \"Impact\",\n        \"Comic Sans MS\",\n        \"Trebuchet MS\",\n        \"Lucida Sans Unicode\"\n    ];\n    if (!isVisible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: panelRef,\n        className: \"absolute bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-50\",\n        style: {\n            left: `${position.left}px`,\n            top: `${position.top}px`,\n            width: \"180px\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center mb-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                        className: \"text-sm font-semibold text-gray-900\",\n                        children: \"文字工具\"\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                        lineNumber: 136,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        className: \"text-gray-500 hover:text-gray-700 text-lg\",\n                        children: \"\\xd7\"\n                    }, void 0, false, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                        lineNumber: 137,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                lineNumber: 135,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-xs font-medium text-gray-700 mb-1\",\n                                children: \"文字大小\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 148,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"range\",\n                                        min: \"8\",\n                                        max: \"72\",\n                                        value: fontSize,\n                                        onChange: (e)=>setFontSize(Number(e.target.value)),\n                                        className: \"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                        lineNumber: 150,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-600 w-8\",\n                                        children: [\n                                            fontSize,\n                                            \"px\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                        lineNumber: 158,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 149,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                        lineNumber: 147,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-xs font-medium text-gray-700 mb-1\",\n                                children: \"文字颜色\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 164,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"color\",\n                                value: fontColor,\n                                onChange: (e)=>setFontColor(e.target.value),\n                                className: \"w-full h-8 rounded border border-gray-300 cursor-pointer\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 165,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                        lineNumber: 163,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-xs font-medium text-gray-700 mb-1\",\n                                children: \"文字字体\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 175,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                value: fontFamily,\n                                onChange: (e)=>setFontFamily(e.target.value),\n                                className: \"w-full p-2 border border-gray-300 rounded text-sm\",\n                                children: fontFamilies.map((font)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: font,\n                                        children: font\n                                    }, font, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                        lineNumber: 182,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 176,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                        lineNumber: 174,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"block text-xs font-medium text-gray-700 mb-1\",\n                                children: \"文字对齐\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 189,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex space-x-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setTextAlign(\"left\"),\n                                        className: `flex-1 p-2 rounded border ${textAlign === \"left\" ? \"bg-blue-500 text-white border-blue-500\" : \"border-gray-300 text-gray-600 hover:bg-gray-50\"}`,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignLeft_AlignRight_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            className: \"h-4 w-4 mx-auto\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                            lineNumber: 199,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                        lineNumber: 191,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setTextAlign(\"center\"),\n                                        className: `flex-1 p-2 rounded border ${textAlign === \"center\" ? \"bg-blue-500 text-white border-blue-500\" : \"border-gray-300 text-gray-600 hover:bg-gray-50\"}`,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignLeft_AlignRight_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            className: \"h-4 w-4 mx-auto\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                            lineNumber: 209,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                        lineNumber: 201,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setTextAlign(\"right\"),\n                                        className: `flex-1 p-2 rounded border ${textAlign === \"right\" ? \"bg-blue-500 text-white border-blue-500\" : \"border-gray-300 text-gray-600 hover:bg-gray-50\"}`,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlignCenter_AlignLeft_AlignRight_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            className: \"h-4 w-4 mx-auto\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                            lineNumber: 219,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                        lineNumber: 211,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 190,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                        lineNumber: 188,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex space-x-2 pt-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: applyTextStyle,\n                                className: \"flex-1 bg-blue-500 text-white py-2 px-3 rounded text-sm font-medium hover:bg-blue-600 transition-colors\",\n                                children: \"应用\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 226,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: addTextToCanvas,\n                                className: \"flex-1 bg-green-500 text-white py-2 px-3 rounded text-sm font-medium hover:bg-green-600 transition-colors\",\n                                children: \"添加\"\n                            }, void 0, false, {\n                                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                                lineNumber: 232,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n                lineNumber: 145,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/TextToolPanel.tsx\",\n        lineNumber: 126,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNDLElBQU1qRCxjQUFjaUQsRUFBRXpDLE1BQU0sQ0FBQ3VDLEtBQUs7Z0NBQzdDVCxXQUFVOzBDQUVUSCxhQUFha0IsR0FBRyxDQUFDQyxDQUFBQSxxQkFDaEIsOERBQUNDO3dDQUFrQlIsT0FBT087a0RBQU9BO3VDQUFwQkE7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBTW5CLDhEQUFDbEI7OzBDQUNDLDhEQUFDTztnQ0FBTUwsV0FBVTswQ0FBK0M7Ozs7OzswQ0FDaEUsOERBQUNGO2dDQUFJRSxXQUFVOztrREFDYiw4REFBQ0c7d0NBQ0NDLFNBQVMsSUFBTXhDLGFBQWE7d0NBQzVCb0MsV0FBVyxDQUFDLDBCQUEwQixFQUNwQ3JDLGNBQWMsU0FDViwyQ0FDQSxpREFDTCxDQUFDO2tEQUVGLDRFQUFDbEIsNEdBQVNBOzRDQUFDdUQsV0FBVTs7Ozs7Ozs7Ozs7a0RBRXZCLDhEQUFDRzt3Q0FDQ0MsU0FBUyxJQUFNeEMsYUFBYTt3Q0FDNUJvQyxXQUFXLENBQUMsMEJBQTBCLEVBQ3BDckMsY0FBYyxXQUNWLDJDQUNBLGlEQUNMLENBQUM7a0RBRUYsNEVBQUNqQiw0R0FBV0E7NENBQUNzRCxXQUFVOzs7Ozs7Ozs7OztrREFFekIsOERBQUNHO3dDQUNDQyxTQUFTLElBQU14QyxhQUFhO3dDQUM1Qm9DLFdBQVcsQ0FBQywwQkFBMEIsRUFDcENyQyxjQUFjLFVBQ1YsMkNBQ0EsaURBQ0wsQ0FBQztrREFFRiw0RUFBQ2hCLDRHQUFVQTs0Q0FBQ3FELFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQU01Qiw4REFBQ0Y7d0JBQUlFLFdBQVU7OzBDQUNiLDhEQUFDRztnQ0FDQ0MsU0FBUzlCO2dDQUNUMEIsV0FBVTswQ0FDWDs7Ozs7OzBDQUdELDhEQUFDRztnQ0FDQ0MsU0FBU3BCO2dDQUNUZ0IsV0FBVTswQ0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWl5dWFuLWFpLy4vY29tcG9uZW50cy9UZXh0VG9vbFBhbmVsLnRzeD81ZDY0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEFsaWduTGVmdCwgQWxpZ25DZW50ZXIsIEFsaWduUmlnaHQgfSBmcm9tICdsdWNpZGUtcmVhY3QnXG5cbi8vIOWKqOaAgeiOt+WPliBmYWJyaWMg5a+56LGh77yM56Gu5L+d5Zyo5a6i5oi356uv6L+Q6KGM5pe25omN5L2/55SoXG5jb25zdCBnZXRGYWJyaWMgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAod2luZG93IGFzIGFueSkuZmFicmljXG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5pbnRlcmZhY2UgVGV4dFRvb2xQYW5lbFByb3BzIHtcbiAgY2FudmFzOiBhbnlcbiAgaXNWaXNpYmxlOiBib29sZWFuXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWRcbiAgcG9zaXRpb246IHsgbGVmdDogbnVtYmVyOyB0b3A6IG51bWJlciB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRleHRUb29sUGFuZWwoeyBjYW52YXMsIGlzVmlzaWJsZSwgb25DbG9zZSwgcG9zaXRpb24gfTogVGV4dFRvb2xQYW5lbFByb3BzKSB7XG4gIGNvbnN0IFtmb250U2l6ZSwgc2V0Rm9udFNpemVdID0gdXNlU3RhdGUoMjApXG4gIGNvbnN0IFtmb250Q29sb3IsIHNldEZvbnRDb2xvcl0gPSB1c2VTdGF0ZSgnIzAwMDAwMCcpXG4gIGNvbnN0IFtmb250RmFtaWx5LCBzZXRGb250RmFtaWx5XSA9IHVzZVN0YXRlKCdBcmlhbCcpXG4gIGNvbnN0IFt0ZXh0QWxpZ24sIHNldFRleHRBbGlnbl0gPSB1c2VTdGF0ZTwnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCc+KCdsZWZ0JylcbiAgY29uc3QgcGFuZWxSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgLy8g54K55Ye75aSW6YOo5YWz6Zet6Z2i5p2/XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAocGFuZWxSZWYuY3VycmVudCAmJiAhcGFuZWxSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgb25DbG9zZSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzVmlzaWJsZSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKVxuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpXG4gICAgfVxuICB9LCBbaXNWaXNpYmxlLCBvbkNsb3NlXSlcblxuICAvLyDlupTnlKjmloflrZfmoLflvI/liLDlvZPliY3pgInkuK3nmoTmloflrZflr7nosaFcbiAgY29uc3QgYXBwbHlUZXh0U3R5bGUgPSAoKSA9PiB7XG4gICAgY29uc3QgZmFicmljID0gZ2V0RmFicmljKClcbiAgICBjb25zb2xlLmxvZygnYXBwbHlUZXh0U3R5bGUgY2FsbGVkIC0gZmFicmljOicsIGZhYnJpYywgJ2NhbnZhczonLCBjYW52YXMpXG4gICAgaWYgKCFjYW52YXMgfHwgIWZhYnJpYykge1xuICAgICAgY29uc29sZS5sb2coJ2FwcGx5VGV4dFN0eWxlOiBjYW52YXMgb3IgZmFicmljIG5vdCBhdmFpbGFibGUnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlT2JqZWN0ID0gY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpXG4gICAgY29uc29sZS5sb2coJ0FjdGl2ZSBvYmplY3Q6JywgYWN0aXZlT2JqZWN0KVxuICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICd0ZXh0Ym94Jykge1xuICAgICAgY29uc3QgdGV4dE9iamVjdCA9IGFjdGl2ZU9iamVjdCBhcyBhbnlcbiAgICAgIFxuICAgICAgdGV4dE9iamVjdC5zZXQoe1xuICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgZmlsbDogZm9udENvbG9yLFxuICAgICAgICBmb250RmFtaWx5LFxuICAgICAgICB0ZXh0QWxpZ24sXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjYW52YXMucmVuZGVyQWxsKClcbiAgICAgIGNvbnNvbGUubG9nKCdUZXh0IHN0eWxlIGFwcGxpZWQgc3VjY2Vzc2Z1bGx5JylcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ05vIHRleHRib3ggb2JqZWN0IHNlbGVjdGVkJylcbiAgICB9XG4gICAgXG4gICAgb25DbG9zZSgpXG4gIH1cblxuICAvLyDmt7vliqDmlrDmloflrZfliLDnlLvluINcbiAgY29uc3QgYWRkVGV4dFRvQ2FudmFzID0gKCkgPT4ge1xuICAgIGNvbnN0IGZhYnJpYyA9IGdldEZhYnJpYygpXG4gICAgY29uc29sZS5sb2coJ2FkZFRleHRUb0NhbnZhcyBjYWxsZWQgLSBmYWJyaWM6JywgZmFicmljLCAnY2FudmFzOicsIGNhbnZhcylcbiAgICBpZiAoIWNhbnZhcyB8fCAhZmFicmljKSB7XG4gICAgICBjb25zb2xlLmxvZygnYWRkVGV4dFRvQ2FudmFzOiBjYW52YXMgb3IgZmFicmljIG5vdCBhdmFpbGFibGUnKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgY2VudGVyWCA9IGNhbnZhcy53aWR0aCEgLyAyXG4gICAgY29uc3QgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQhIC8gMlxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIOS9v+eUqGZhYnJpYy5UZXh0Ym945pu/5LujZmFicmljLklUZXh077yIRmFicmljLmpzIDYueOeJiOacrO+8iVxuICAgICAgY29uc3QgdGV4dCA9IG5ldyBmYWJyaWMuVGV4dGJveCgn5Y+M5Ye757yW6L6R5paH5a2XJywge1xuICAgICAgICBsZWZ0OiBjZW50ZXJYIC0gMTAwLFxuICAgICAgICB0b3A6IGNlbnRlclkgLSAxMCxcbiAgICAgICAgZm9udEZhbWlseSxcbiAgICAgICAgZm9udFNpemUsXG4gICAgICAgIGZpbGw6IGZvbnRDb2xvcixcbiAgICAgICAgdGV4dEFsaWduLFxuICAgICAgICBlZGl0YWJsZTogdHJ1ZVxuICAgICAgfSlcblxuICAgICAgY2FudmFzLmFkZCh0ZXh0KVxuICAgICAgY2FudmFzLnNldEFjdGl2ZU9iamVjdCh0ZXh0KVxuICAgICAgY2FudmFzLnJlbmRlckFsbCgpXG4gICAgICBjb25zb2xlLmxvZygnVGV4dCBhZGRlZCBzdWNjZXNzZnVsbHknKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgdGV4dCB0byBjYW52YXM6JywgZXJyb3IpXG4gICAgfVxuICAgIFxuICAgIG9uQ2xvc2UoKVxuICB9XG5cbiAgY29uc3QgZm9udEZhbWlsaWVzID0gW1xuICAgICdBcmlhbCcsXG4gICAgJ0hlbHZldGljYScsXG4gICAgJ1RpbWVzIE5ldyBSb21hbicsXG4gICAgJ0dlb3JnaWEnLFxuICAgICdWZXJkYW5hJyxcbiAgICAnQ291cmllciBOZXcnLFxuICAgICdJbXBhY3QnLFxuICAgICdDb21pYyBTYW5zIE1TJyxcbiAgICAnVHJlYnVjaGV0IE1TJyxcbiAgICAnTHVjaWRhIFNhbnMgVW5pY29kZSdcbiAgXVxuXG4gIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIHJlZj17cGFuZWxSZWZ9XG4gICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtMyB6LTUwXCJcbiAgICAgIHN0eWxlPXt7IFxuICAgICAgICBsZWZ0OiBgJHtwb3NpdGlvbi5sZWZ0fXB4YCwgXG4gICAgICAgIHRvcDogYCR7cG9zaXRpb24udG9wfXB4YCxcbiAgICAgICAgd2lkdGg6ICcxODBweCdcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItM1wiPlxuICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj7mloflrZflt6Xlhbc8L2g0PlxuICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHRleHQtbGdcIlxuICAgICAgICA+XG4gICAgICAgICAgw5dcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgey8qIOaWh+Wtl+Wkp+WwjyAqL31cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj7mloflrZflpKflsI88L2xhYmVsPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgbWluPVwiOFwiXG4gICAgICAgICAgICAgIG1heD1cIjcyXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2ZvbnRTaXplfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZvbnRTaXplKE51bWJlcihlLnRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgaC0yIGJnLWdyYXktMjAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdy04XCI+e2ZvbnRTaXplfXB4PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Lyog5paH5a2X6aKc6ImyICovfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPuaWh+Wtl+minOiJsjwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiY29sb3JcIlxuICAgICAgICAgICAgdmFsdWU9e2ZvbnRDb2xvcn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Rm9udENvbG9yKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTggcm91bmRlZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7Lyog5paH5a2X5a2X5L2TICovfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPuaWh+Wtl+Wtl+S9kzwvbGFiZWw+XG4gICAgICAgICAgPHNlbGVjdCBcbiAgICAgICAgICAgIHZhbHVlPXtmb250RmFtaWx5fVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGb250RmFtaWx5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHRleHQtc21cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtmb250RmFtaWxpZXMubWFwKGZvbnQgPT4gKFxuICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Zm9udH0gdmFsdWU9e2ZvbnR9Pntmb250fTwvb3B0aW9uPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiDmloflrZflr7npvZAgKi99XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0xXCI+5paH5a2X5a+56b2QPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0xXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFRleHRBbGlnbignbGVmdCcpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcC0yIHJvdW5kZWQgYm9yZGVyICR7XG4gICAgICAgICAgICAgICAgdGV4dEFsaWduID09PSAnbGVmdCcgXG4gICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIGJvcmRlci1ibHVlLTUwMCcgXG4gICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0zMDAgdGV4dC1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTUwJ1xuICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEFsaWduTGVmdCBjbGFzc05hbWU9XCJoLTQgdy00IG14LWF1dG9cIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFRleHRBbGlnbignY2VudGVyJyl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBwLTIgcm91bmRlZCBib3JkZXIgJHtcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ24gPT09ICdjZW50ZXInIFxuICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBib3JkZXItYmx1ZS01MDAnIFxuICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWdyYXktMzAwIHRleHQtZ3JheS02MDAgaG92ZXI6YmctZ3JheS01MCdcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxBbGlnbkNlbnRlciBjbGFzc05hbWU9XCJoLTQgdy00IG14LWF1dG9cIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFRleHRBbGlnbigncmlnaHQnKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHAtMiByb3VuZGVkIGJvcmRlciAke1xuICAgICAgICAgICAgICAgIHRleHRBbGlnbiA9PT0gJ3JpZ2h0JyBcbiAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNTAwIHRleHQtd2hpdGUgYm9yZGVyLWJsdWUtNTAwJyBcbiAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTMwMCB0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktNTAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8QWxpZ25SaWdodCBjbGFzc05hbWU9XCJoLTQgdy00IG14LWF1dG9cIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiDmk43kvZzmjInpkq4gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTIgcHQtMVwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2FwcGx5VGV4dFN0eWxlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcHktMiBweC0zIHJvdW5kZWQgdGV4dC1zbSBmb250LW1lZGl1bSBob3ZlcjpiZy1ibHVlLTYwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAg5bqU55SoXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17YWRkVGV4dFRvQ2FudmFzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWdyZWVuLTUwMCB0ZXh0LXdoaXRlIHB5LTIgcHgtMyByb3VuZGVkIHRleHQtc20gZm9udC1tZWRpdW0gaG92ZXI6YmctZ3JlZW4tNjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDmt7vliqBcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIkFsaWduTGVmdCIsIkFsaWduQ2VudGVyIiwiQWxpZ25SaWdodCIsImdldEZhYnJpYyIsIndpbmRvdyIsImZhYnJpYyIsInVuZGVmaW5lZCIsIlRleHRUb29sUGFuZWwiLCJjYW52YXMiLCJpc1Zpc2libGUiLCJvbkNsb3NlIiwicG9zaXRpb24iLCJmb250U2l6ZSIsInNldEZvbnRTaXplIiwiZm9udENvbG9yIiwic2V0Rm9udENvbG9yIiwiZm9udEZhbWlseSIsInNldEZvbnRGYW1pbHkiLCJ0ZXh0QWxpZ24iLCJzZXRUZXh0QWxpZ24iLCJwYW5lbFJlZiIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFwcGx5VGV4dFN0eWxlIiwiY29uc29sZSIsImxvZyIsImFjdGl2ZU9iamVjdCIsImdldEFjdGl2ZU9iamVjdCIsInR5cGUiLCJ0ZXh0T2JqZWN0Iiwic2V0IiwiZmlsbCIsInJlbmRlckFsbCIsImFkZFRleHRUb0NhbnZhcyIsImNlbnRlclgiLCJ3aWR0aCIsImNlbnRlclkiLCJoZWlnaHQiLCJ0ZXh0IiwiVGV4dGJveCIsImxlZnQiLCJ0b3AiLCJlZGl0YWJsZSIsImFkZCIsInNldEFjdGl2ZU9iamVjdCIsImVycm9yIiwiZm9udEZhbWlsaWVzIiwiZGl2IiwicmVmIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJoNCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJsYWJlbCIsImlucHV0IiwibWluIiwibWF4IiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJOdW1iZXIiLCJzcGFuIiwic2VsZWN0IiwibWFwIiwiZm9udCIsIm9wdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/TextToolPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/Button.tsx":
/*!**********************************!*\
  !*** ./components/ui/Button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Button)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction Button({ variant = \"primary\", size = \"md\", className = \"\", children, ...props }) {\n    const baseClasses = \"font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\";\n    const variantClasses = {\n        primary: \"bg-primary-600 hover:bg-primary-700 text-white\",\n        secondary: \"bg-gray-100 hover:bg-gray-200 text-gray-900\",\n        outline: \"border border-gray-300 hover:bg-gray-50 text-gray-700\"\n    };\n    const sizeClasses = {\n        sm: \"px-3 py-1.5 text-sm\",\n        md: \"px-4 py-2 text-sm\",\n        lg: \"px-6 py-3 text-base\"\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`,\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ui/Button.tsx\",\n        lineNumber: 31,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL0J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVFlLFNBQVNBLE9BQU8sRUFDN0JDLFVBQVUsU0FBUyxFQUNuQkMsT0FBTyxJQUFJLEVBQ1hDLFlBQVksRUFBRSxFQUNkQyxRQUFRLEVBQ1IsR0FBR0MsT0FDUztJQUNaLE1BQU1DLGNBQWM7SUFFcEIsTUFBTUMsaUJBQWlCO1FBQ3JCQyxTQUFTO1FBQ1RDLFdBQVc7UUFDWEMsU0FBUztJQUNYO0lBRUEsTUFBTUMsY0FBYztRQUNsQkMsSUFBSTtRQUNKQyxJQUFJO1FBQ0pDLElBQUk7SUFDTjtJQUVBLHFCQUNFLDhEQUFDQztRQUNDWixXQUFXLENBQUMsRUFBRUcsWUFBWSxDQUFDLEVBQUVDLGNBQWMsQ0FBQ04sUUFBUSxDQUFDLENBQUMsRUFBRVUsV0FBVyxDQUFDVCxLQUFLLENBQUMsQ0FBQyxFQUFFQyxVQUFVLENBQUM7UUFDdkYsR0FBR0UsS0FBSztrQkFFUkQ7Ozs7OztBQUdQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VpeXVhbi1haS8uL2NvbXBvbmVudHMvdWkvQnV0dG9uLnRzeD8xNWFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1dHRvbkhUTUxBdHRyaWJ1dGVzLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCdcblxuaW50ZXJmYWNlIEJ1dHRvblByb3BzIGV4dGVuZHMgQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+IHtcbiAgdmFyaWFudD86ICdwcmltYXJ5JyB8ICdzZWNvbmRhcnknIHwgJ291dGxpbmUnXG4gIHNpemU/OiAnc20nIHwgJ21kJyB8ICdsZydcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCdXR0b24oeyBcbiAgdmFyaWFudCA9ICdwcmltYXJ5JywgXG4gIHNpemUgPSAnbWQnLCBcbiAgY2xhc3NOYW1lID0gJycsXG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wcyBcbn06IEJ1dHRvblByb3BzKSB7XG4gIGNvbnN0IGJhc2VDbGFzc2VzID0gJ2ZvbnQtbWVkaXVtIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LTUwMCBmb2N1czpyaW5nLW9mZnNldC0yJ1xuICBcbiAgY29uc3QgdmFyaWFudENsYXNzZXMgPSB7XG4gICAgcHJpbWFyeTogJ2JnLXByaW1hcnktNjAwIGhvdmVyOmJnLXByaW1hcnktNzAwIHRleHQtd2hpdGUnLFxuICAgIHNlY29uZGFyeTogJ2JnLWdyYXktMTAwIGhvdmVyOmJnLWdyYXktMjAwIHRleHQtZ3JheS05MDAnLFxuICAgIG91dGxpbmU6ICdib3JkZXIgYm9yZGVyLWdyYXktMzAwIGhvdmVyOmJnLWdyYXktNTAgdGV4dC1ncmF5LTcwMCdcbiAgfVxuICBcbiAgY29uc3Qgc2l6ZUNsYXNzZXMgPSB7XG4gICAgc206ICdweC0zIHB5LTEuNSB0ZXh0LXNtJyxcbiAgICBtZDogJ3B4LTQgcHktMiB0ZXh0LXNtJyxcbiAgICBsZzogJ3B4LTYgcHktMyB0ZXh0LWJhc2UnXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT17YCR7YmFzZUNsYXNzZXN9ICR7dmFyaWFudENsYXNzZXNbdmFyaWFudF19ICR7c2l6ZUNsYXNzZXNbc2l6ZV19ICR7Y2xhc3NOYW1lfWB9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvYnV0dG9uPlxuICApXG59Il0sIm5hbWVzIjpbIkJ1dHRvbiIsInZhcmlhbnQiLCJzaXplIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJwcm9wcyIsImJhc2VDbGFzc2VzIiwidmFyaWFudENsYXNzZXMiLCJwcmltYXJ5Iiwic2Vjb25kYXJ5Iiwib3V0bGluZSIsInNpemVDbGFzc2VzIiwic20iLCJtZCIsImxnIiwiYnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/Button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/Input.tsx":
/*!*********************************!*\
  !*** ./components/ui/Input.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Input)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction Input({ label, error, className = \"\", ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full\",\n        children: [\n            label && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: label\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ui/Input.tsx\",\n                lineNumber: 12,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                className: `w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${error ? \"border-red-500\" : \"\"} ${className}`,\n                ...props\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ui/Input.tsx\",\n                lineNumber: 16,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: \"mt-1 text-sm text-red-600\",\n                children: error\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ui/Input.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/components/ui/Input.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL0lucHV0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT2UsU0FBU0EsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsWUFBWSxFQUFFLEVBQUUsR0FBR0MsT0FBbUI7SUFDbEYscUJBQ0UsOERBQUNDO1FBQUlGLFdBQVU7O1lBQ1pGLHVCQUNDLDhEQUFDQTtnQkFBTUUsV0FBVTswQkFDZEY7Ozs7OzswQkFHTCw4REFBQ0s7Z0JBQ0NILFdBQVcsQ0FBQyxxSkFBcUosRUFDL0pELFFBQVEsbUJBQW1CLEdBQzVCLENBQUMsRUFBRUMsVUFBVSxDQUFDO2dCQUNkLEdBQUdDLEtBQUs7Ozs7OztZQUVWRix1QkFDQyw4REFBQ0s7Z0JBQUVKLFdBQVU7MEJBQTZCRDs7Ozs7Ozs7Ozs7O0FBSWxEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VpeXVhbi1haS8uL2NvbXBvbmVudHMvdWkvSW5wdXQudHN4P2I4MzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5wdXRIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3JlYWN0J1xuXG5pbnRlcmZhY2UgSW5wdXRQcm9wcyBleHRlbmRzIElucHV0SFRNTEF0dHJpYnV0ZXM8SFRNTElucHV0RWxlbWVudD4ge1xuICBsYWJlbD86IHN0cmluZ1xuICBlcnJvcj86IHN0cmluZ1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbnB1dCh7IGxhYmVsLCBlcnJvciwgY2xhc3NOYW1lID0gJycsIC4uLnByb3BzIH06IElucHV0UHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbFwiPlxuICAgICAge2xhYmVsICYmIChcbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAge2xhYmVsfVxuICAgICAgICA8L2xhYmVsPlxuICAgICAgKX1cbiAgICAgIDxpbnB1dFxuICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50IHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgZXJyb3IgPyAnYm9yZGVyLXJlZC01MDAnIDogJydcbiAgICAgICAgfSAke2NsYXNzTmFtZX1gfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPntlcnJvcn08L3A+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbIklucHV0IiwibGFiZWwiLCJlcnJvciIsImNsYXNzTmFtZSIsInByb3BzIiwiZGl2IiwiaW5wdXQiLCJwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/Input.tsx\n");

/***/ }),

/***/ "(ssr)/./stores/userStore.ts":
/*!*****************************!*\
  !*** ./stores/userStore.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeTheme: () => (/* binding */ initializeTheme),\n/* harmony export */   initializeUserInfo: () => (/* binding */ initializeUserInfo),\n/* harmony export */   useUserStore: () => (/* binding */ useUserStore)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ \"(ssr)/./node_modules/zustand/esm/index.mjs\");\n/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand/middleware */ \"(ssr)/./node_modules/zustand/esm/middleware.mjs\");\n\n\nconst useUserStore = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_1__.persist)((set, get)=>({\n        userInfo: null,\n        theme: \"light\",\n        language: \"zh\",\n        setTheme: (theme)=>{\n            set({\n                theme\n            });\n            // 立即应用到document\n            if (typeof document !== \"undefined\") {\n                if (theme === \"dark\") {\n                    document.documentElement.classList.add(\"dark\");\n                    document.documentElement.setAttribute(\"data-theme\", \"dark\");\n                } else {\n                    document.documentElement.classList.remove(\"dark\");\n                    document.documentElement.setAttribute(\"data-theme\", \"light\");\n                }\n            }\n        },\n        setLanguage: (language)=>{\n            set({\n                language\n            });\n        },\n        updatePoints: (points)=>{\n            const currentUserInfo = get().userInfo;\n            if (currentUserInfo) {\n                set({\n                    userInfo: {\n                        ...currentUserInfo,\n                        points: Math.max(0, points)\n                    }\n                });\n            }\n        },\n        setUserInfo: (userInfo)=>{\n            set({\n                userInfo\n            });\n        },\n        clearUserInfo: ()=>{\n            console.log(\"清除用户信息\");\n            set({\n                userInfo: null\n            });\n            // 强制清除持久化存储\n            if (false) {}\n        }\n    }), {\n    name: \"user-storage\",\n    partialize: (state)=>({\n            userInfo: state.userInfo,\n            theme: state.theme,\n            language: state.language\n        })\n}));\n// 初始化用户信息（模拟数据）\nconst initializeUserInfo = (user)=>{\n    const userStore = useUserStore.getState();\n    if (!userStore.userInfo && user) {\n        userStore.setUserInfo({\n            id: user.id,\n            email: user.email,\n            username: user.username,\n            avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${user.username}`,\n            points: 1000,\n            createdAt: user.createdAt\n        });\n    }\n};\n// 初始化主题状态\nconst initializeTheme = ()=>{\n    const userStore = useUserStore.getState();\n    // 确保主题在客户端正确应用\n    if (typeof document !== \"undefined\") {\n        if (userStore.theme === \"dark\") {\n            document.documentElement.classList.add(\"dark\");\n            document.documentElement.setAttribute(\"data-theme\", \"dark\");\n        } else {\n            document.documentElement.classList.remove(\"dark\");\n            document.documentElement.setAttribute(\"data-theme\", \"light\");\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zdG9yZXMvdXNlclN0b3JlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWdDO0FBQ1k7QUFzQnJDLE1BQU1FLGVBQWVGLCtDQUFNQSxHQUNoQ0MsMkRBQU9BLENBQ0wsQ0FBQ0UsS0FBS0MsTUFBUztRQUNiQyxVQUFVO1FBQ1ZDLE9BQU87UUFDUEMsVUFBVTtRQUVWQyxVQUFVLENBQUNGO1lBQ1RILElBQUk7Z0JBQUVHO1lBQU07WUFDWixnQkFBZ0I7WUFDaEIsSUFBSSxPQUFPRyxhQUFhLGFBQWE7Z0JBQ25DLElBQUlILFVBQVUsUUFBUTtvQkFDcEJHLFNBQVNDLGVBQWUsQ0FBQ0MsU0FBUyxDQUFDQyxHQUFHLENBQUM7b0JBQ3ZDSCxTQUFTQyxlQUFlLENBQUNHLFlBQVksQ0FBQyxjQUFjO2dCQUN0RCxPQUFPO29CQUNMSixTQUFTQyxlQUFlLENBQUNDLFNBQVMsQ0FBQ0csTUFBTSxDQUFDO29CQUMxQ0wsU0FBU0MsZUFBZSxDQUFDRyxZQUFZLENBQUMsY0FBYztnQkFDdEQ7WUFDRjtRQUNGO1FBRUFFLGFBQWEsQ0FBQ1I7WUFDWkosSUFBSTtnQkFBRUk7WUFBUztRQUNqQjtRQUVBUyxjQUFjLENBQUNDO1lBQ2IsTUFBTUMsa0JBQWtCZCxNQUFNQyxRQUFRO1lBQ3RDLElBQUlhLGlCQUFpQjtnQkFDbkJmLElBQUk7b0JBQ0ZFLFVBQVU7d0JBQ1IsR0FBR2EsZUFBZTt3QkFDbEJELFFBQVFFLEtBQUtDLEdBQUcsQ0FBQyxHQUFHSDtvQkFDdEI7Z0JBQ0Y7WUFDRjtRQUNGO1FBRUFJLGFBQWEsQ0FBQ2hCO1lBQ1pGLElBQUk7Z0JBQUVFO1lBQVM7UUFDakI7UUFFQWlCLGVBQWU7WUFDYkMsUUFBUUMsR0FBRyxDQUFDO1lBQ1pyQixJQUFJO2dCQUFFRSxVQUFVO1lBQUs7WUFDckIsWUFBWTtZQUNaLElBQUksS0FBa0IsRUFBYSxFQUdsQztRQUNIO0lBQ0YsSUFDQTtJQUNFdUIsTUFBTTtJQUNOQyxZQUFZLENBQUNDLFFBQVc7WUFDdEJ6QixVQUFVeUIsTUFBTXpCLFFBQVE7WUFDeEJDLE9BQU93QixNQUFNeEIsS0FBSztZQUNsQkMsVUFBVXVCLE1BQU12QixRQUFRO1FBQzFCO0FBQ0YsSUFFSDtBQUVELGdCQUFnQjtBQUNULE1BQU13QixxQkFBcUIsQ0FBQ0M7SUFDakMsTUFBTUMsWUFBWS9CLGFBQWFnQyxRQUFRO0lBQ3ZDLElBQUksQ0FBQ0QsVUFBVTVCLFFBQVEsSUFBSTJCLE1BQU07UUFDL0JDLFVBQVVaLFdBQVcsQ0FBQztZQUNwQmMsSUFBSUgsS0FBS0csRUFBRTtZQUNYQyxPQUFPSixLQUFLSSxLQUFLO1lBQ2pCQyxVQUFVTCxLQUFLSyxRQUFRO1lBQ3ZCQyxRQUFRLENBQUMsZ0RBQWdELEVBQUVOLEtBQUtLLFFBQVEsQ0FBQyxDQUFDO1lBQzFFcEIsUUFBUTtZQUNSc0IsV0FBV1AsS0FBS08sU0FBUztRQUMzQjtJQUNGO0FBQ0YsRUFBQztBQUVELFVBQVU7QUFDSCxNQUFNQyxrQkFBa0I7SUFDN0IsTUFBTVAsWUFBWS9CLGFBQWFnQyxRQUFRO0lBQ3ZDLGVBQWU7SUFDZixJQUFJLE9BQU96QixhQUFhLGFBQWE7UUFDbkMsSUFBSXdCLFVBQVUzQixLQUFLLEtBQUssUUFBUTtZQUM5QkcsU0FBU0MsZUFBZSxDQUFDQyxTQUFTLENBQUNDLEdBQUcsQ0FBQztZQUN2Q0gsU0FBU0MsZUFBZSxDQUFDRyxZQUFZLENBQUMsY0FBYztRQUN0RCxPQUFPO1lBQ0xKLFNBQVNDLGVBQWUsQ0FBQ0MsU0FBUyxDQUFDRyxNQUFNLENBQUM7WUFDMUNMLFNBQVNDLGVBQWUsQ0FBQ0csWUFBWSxDQUFDLGNBQWM7UUFDdEQ7SUFDRjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWl5dWFuLWFpLy4vc3RvcmVzL3VzZXJTdG9yZS50cz9hZWU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnXG5pbXBvcnQgeyBwZXJzaXN0IH0gZnJvbSAnenVzdGFuZC9taWRkbGV3YXJlJ1xuXG5pbnRlcmZhY2UgVXNlckluZm8ge1xuICBpZDogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgdXNlcm5hbWU6IHN0cmluZ1xuICBhdmF0YXI6IHN0cmluZ1xuICBwb2ludHM6IG51bWJlclxuICBjcmVhdGVkQXQ6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgVXNlclN0YXRlIHtcbiAgdXNlckluZm86IFVzZXJJbmZvIHwgbnVsbFxuICB0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJ1xuICBsYW5ndWFnZTogJ3poJyB8ICdlbidcbiAgc2V0VGhlbWU6ICh0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJykgPT4gdm9pZFxuICBzZXRMYW5ndWFnZTogKGxhbmd1YWdlOiAnemgnIHwgJ2VuJykgPT4gdm9pZFxuICB1cGRhdGVQb2ludHM6IChwb2ludHM6IG51bWJlcikgPT4gdm9pZFxuICBzZXRVc2VySW5mbzogKHVzZXJJbmZvOiBVc2VySW5mbykgPT4gdm9pZFxuICBjbGVhclVzZXJJbmZvOiAoKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBjb25zdCB1c2VVc2VyU3RvcmUgPSBjcmVhdGU8VXNlclN0YXRlPigpKFxuICBwZXJzaXN0KFxuICAgIChzZXQsIGdldCkgPT4gKHtcbiAgICAgIHVzZXJJbmZvOiBudWxsLFxuICAgICAgdGhlbWU6ICdsaWdodCcsXG4gICAgICBsYW5ndWFnZTogJ3poJyxcbiAgICAgIFxuICAgICAgc2V0VGhlbWU6ICh0aGVtZSkgPT4ge1xuICAgICAgICBzZXQoeyB0aGVtZSB9KVxuICAgICAgICAvLyDnq4vljbPlupTnlKjliLBkb2N1bWVudFxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGlmICh0aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2RhcmsnKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2xpZ2h0JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcbiAgICAgIHNldExhbmd1YWdlOiAobGFuZ3VhZ2UpID0+IHtcbiAgICAgICAgc2V0KHsgbGFuZ3VhZ2UgfSlcbiAgICAgIH0sXG4gICAgICBcbiAgICAgIHVwZGF0ZVBvaW50czogKHBvaW50cykgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VXNlckluZm8gPSBnZXQoKS51c2VySW5mb1xuICAgICAgICBpZiAoY3VycmVudFVzZXJJbmZvKSB7XG4gICAgICAgICAgc2V0KHtcbiAgICAgICAgICAgIHVzZXJJbmZvOiB7XG4gICAgICAgICAgICAgIC4uLmN1cnJlbnRVc2VySW5mbyxcbiAgICAgICAgICAgICAgcG9pbnRzOiBNYXRoLm1heCgwLCBwb2ludHMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFxuICAgICAgc2V0VXNlckluZm86ICh1c2VySW5mbykgPT4ge1xuICAgICAgICBzZXQoeyB1c2VySW5mbyB9KVxuICAgICAgfSxcbiAgICAgIFxuICAgICAgY2xlYXJVc2VySW5mbzogKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn5riF6Zmk55So5oi35L+h5oGvJylcbiAgICAgICAgc2V0KHsgdXNlckluZm86IG51bGwgfSlcbiAgICAgICAgLy8g5by65Yi25riF6Zmk5oyB5LmF5YyW5a2Y5YKoXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyLXN0b3JhZ2UnKVxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXItc3RvcmFnZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICB7XG4gICAgICBuYW1lOiAndXNlci1zdG9yYWdlJyxcbiAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgdXNlckluZm86IHN0YXRlLnVzZXJJbmZvLFxuICAgICAgICB0aGVtZTogc3RhdGUudGhlbWUsXG4gICAgICAgIGxhbmd1YWdlOiBzdGF0ZS5sYW5ndWFnZVxuICAgICAgfSlcbiAgICB9XG4gIClcbilcblxuLy8g5Yid5aeL5YyW55So5oi35L+h5oGv77yI5qih5ouf5pWw5o2u77yJXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZVVzZXJJbmZvID0gKHVzZXI6IGFueSkgPT4ge1xuICBjb25zdCB1c2VyU3RvcmUgPSB1c2VVc2VyU3RvcmUuZ2V0U3RhdGUoKVxuICBpZiAoIXVzZXJTdG9yZS51c2VySW5mbyAmJiB1c2VyKSB7XG4gICAgdXNlclN0b3JlLnNldFVzZXJJbmZvKHtcbiAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgIGF2YXRhcjogYGh0dHBzOi8vYXBpLmRpY2ViZWFyLmNvbS83LngvYXZhdGFhYXJzL3N2Zz9zZWVkPSR7dXNlci51c2VybmFtZX1gLFxuICAgICAgcG9pbnRzOiAxMDAwLCAvLyDliJ3lp4vngrnmlbBcbiAgICAgIGNyZWF0ZWRBdDogdXNlci5jcmVhdGVkQXRcbiAgICB9KVxuICB9XG59XG5cbi8vIOWIneWni+WMluS4u+mimOeKtuaAgVxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVUaGVtZSA9ICgpID0+IHtcbiAgY29uc3QgdXNlclN0b3JlID0gdXNlVXNlclN0b3JlLmdldFN0YXRlKClcbiAgLy8g56Gu5L+d5Li76aKY5Zyo5a6i5oi356uv5q2j56Gu5bqU55SoXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHVzZXJTdG9yZS50aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpXG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2RhcmsnKVxuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpXG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgJ2xpZ2h0JylcbiAgICB9XG4gIH1cbn1cblxuLy8g5a+85Ye655So5oi35L+h5oGv57G75Z6LXG5leHBvcnQgdHlwZSB7IFVzZXJJbmZvIH0iXSwibmFtZXMiOlsiY3JlYXRlIiwicGVyc2lzdCIsInVzZVVzZXJTdG9yZSIsInNldCIsImdldCIsInVzZXJJbmZvIiwidGhlbWUiLCJsYW5ndWFnZSIsInNldFRoZW1lIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmUiLCJzZXRMYW5ndWFnZSIsInVwZGF0ZVBvaW50cyIsInBvaW50cyIsImN1cnJlbnRVc2VySW5mbyIsIk1hdGgiLCJtYXgiLCJzZXRVc2VySW5mbyIsImNsZWFyVXNlckluZm8iLCJjb25zb2xlIiwibG9nIiwibG9jYWxTdG9yYWdlIiwicmVtb3ZlSXRlbSIsInNlc3Npb25TdG9yYWdlIiwibmFtZSIsInBhcnRpYWxpemUiLCJzdGF0ZSIsImluaXRpYWxpemVVc2VySW5mbyIsInVzZXIiLCJ1c2VyU3RvcmUiLCJnZXRTdGF0ZSIsImlkIiwiZW1haWwiLCJ1c2VybmFtZSIsImF2YXRhciIsImNyZWF0ZWRBdCIsImluaXRpYWxpemVUaGVtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./stores/userStore.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"8395dd441e2b\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWl5dWFuLWFpLy4vYXBwL2dsb2JhbHMuY3NzPzAzMzEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI4Mzk1ZGQ0NDFlMmJcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/canvas/page.tsx":
/*!*****************************!*\
  !*** ./app/canvas/page.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/lixin/Desktop/weiyuan-ai/app/canvas/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _components_ClientThemeProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ClientThemeProvider */ \"(rsc)/./components/ClientThemeProvider.tsx\");\n\nconst metadata = {\n    title: \"WeiYuanAI\",\n    description: \"可视化AI创意工作台\"\n};\n\n\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"zh\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: \"antialiased\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ClientThemeProvider__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/layout.tsx\",\n                lineNumber: 13,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/layout.tsx\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/lixin/Desktop/weiyuan-ai/app/layout.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQU8sTUFBTUEsV0FBVztJQUN0QkMsT0FBTztJQUNQQyxhQUFhO0FBQ2YsRUFBQztBQUVxQjtBQUM0QztBQUVuRCxTQUFTRSxXQUFXLEVBQUVDLFFBQVEsRUFBaUM7SUFDNUUscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7a0JBQ1QsNEVBQUNDO1lBQUtDLFdBQVU7c0JBQ2QsNEVBQUNOLHVFQUFtQkE7MEJBQ2pCRTs7Ozs7Ozs7Ozs7Ozs7OztBQUtYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VpeXVhbi1haS8uL2FwcC9sYXlvdXQudHN4Pzk5ODgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IG1ldGFkYXRhID0ge1xuICB0aXRsZTogJ1dlaVl1YW5BSScsXG4gIGRlc2NyaXB0aW9uOiAn5Y+v6KeG5YyWQUnliJvmhI/lt6XkvZzlj7AnXG59XG5cbmltcG9ydCAnLi9nbG9iYWxzLmNzcydcbmltcG9ydCBDbGllbnRUaGVtZVByb3ZpZGVyIGZyb20gJ0AvY29tcG9uZW50cy9DbGllbnRUaGVtZVByb3ZpZGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8aHRtbCBsYW5nPVwiemhcIj5cbiAgICAgIDxib2R5IGNsYXNzTmFtZT1cImFudGlhbGlhc2VkXCI+XG4gICAgICAgIDxDbGllbnRUaGVtZVByb3ZpZGVyPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9DbGllbnRUaGVtZVByb3ZpZGVyPlxuICAgICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgKVxufSJdLCJuYW1lcyI6WyJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJDbGllbnRUaGVtZVByb3ZpZGVyIiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJib2R5IiwiY2xhc3NOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./components/ClientThemeProvider.tsx":
/*!********************************************!*\
  !*** ./components/ClientThemeProvider.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/lixin/Desktop/weiyuan-ai/components/ClientThemeProvider.tsx#default`));


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zustand","vendor-chunks/use-sync-external-store","vendor-chunks/@swc","vendor-chunks/lucide-react"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fcanvas%2Fpage&page=%2Fcanvas%2Fpage&appPaths=%2Fcanvas%2Fpage&pagePath=private-next-app-dir%2Fcanvas%2Fpage.tsx&appDir=%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Flixin%2FDesktop%2Fweiyuan-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();